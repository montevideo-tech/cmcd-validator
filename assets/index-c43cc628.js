(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(c){if(c.ep)return;c.ep=!0;const h=s(c);fetch(c.href,h)}})();var ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $b(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ol={},qb={get exports(){return ol},set exports(r){ol=r}},Xf={},Sn={},Xb={get exports(){return Sn},set exports(r){Sn=r}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=Symbol.for("react.element"),Yb=Symbol.for("react.portal"),Qb=Symbol.for("react.fragment"),Jb=Symbol.for("react.strict_mode"),Zb=Symbol.for("react.profiler"),eD=Symbol.for("react.provider"),tD=Symbol.for("react.context"),nD=Symbol.for("react.forward_ref"),iD=Symbol.for("react.suspense"),rD=Symbol.for("react.memo"),oD=Symbol.for("react.lazy"),w4=Symbol.iterator;function sD(r){return r===null||typeof r!="object"?null:(r=w4&&r[w4]||r["@@iterator"],typeof r=="function"?r:null)}var iI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rI=Object.assign,oI={};function fu(r,i,s){this.props=r,this.context=i,this.refs=oI,this.updater=s||iI}fu.prototype.isReactComponent={};fu.prototype.setState=function(r,i){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,i,"setState")};fu.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function sI(){}sI.prototype=fu.prototype;function Bv(r,i,s){this.props=r,this.context=i,this.refs=oI,this.updater=s||iI}var zv=Bv.prototype=new sI;zv.constructor=Bv;rI(zv,fu.prototype);zv.isPureReactComponent=!0;var A4=Array.isArray,uI=Object.prototype.hasOwnProperty,Vv={current:null},aI={key:!0,ref:!0,__self:!0,__source:!0};function lI(r,i,s){var a,c={},h=null,m=null;if(i!=null)for(a in i.ref!==void 0&&(m=i.ref),i.key!==void 0&&(h=""+i.key),i)uI.call(i,a)&&!aI.hasOwnProperty(a)&&(c[a]=i[a]);var g=arguments.length-2;if(g===1)c.children=s;else if(1<g){for(var S=Array(g),w=0;w<g;w++)S[w]=arguments[w+2];c.children=S}if(r&&r.defaultProps)for(a in g=r.defaultProps,g)c[a]===void 0&&(c[a]=g[a]);return{$$typeof:_l,type:r,key:h,ref:m,props:c,_owner:Vv.current}}function uD(r,i){return{$$typeof:_l,type:r.type,key:i,ref:r.ref,props:r.props,_owner:r._owner}}function Gv(r){return typeof r=="object"&&r!==null&&r.$$typeof===_l}function aD(r){var i={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(s){return i[s]})}var I4=/\/+/g;function Wg(r,i){return typeof r=="object"&&r!==null&&r.key!=null?aD(""+r.key):i.toString(36)}function Qd(r,i,s,a,c){var h=typeof r;(h==="undefined"||h==="boolean")&&(r=null);var m=!1;if(r===null)m=!0;else switch(h){case"string":case"number":m=!0;break;case"object":switch(r.$$typeof){case _l:case Yb:m=!0}}if(m)return m=r,c=c(m),r=a===""?"."+Wg(m,0):a,A4(c)?(s="",r!=null&&(s=r.replace(I4,"$&/")+"/"),Qd(c,i,s,"",function(w){return w})):c!=null&&(Gv(c)&&(c=uD(c,s+(!c.key||m&&m.key===c.key?"":(""+c.key).replace(I4,"$&/")+"/")+r)),i.push(c)),1;if(m=0,a=a===""?".":a+":",A4(r))for(var g=0;g<r.length;g++){h=r[g];var S=a+Wg(h,g);m+=Qd(h,i,s,S,c)}else if(S=sD(r),typeof S=="function")for(r=S.call(r),g=0;!(h=r.next()).done;)h=h.value,S=a+Wg(h,g++),m+=Qd(h,i,s,S,c);else if(h==="object")throw i=String(r),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return m}function wd(r,i,s){if(r==null)return r;var a=[],c=0;return Qd(r,a,"","",function(h){return i.call(s,h,c++)}),a}function lD(r){if(r._status===-1){var i=r._result;i=i(),i.then(function(s){(r._status===0||r._status===-1)&&(r._status=1,r._result=s)},function(s){(r._status===0||r._status===-1)&&(r._status=2,r._result=s)}),r._status===-1&&(r._status=0,r._result=i)}if(r._status===1)return r._result.default;throw r._result}var fn={current:null},Jd={transition:null},cD={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:Jd,ReactCurrentOwner:Vv};Me.Children={map:wd,forEach:function(r,i,s){wd(r,function(){i.apply(this,arguments)},s)},count:function(r){var i=0;return wd(r,function(){i++}),i},toArray:function(r){return wd(r,function(i){return i})||[]},only:function(r){if(!Gv(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Me.Component=fu;Me.Fragment=Qb;Me.Profiler=Zb;Me.PureComponent=Bv;Me.StrictMode=Jb;Me.Suspense=iD;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cD;Me.cloneElement=function(r,i,s){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var a=rI({},r.props),c=r.key,h=r.ref,m=r._owner;if(i!=null){if(i.ref!==void 0&&(h=i.ref,m=Vv.current),i.key!==void 0&&(c=""+i.key),r.type&&r.type.defaultProps)var g=r.type.defaultProps;for(S in i)uI.call(i,S)&&!aI.hasOwnProperty(S)&&(a[S]=i[S]===void 0&&g!==void 0?g[S]:i[S])}var S=arguments.length-2;if(S===1)a.children=s;else if(1<S){g=Array(S);for(var w=0;w<S;w++)g[w]=arguments[w+2];a.children=g}return{$$typeof:_l,type:r.type,key:c,ref:h,props:a,_owner:m}};Me.createContext=function(r){return r={$$typeof:tD,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:eD,_context:r},r.Consumer=r};Me.createElement=lI;Me.createFactory=function(r){var i=lI.bind(null,r);return i.type=r,i};Me.createRef=function(){return{current:null}};Me.forwardRef=function(r){return{$$typeof:nD,render:r}};Me.isValidElement=Gv;Me.lazy=function(r){return{$$typeof:oD,_payload:{_status:-1,_result:r},_init:lD}};Me.memo=function(r,i){return{$$typeof:rD,type:r,compare:i===void 0?null:i}};Me.startTransition=function(r){var i=Jd.transition;Jd.transition={};try{r()}finally{Jd.transition=i}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(r,i){return fn.current.useCallback(r,i)};Me.useContext=function(r){return fn.current.useContext(r)};Me.useDebugValue=function(){};Me.useDeferredValue=function(r){return fn.current.useDeferredValue(r)};Me.useEffect=function(r,i){return fn.current.useEffect(r,i)};Me.useId=function(){return fn.current.useId()};Me.useImperativeHandle=function(r,i,s){return fn.current.useImperativeHandle(r,i,s)};Me.useInsertionEffect=function(r,i){return fn.current.useInsertionEffect(r,i)};Me.useLayoutEffect=function(r,i){return fn.current.useLayoutEffect(r,i)};Me.useMemo=function(r,i){return fn.current.useMemo(r,i)};Me.useReducer=function(r,i,s){return fn.current.useReducer(r,i,s)};Me.useRef=function(r){return fn.current.useRef(r)};Me.useState=function(r){return fn.current.useState(r)};Me.useSyncExternalStore=function(r,i,s){return fn.current.useSyncExternalStore(r,i,s)};Me.useTransition=function(){return fn.current.useTransition()};Me.version="18.2.0";(function(r){r.exports=Me})(Xb);const dD=$b(Sn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fD=Sn,hD=Symbol.for("react.element"),pD=Symbol.for("react.fragment"),gD=Object.prototype.hasOwnProperty,mD=fD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vD={key:!0,ref:!0,__self:!0,__source:!0};function cI(r,i,s){var a,c={},h=null,m=null;s!==void 0&&(h=""+s),i.key!==void 0&&(h=""+i.key),i.ref!==void 0&&(m=i.ref);for(a in i)gD.call(i,a)&&!vD.hasOwnProperty(a)&&(c[a]=i[a]);if(r&&r.defaultProps)for(a in i=r.defaultProps,i)c[a]===void 0&&(c[a]=i[a]);return{$$typeof:hD,type:r,key:h,ref:m,props:c,_owner:mD.current}}Xf.Fragment=pD;Xf.jsx=cI;Xf.jsxs=cI;(function(r){r.exports=Xf})(qb);const yD=ol.Fragment,Pt=ol.jsx,za=ol.jsxs;var Mm={},Rm={},xD={get exports(){return Rm},set exports(r){Rm=r}},On={},bm={},SD={get exports(){return bm},set exports(r){bm=r}},dI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function i(ne,Te){var we=ne.length;ne.push(Te);e:for(;0<we;){var et=we-1>>>1,Tt=ne[et];if(0<c(Tt,Te))ne[et]=Te,ne[we]=Tt,we=et;else break e}}function s(ne){return ne.length===0?null:ne[0]}function a(ne){if(ne.length===0)return null;var Te=ne[0],we=ne.pop();if(we!==Te){ne[0]=we;e:for(var et=0,Tt=ne.length,zi=Tt>>>1;et<zi;){var Vi=2*(et+1)-1,F=ne[Vi],Nt=Vi+1,xr=ne[Nt];if(0>c(F,we))Nt<Tt&&0>c(xr,F)?(ne[et]=xr,ne[Nt]=we,et=Nt):(ne[et]=F,ne[Vi]=we,et=Vi);else if(Nt<Tt&&0>c(xr,we))ne[et]=xr,ne[Nt]=we,et=Nt;else break e}}return Te}function c(ne,Te){var we=ne.sortIndex-Te.sortIndex;return we!==0?we:ne.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var m=Date,g=m.now();r.unstable_now=function(){return m.now()-g}}var S=[],w=[],A=1,_=null,k=3,U=!1,x=!1,b=!1,$=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ne){for(var Te=s(w);Te!==null;){if(Te.callback===null)a(w);else if(Te.startTime<=ne)a(w),Te.sortIndex=Te.expirationTime,i(S,Te);else break;Te=s(w)}}function W(ne){if(b=!1,B(ne),!x)if(s(S)!==null)x=!0,In(ee);else{var Te=s(w);Te!==null&&Cn(W,Te.startTime-ne)}}function ee(ne,Te){x=!1,b&&(b=!1,D(ce),ce=-1),U=!0;var we=k;try{for(B(Te),_=s(S);_!==null&&(!(_.expirationTime>Te)||ne&&!Z());){var et=_.callback;if(typeof et=="function"){_.callback=null,k=_.priorityLevel;var Tt=et(_.expirationTime<=Te);Te=r.unstable_now(),typeof Tt=="function"?_.callback=Tt:_===s(S)&&a(S),B(Te)}else a(S);_=s(S)}if(_!==null)var zi=!0;else{var Vi=s(w);Vi!==null&&Cn(W,Vi.startTime-Te),zi=!1}return zi}finally{_=null,k=we,U=!1}}var K=!1,re=null,ce=-1,Qe=5,C=-1;function Z(){return!(r.unstable_now()-C<Qe)}function ae(){if(re!==null){var ne=r.unstable_now();C=ne;var Te=!0;try{Te=re(!0,ne)}finally{Te?Bn():(K=!1,re=null)}}else K=!1}var Bn;if(typeof R=="function")Bn=function(){R(ae)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,ge=Ae.port2;Ae.port1.onmessage=ae,Bn=function(){ge.postMessage(null)}}else Bn=function(){$(ae,0)};function In(ne){re=ne,K||(K=!0,Bn())}function Cn(ne,Te){ce=$(function(){ne(r.unstable_now())},Te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){x||U||(x=!0,In(ee))},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Qe=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_getFirstCallbackNode=function(){return s(S)},r.unstable_next=function(ne){switch(k){case 1:case 2:case 3:var Te=3;break;default:Te=k}var we=k;k=Te;try{return ne()}finally{k=we}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,Te){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var we=k;k=ne;try{return Te()}finally{k=we}},r.unstable_scheduleCallback=function(ne,Te,we){var et=r.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?et+we:et):we=et,ne){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=we+Tt,ne={id:A++,callback:Te,priorityLevel:ne,startTime:we,expirationTime:Tt,sortIndex:-1},we>et?(ne.sortIndex=we,i(w,ne),s(S)===null&&ne===s(w)&&(b?(D(ce),ce=-1):b=!0,Cn(W,we-et))):(ne.sortIndex=Tt,i(S,ne),x||U||(x=!0,In(ee))),ne},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(ne){var Te=k;return function(){var we=k;k=Te;try{return ne.apply(this,arguments)}finally{k=we}}}})(dI);(function(r){r.exports=dI})(SD);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI=Sn,Dn=bm;function X(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hI=new Set,sl={};function Yo(r,i){ru(r,i),ru(r+"Capture",i)}function ru(r,i){for(sl[r]=i,r=0;r<i.length;r++)hI.add(i[r])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dm=Object.prototype.hasOwnProperty,TD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C4={},_4={};function ED(r){return Dm.call(_4,r)?!0:Dm.call(C4,r)?!1:TD.test(r)?_4[r]=!0:(C4[r]=!0,!1)}function wD(r,i,s,a){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function AD(r,i,s,a){if(i===null||typeof i>"u"||wD(r,i,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function hn(r,i,s,a,c,h,m){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=r,this.type=i,this.sanitizeURL=h,this.removeEmptyString=m}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Yt[r]=new hn(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];Yt[i]=new hn(i,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Yt[r]=new hn(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Yt[r]=new hn(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Yt[r]=new hn(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Yt[r]=new hn(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Yt[r]=new hn(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Yt[r]=new hn(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Yt[r]=new hn(r,5,!1,r.toLowerCase(),null,!1,!1)});var Hv=/[\-:]([a-z])/g;function Kv(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(Hv,Kv);Yt[i]=new hn(i,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(Hv,Kv);Yt[i]=new hn(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(Hv,Kv);Yt[i]=new hn(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Yt[r]=new hn(r,1,!1,r.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Yt[r]=new hn(r,1,!1,r.toLowerCase(),null,!0,!0)});function Wv(r,i,s,a){var c=Yt.hasOwnProperty(i)?Yt[i]:null;(c!==null?c.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(AD(i,s,c,a)&&(s=null),a||c===null?ED(i)&&(s===null?r.removeAttribute(i):r.setAttribute(i,""+s)):c.mustUseProperty?r[c.propertyName]=s===null?c.type===3?!1:"":s:(i=c.attributeName,a=c.attributeNamespace,s===null?r.removeAttribute(i):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?r.setAttributeNS(a,i,s):r.setAttribute(i,s))))}var vr=fI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ad=Symbol.for("react.element"),js=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),Om=Symbol.for("react.profiler"),pI=Symbol.for("react.provider"),gI=Symbol.for("react.context"),qv=Symbol.for("react.forward_ref"),Um=Symbol.for("react.suspense"),Fm=Symbol.for("react.suspense_list"),Xv=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),mI=Symbol.for("react.offscreen"),k4=Symbol.iterator;function _a(r){return r===null||typeof r!="object"?null:(r=k4&&r[k4]||r["@@iterator"],typeof r=="function"?r:null)}var yt=Object.assign,$g;function Va(r){if($g===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);$g=i&&i[1]||""}return`
`+$g+r}var qg=!1;function Xg(r,i){if(!r||qg)return"";qg=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(w){var a=w}Reflect.construct(r,[],i)}else{try{i.call()}catch(w){a=w}r.call(i.prototype)}else{try{throw Error()}catch(w){a=w}r()}}catch(w){if(w&&a&&typeof w.stack=="string"){for(var c=w.stack.split(`
`),h=a.stack.split(`
`),m=c.length-1,g=h.length-1;1<=m&&0<=g&&c[m]!==h[g];)g--;for(;1<=m&&0<=g;m--,g--)if(c[m]!==h[g]){if(m!==1||g!==1)do if(m--,g--,0>g||c[m]!==h[g]){var S=`
`+c[m].replace(" at new "," at ");return r.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",r.displayName)),S}while(1<=m&&0<=g);break}}}finally{qg=!1,Error.prepareStackTrace=s}return(r=r?r.displayName||r.name:"")?Va(r):""}function ID(r){switch(r.tag){case 5:return Va(r.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 2:case 15:return r=Xg(r.type,!1),r;case 11:return r=Xg(r.type.render,!1),r;case 1:return r=Xg(r.type,!0),r;default:return""}}function jm(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Bs:return"Fragment";case js:return"Portal";case Om:return"Profiler";case $v:return"StrictMode";case Um:return"Suspense";case Fm:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case gI:return(r.displayName||"Context")+".Consumer";case pI:return(r._context.displayName||"Context")+".Provider";case qv:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Xv:return i=r.displayName||null,i!==null?i:jm(r.type)||"Memo";case Fr:i=r._payload,r=r._init;try{return jm(r(i))}catch{}}return null}function CD(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jm(i);case 8:return i===$v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Zr(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function vI(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _D(r){var i=vI(r)?"checked":"value",s=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),a=""+r[i];if(!r.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,h.call(this,m)}}),Object.defineProperty(r,i,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Id(r){r._valueTracker||(r._valueTracker=_D(r))}function yI(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var s=i.getValue(),a="";return r&&(a=vI(r)?r.checked?"true":"false":r.value),r=a,r!==s?(i.setValue(r),!0):!1}function ff(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Bm(r,i){var s=i.checked;return yt({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??r._wrapperState.initialChecked})}function P4(r,i){var s=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;s=Zr(i.value!=null?i.value:s),r._wrapperState={initialChecked:a,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function xI(r,i){i=i.checked,i!=null&&Wv(r,"checked",i,!1)}function zm(r,i){xI(r,i);var s=Zr(i.value),a=i.type;if(s!=null)a==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+s):r.value!==""+s&&(r.value=""+s);else if(a==="submit"||a==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Vm(r,i.type,s):i.hasOwnProperty("defaultValue")&&Vm(r,i.type,Zr(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function L4(r,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,s||i===r.value||(r.value=i),r.defaultValue=i}s=r.name,s!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,s!==""&&(r.name=s)}function Vm(r,i,s){(i!=="number"||ff(r.ownerDocument)!==r)&&(s==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+s&&(r.defaultValue=""+s))}var Ga=Array.isArray;function Js(r,i,s,a){if(r=r.options,i){i={};for(var c=0;c<s.length;c++)i["$"+s[c]]=!0;for(s=0;s<r.length;s++)c=i.hasOwnProperty("$"+r[s].value),r[s].selected!==c&&(r[s].selected=c),c&&a&&(r[s].defaultSelected=!0)}else{for(s=""+Zr(s),i=null,c=0;c<r.length;c++){if(r[c].value===s){r[c].selected=!0,a&&(r[c].defaultSelected=!0);return}i!==null||r[c].disabled||(i=r[c])}i!==null&&(i.selected=!0)}}function Gm(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(X(91));return yt({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function N4(r,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(X(92));if(Ga(s)){if(1<s.length)throw Error(X(93));s=s[0]}i=s}i==null&&(i=""),s=i}r._wrapperState={initialValue:Zr(s)}}function SI(r,i){var s=Zr(i.value),a=Zr(i.defaultValue);s!=null&&(s=""+s,s!==r.value&&(r.value=s),i.defaultValue==null&&r.defaultValue!==s&&(r.defaultValue=s)),a!=null&&(r.defaultValue=""+a)}function M4(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function TI(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hm(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?TI(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Cd,EI=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,a,c){MSApp.execUnsafeLocalFunction(function(){return r(i,s,a,c)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Cd=Cd||document.createElement("div"),Cd.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Cd.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function ul(r,i){if(i){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=i;return}}r.textContent=i}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kD=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(r){kD.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Xa[i]=Xa[r]})});function wI(r,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||Xa.hasOwnProperty(r)&&Xa[r]?(""+i).trim():i+"px"}function AI(r,i){r=r.style;for(var s in i)if(i.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=wI(s,i[s],a);s==="float"&&(s="cssFloat"),a?r.setProperty(s,c):r[s]=c}}var PD=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Km(r,i){if(i){if(PD[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(X(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(X(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(X(61))}if(i.style!=null&&typeof i.style!="object")throw Error(X(62))}}function Wm(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $m=null;function Yv(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var qm=null,Zs=null,eu=null;function R4(r){if(r=Ll(r)){if(typeof qm!="function")throw Error(X(280));var i=r.stateNode;i&&(i=eh(i),qm(r.stateNode,r.type,i))}}function II(r){Zs?eu?eu.push(r):eu=[r]:Zs=r}function CI(){if(Zs){var r=Zs,i=eu;if(eu=Zs=null,R4(r),i)for(r=0;r<i.length;r++)R4(i[r])}}function _I(r,i){return r(i)}function kI(){}var Yg=!1;function PI(r,i,s){if(Yg)return r(i,s);Yg=!0;try{return _I(r,i,s)}finally{Yg=!1,(Zs!==null||eu!==null)&&(kI(),CI())}}function al(r,i){var s=r.stateNode;if(s===null)return null;var a=eh(s);if(a===null)return null;s=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(r=r.type,a=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!a;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(X(231,i,typeof s));return s}var Xm=!1;if(hr)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Xm=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Xm=!1}function LD(r,i,s,a,c,h,m,g,S){var w=Array.prototype.slice.call(arguments,3);try{i.apply(s,w)}catch(A){this.onError(A)}}var Ya=!1,hf=null,pf=!1,Ym=null,ND={onError:function(r){Ya=!0,hf=r}};function MD(r,i,s,a,c,h,m,g,S){Ya=!1,hf=null,LD.apply(ND,arguments)}function RD(r,i,s,a,c,h,m,g,S){if(MD.apply(this,arguments),Ya){if(Ya){var w=hf;Ya=!1,hf=null}else throw Error(X(198));pf||(pf=!0,Ym=w)}}function Qo(r){var i=r,s=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(s=i.return),r=i.return;while(r)}return i.tag===3?s:null}function LI(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function b4(r){if(Qo(r)!==r)throw Error(X(188))}function bD(r){var i=r.alternate;if(!i){if(i=Qo(r),i===null)throw Error(X(188));return i!==r?null:r}for(var s=r,a=i;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return b4(c),r;if(h===a)return b4(c),i;h=h.sibling}throw Error(X(188))}if(s.return!==a.return)s=c,a=h;else{for(var m=!1,g=c.child;g;){if(g===s){m=!0,s=c,a=h;break}if(g===a){m=!0,a=c,s=h;break}g=g.sibling}if(!m){for(g=h.child;g;){if(g===s){m=!0,s=h,a=c;break}if(g===a){m=!0,a=h,s=c;break}g=g.sibling}if(!m)throw Error(X(189))}}if(s.alternate!==a)throw Error(X(190))}if(s.tag!==3)throw Error(X(188));return s.stateNode.current===s?r:i}function NI(r){return r=bD(r),r!==null?MI(r):null}function MI(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=MI(r);if(i!==null)return i;r=r.sibling}return null}var RI=Dn.unstable_scheduleCallback,D4=Dn.unstable_cancelCallback,DD=Dn.unstable_shouldYield,OD=Dn.unstable_requestPaint,It=Dn.unstable_now,UD=Dn.unstable_getCurrentPriorityLevel,Qv=Dn.unstable_ImmediatePriority,bI=Dn.unstable_UserBlockingPriority,gf=Dn.unstable_NormalPriority,FD=Dn.unstable_LowPriority,DI=Dn.unstable_IdlePriority,Yf=null,ji=null;function jD(r){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(Yf,r,void 0,(r.current.flags&128)===128)}catch{}}var Ti=Math.clz32?Math.clz32:VD,BD=Math.log,zD=Math.LN2;function VD(r){return r>>>=0,r===0?32:31-(BD(r)/zD|0)|0}var _d=64,kd=4194304;function Ha(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function mf(r,i){var s=r.pendingLanes;if(s===0)return 0;var a=0,c=r.suspendedLanes,h=r.pingedLanes,m=s&268435455;if(m!==0){var g=m&~c;g!==0?a=Ha(g):(h&=m,h!==0&&(a=Ha(h)))}else m=s&~c,m!==0?a=Ha(m):h!==0&&(a=Ha(h));if(a===0)return 0;if(i!==0&&i!==a&&!(i&c)&&(c=a&-a,h=i&-i,c>=h||c===16&&(h&4194240)!==0))return i;if(a&4&&(a|=s&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=a;0<i;)s=31-Ti(i),c=1<<s,a|=r[s],i&=~c;return a}function GD(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HD(r,i){for(var s=r.suspendedLanes,a=r.pingedLanes,c=r.expirationTimes,h=r.pendingLanes;0<h;){var m=31-Ti(h),g=1<<m,S=c[m];S===-1?(!(g&s)||g&a)&&(c[m]=GD(g,i)):S<=i&&(r.expiredLanes|=g),h&=~g}}function Qm(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function OI(){var r=_d;return _d<<=1,!(_d&4194240)&&(_d=64),r}function Qg(r){for(var i=[],s=0;31>s;s++)i.push(r);return i}function kl(r,i,s){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Ti(i),r[i]=s}function KD(r,i){var s=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var a=r.eventTimes;for(r=r.expirationTimes;0<s;){var c=31-Ti(s),h=1<<c;i[c]=0,a[c]=-1,r[c]=-1,s&=~h}}function Jv(r,i){var s=r.entangledLanes|=i;for(r=r.entanglements;s;){var a=31-Ti(s),c=1<<a;c&i|r[a]&i&&(r[a]|=i),s&=~c}}var Ye=0;function UI(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var FI,Zv,jI,BI,zI,Jm=!1,Pd=[],Kr=null,Wr=null,$r=null,ll=new Map,cl=new Map,zr=[],WD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O4(r,i){switch(r){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(i.pointerId)}}function Pa(r,i,s,a,c,h){return r===null||r.nativeEvent!==h?(r={blockedOn:i,domEventName:s,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},i!==null&&(i=Ll(i),i!==null&&Zv(i)),r):(r.eventSystemFlags|=a,i=r.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),r)}function $D(r,i,s,a,c){switch(i){case"focusin":return Kr=Pa(Kr,r,i,s,a,c),!0;case"dragenter":return Wr=Pa(Wr,r,i,s,a,c),!0;case"mouseover":return $r=Pa($r,r,i,s,a,c),!0;case"pointerover":var h=c.pointerId;return ll.set(h,Pa(ll.get(h)||null,r,i,s,a,c)),!0;case"gotpointercapture":return h=c.pointerId,cl.set(h,Pa(cl.get(h)||null,r,i,s,a,c)),!0}return!1}function VI(r){var i=Fo(r.target);if(i!==null){var s=Qo(i);if(s!==null){if(i=s.tag,i===13){if(i=LI(s),i!==null){r.blockedOn=i,zI(r.priority,function(){jI(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Zd(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var s=Zm(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(s===null){s=r.nativeEvent;var a=new s.constructor(s.type,s);$m=a,s.target.dispatchEvent(a),$m=null}else return i=Ll(s),i!==null&&Zv(i),r.blockedOn=s,!1;i.shift()}return!0}function U4(r,i,s){Zd(r)&&s.delete(i)}function qD(){Jm=!1,Kr!==null&&Zd(Kr)&&(Kr=null),Wr!==null&&Zd(Wr)&&(Wr=null),$r!==null&&Zd($r)&&($r=null),ll.forEach(U4),cl.forEach(U4)}function La(r,i){r.blockedOn===i&&(r.blockedOn=null,Jm||(Jm=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,qD)))}function dl(r){function i(c){return La(c,r)}if(0<Pd.length){La(Pd[0],r);for(var s=1;s<Pd.length;s++){var a=Pd[s];a.blockedOn===r&&(a.blockedOn=null)}}for(Kr!==null&&La(Kr,r),Wr!==null&&La(Wr,r),$r!==null&&La($r,r),ll.forEach(i),cl.forEach(i),s=0;s<zr.length;s++)a=zr[s],a.blockedOn===r&&(a.blockedOn=null);for(;0<zr.length&&(s=zr[0],s.blockedOn===null);)VI(s),s.blockedOn===null&&zr.shift()}var tu=vr.ReactCurrentBatchConfig,vf=!0;function XD(r,i,s,a){var c=Ye,h=tu.transition;tu.transition=null;try{Ye=1,ey(r,i,s,a)}finally{Ye=c,tu.transition=h}}function YD(r,i,s,a){var c=Ye,h=tu.transition;tu.transition=null;try{Ye=4,ey(r,i,s,a)}finally{Ye=c,tu.transition=h}}function ey(r,i,s,a){if(vf){var c=Zm(r,i,s,a);if(c===null)um(r,i,a,yf,s),O4(r,a);else if($D(c,r,i,s,a))a.stopPropagation();else if(O4(r,a),i&4&&-1<WD.indexOf(r)){for(;c!==null;){var h=Ll(c);if(h!==null&&FI(h),h=Zm(r,i,s,a),h===null&&um(r,i,a,yf,s),h===c)break;c=h}c!==null&&a.stopPropagation()}else um(r,i,a,null,s)}}var yf=null;function Zm(r,i,s,a){if(yf=null,r=Yv(a),r=Fo(r),r!==null)if(i=Qo(r),i===null)r=null;else if(s=i.tag,s===13){if(r=LI(i),r!==null)return r;r=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return yf=r,null}function GI(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UD()){case Qv:return 1;case bI:return 4;case gf:case FD:return 16;case DI:return 536870912;default:return 16}default:return 16}}var Gr=null,ty=null,ef=null;function HI(){if(ef)return ef;var r,i=ty,s=i.length,a,c="value"in Gr?Gr.value:Gr.textContent,h=c.length;for(r=0;r<s&&i[r]===c[r];r++);var m=s-r;for(a=1;a<=m&&i[s-a]===c[h-a];a++);return ef=c.slice(r,1<a?1-a:void 0)}function tf(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ld(){return!0}function F4(){return!1}function Un(r){function i(s,a,c,h,m){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var g in r)r.hasOwnProperty(g)&&(s=r[g],this[g]=s?s(h):h[g]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ld:F4,this.isPropagationStopped=F4,this}return yt(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ld)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ld)},persist:function(){},isPersistent:Ld}),i}var hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ny=Un(hu),Pl=yt({},hu,{view:0,detail:0}),QD=Un(Pl),Jg,Zg,Na,Qf=yt({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iy,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Na&&(Na&&r.type==="mousemove"?(Jg=r.screenX-Na.screenX,Zg=r.screenY-Na.screenY):Zg=Jg=0,Na=r),Jg)},movementY:function(r){return"movementY"in r?r.movementY:Zg}}),j4=Un(Qf),JD=yt({},Qf,{dataTransfer:0}),ZD=Un(JD),eO=yt({},Pl,{relatedTarget:0}),em=Un(eO),tO=yt({},hu,{animationName:0,elapsedTime:0,pseudoElement:0}),nO=Un(tO),iO=yt({},hu,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rO=Un(iO),oO=yt({},hu,{data:0}),B4=Un(oO),sO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lO(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=aO[r])?!!i[r]:!1}function iy(){return lO}var cO=yt({},Pl,{key:function(r){if(r.key){var i=sO[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=tf(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?uO[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iy,charCode:function(r){return r.type==="keypress"?tf(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?tf(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),dO=Un(cO),fO=yt({},Qf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z4=Un(fO),hO=yt({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iy}),pO=Un(hO),gO=yt({},hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),mO=Un(gO),vO=yt({},Qf,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yO=Un(vO),xO=[9,13,27,32],ry=hr&&"CompositionEvent"in window,Qa=null;hr&&"documentMode"in document&&(Qa=document.documentMode);var SO=hr&&"TextEvent"in window&&!Qa,KI=hr&&(!ry||Qa&&8<Qa&&11>=Qa),V4=String.fromCharCode(32),G4=!1;function WI(r,i){switch(r){case"keyup":return xO.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $I(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var zs=!1;function TO(r,i){switch(r){case"compositionend":return $I(i);case"keypress":return i.which!==32?null:(G4=!0,V4);case"textInput":return r=i.data,r===V4&&G4?null:r;default:return null}}function EO(r,i){if(zs)return r==="compositionend"||!ry&&WI(r,i)?(r=HI(),ef=ty=Gr=null,zs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return KI&&i.locale!=="ko"?null:i.data;default:return null}}var wO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H4(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!wO[r.type]:i==="textarea"}function qI(r,i,s,a){II(a),i=xf(i,"onChange"),0<i.length&&(s=new ny("onChange","change",null,s,a),r.push({event:s,listeners:i}))}var Ja=null,fl=null;function AO(r){o3(r,0)}function Jf(r){var i=Hs(r);if(yI(i))return r}function IO(r,i){if(r==="change")return i}var XI=!1;if(hr){var tm;if(hr){var nm="oninput"in document;if(!nm){var K4=document.createElement("div");K4.setAttribute("oninput","return;"),nm=typeof K4.oninput=="function"}tm=nm}else tm=!1;XI=tm&&(!document.documentMode||9<document.documentMode)}function W4(){Ja&&(Ja.detachEvent("onpropertychange",YI),fl=Ja=null)}function YI(r){if(r.propertyName==="value"&&Jf(fl)){var i=[];qI(i,fl,r,Yv(r)),PI(AO,i)}}function CO(r,i,s){r==="focusin"?(W4(),Ja=i,fl=s,Ja.attachEvent("onpropertychange",YI)):r==="focusout"&&W4()}function _O(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Jf(fl)}function kO(r,i){if(r==="click")return Jf(i)}function PO(r,i){if(r==="input"||r==="change")return Jf(i)}function LO(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var wi=typeof Object.is=="function"?Object.is:LO;function hl(r,i){if(wi(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var s=Object.keys(r),a=Object.keys(i);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!Dm.call(i,c)||!wi(r[c],i[c]))return!1}return!0}function $4(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function q4(r,i){var s=$4(r);r=0;for(var a;s;){if(s.nodeType===3){if(a=r+s.textContent.length,r<=i&&a>=i)return{node:s,offset:i-r};r=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=$4(s)}}function QI(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?QI(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function JI(){for(var r=window,i=ff();i instanceof r.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)r=i.contentWindow;else break;i=ff(r.document)}return i}function oy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function NO(r){var i=JI(),s=r.focusedElem,a=r.selectionRange;if(i!==s&&s&&s.ownerDocument&&QI(s.ownerDocument.documentElement,s)){if(a!==null&&oy(s)){if(i=a.start,r=a.end,r===void 0&&(r=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(r,s.value.length);else if(r=(i=s.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var c=s.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!r.extend&&h>a&&(c=a,a=h,h=c),c=q4(s,h);var m=q4(s,a);c&&m&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==m.node||r.focusOffset!==m.offset)&&(i=i.createRange(),i.setStart(c.node,c.offset),r.removeAllRanges(),h>a?(r.addRange(i),r.extend(m.node,m.offset)):(i.setEnd(m.node,m.offset),r.addRange(i)))}}for(i=[],r=s;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)r=i[s],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var MO=hr&&"documentMode"in document&&11>=document.documentMode,Vs=null,ev=null,Za=null,tv=!1;function X4(r,i,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;tv||Vs==null||Vs!==ff(a)||(a=Vs,"selectionStart"in a&&oy(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Za&&hl(Za,a)||(Za=a,a=xf(ev,"onSelect"),0<a.length&&(i=new ny("onSelect","select",null,i,s),r.push({event:i,listeners:a}),i.target=Vs)))}function Nd(r,i){var s={};return s[r.toLowerCase()]=i.toLowerCase(),s["Webkit"+r]="webkit"+i,s["Moz"+r]="moz"+i,s}var Gs={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},im={},ZI={};hr&&(ZI=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Zf(r){if(im[r])return im[r];if(!Gs[r])return r;var i=Gs[r],s;for(s in i)if(i.hasOwnProperty(s)&&s in ZI)return im[r]=i[s];return r}var e3=Zf("animationend"),t3=Zf("animationiteration"),n3=Zf("animationstart"),i3=Zf("transitionend"),r3=new Map,Y4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(r,i){r3.set(r,i),Yo(i,[r])}for(var rm=0;rm<Y4.length;rm++){var om=Y4[rm],RO=om.toLowerCase(),bO=om[0].toUpperCase()+om.slice(1);to(RO,"on"+bO)}to(e3,"onAnimationEnd");to(t3,"onAnimationIteration");to(n3,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to(i3,"onTransitionEnd");ru("onMouseEnter",["mouseout","mouseover"]);ru("onMouseLeave",["mouseout","mouseover"]);ru("onPointerEnter",["pointerout","pointerover"]);ru("onPointerLeave",["pointerout","pointerover"]);Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function Q4(r,i,s){var a=r.type||"unknown-event";r.currentTarget=s,RD(a,i,void 0,r),r.currentTarget=null}function o3(r,i){i=(i&4)!==0;for(var s=0;s<r.length;s++){var a=r[s],c=a.event;a=a.listeners;e:{var h=void 0;if(i)for(var m=a.length-1;0<=m;m--){var g=a[m],S=g.instance,w=g.currentTarget;if(g=g.listener,S!==h&&c.isPropagationStopped())break e;Q4(c,g,w),h=S}else for(m=0;m<a.length;m++){if(g=a[m],S=g.instance,w=g.currentTarget,g=g.listener,S!==h&&c.isPropagationStopped())break e;Q4(c,g,w),h=S}}}if(pf)throw r=Ym,pf=!1,Ym=null,r}function lt(r,i){var s=i[sv];s===void 0&&(s=i[sv]=new Set);var a=r+"__bubble";s.has(a)||(s3(i,r,2,!1),s.add(a))}function sm(r,i,s){var a=0;i&&(a|=4),s3(s,r,a,i)}var Md="_reactListening"+Math.random().toString(36).slice(2);function pl(r){if(!r[Md]){r[Md]=!0,hI.forEach(function(s){s!=="selectionchange"&&(DO.has(s)||sm(s,!1,r),sm(s,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Md]||(i[Md]=!0,sm("selectionchange",!1,i))}}function s3(r,i,s,a){switch(GI(i)){case 1:var c=XD;break;case 4:c=YD;break;default:c=ey}s=c.bind(null,i,s,r),c=void 0,!Xm||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),a?c!==void 0?r.addEventListener(i,s,{capture:!0,passive:c}):r.addEventListener(i,s,!0):c!==void 0?r.addEventListener(i,s,{passive:c}):r.addEventListener(i,s,!1)}function um(r,i,s,a,c){var h=a;if(!(i&1)&&!(i&2)&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var g=a.stateNode.containerInfo;if(g===c||g.nodeType===8&&g.parentNode===c)break;if(m===4)for(m=a.return;m!==null;){var S=m.tag;if((S===3||S===4)&&(S=m.stateNode.containerInfo,S===c||S.nodeType===8&&S.parentNode===c))return;m=m.return}for(;g!==null;){if(m=Fo(g),m===null)return;if(S=m.tag,S===5||S===6){a=h=m;continue e}g=g.parentNode}}a=a.return}PI(function(){var w=h,A=Yv(s),_=[];e:{var k=r3.get(r);if(k!==void 0){var U=ny,x=r;switch(r){case"keypress":if(tf(s)===0)break e;case"keydown":case"keyup":U=dO;break;case"focusin":x="focus",U=em;break;case"focusout":x="blur",U=em;break;case"beforeblur":case"afterblur":U=em;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=j4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=ZD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=pO;break;case e3:case t3:case n3:U=nO;break;case i3:U=mO;break;case"scroll":U=QD;break;case"wheel":U=yO;break;case"copy":case"cut":case"paste":U=rO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=z4}var b=(i&4)!==0,$=!b&&r==="scroll",D=b?k!==null?k+"Capture":null:k;b=[];for(var R=w,B;R!==null;){B=R;var W=B.stateNode;if(B.tag===5&&W!==null&&(B=W,D!==null&&(W=al(R,D),W!=null&&b.push(gl(R,W,B)))),$)break;R=R.return}0<b.length&&(k=new U(k,x,null,s,A),_.push({event:k,listeners:b}))}}if(!(i&7)){e:{if(k=r==="mouseover"||r==="pointerover",U=r==="mouseout"||r==="pointerout",k&&s!==$m&&(x=s.relatedTarget||s.fromElement)&&(Fo(x)||x[pr]))break e;if((U||k)&&(k=A.window===A?A:(k=A.ownerDocument)?k.defaultView||k.parentWindow:window,U?(x=s.relatedTarget||s.toElement,U=w,x=x?Fo(x):null,x!==null&&($=Qo(x),x!==$||x.tag!==5&&x.tag!==6)&&(x=null)):(U=null,x=w),U!==x)){if(b=j4,W="onMouseLeave",D="onMouseEnter",R="mouse",(r==="pointerout"||r==="pointerover")&&(b=z4,W="onPointerLeave",D="onPointerEnter",R="pointer"),$=U==null?k:Hs(U),B=x==null?k:Hs(x),k=new b(W,R+"leave",U,s,A),k.target=$,k.relatedTarget=B,W=null,Fo(A)===w&&(b=new b(D,R+"enter",x,s,A),b.target=B,b.relatedTarget=$,W=b),$=W,U&&x)t:{for(b=U,D=x,R=0,B=b;B;B=Ds(B))R++;for(B=0,W=D;W;W=Ds(W))B++;for(;0<R-B;)b=Ds(b),R--;for(;0<B-R;)D=Ds(D),B--;for(;R--;){if(b===D||D!==null&&b===D.alternate)break t;b=Ds(b),D=Ds(D)}b=null}else b=null;U!==null&&J4(_,k,U,b,!1),x!==null&&$!==null&&J4(_,$,x,b,!0)}}e:{if(k=w?Hs(w):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var ee=IO;else if(H4(k))if(XI)ee=PO;else{ee=_O;var K=CO}else(U=k.nodeName)&&U.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(ee=kO);if(ee&&(ee=ee(r,w))){qI(_,ee,s,A);break e}K&&K(r,k,w),r==="focusout"&&(K=k._wrapperState)&&K.controlled&&k.type==="number"&&Vm(k,"number",k.value)}switch(K=w?Hs(w):window,r){case"focusin":(H4(K)||K.contentEditable==="true")&&(Vs=K,ev=w,Za=null);break;case"focusout":Za=ev=Vs=null;break;case"mousedown":tv=!0;break;case"contextmenu":case"mouseup":case"dragend":tv=!1,X4(_,s,A);break;case"selectionchange":if(MO)break;case"keydown":case"keyup":X4(_,s,A)}var re;if(ry)e:{switch(r){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else zs?WI(r,s)&&(ce="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(ce="onCompositionStart");ce&&(KI&&s.locale!=="ko"&&(zs||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&zs&&(re=HI()):(Gr=A,ty="value"in Gr?Gr.value:Gr.textContent,zs=!0)),K=xf(w,ce),0<K.length&&(ce=new B4(ce,r,null,s,A),_.push({event:ce,listeners:K}),re?ce.data=re:(re=$I(s),re!==null&&(ce.data=re)))),(re=SO?TO(r,s):EO(r,s))&&(w=xf(w,"onBeforeInput"),0<w.length&&(A=new B4("onBeforeInput","beforeinput",null,s,A),_.push({event:A,listeners:w}),A.data=re))}o3(_,i)})}function gl(r,i,s){return{instance:r,listener:i,currentTarget:s}}function xf(r,i){for(var s=i+"Capture",a=[];r!==null;){var c=r,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=al(r,s),h!=null&&a.unshift(gl(r,h,c)),h=al(r,i),h!=null&&a.push(gl(r,h,c))),r=r.return}return a}function Ds(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function J4(r,i,s,a,c){for(var h=i._reactName,m=[];s!==null&&s!==a;){var g=s,S=g.alternate,w=g.stateNode;if(S!==null&&S===a)break;g.tag===5&&w!==null&&(g=w,c?(S=al(s,h),S!=null&&m.unshift(gl(s,S,g))):c||(S=al(s,h),S!=null&&m.push(gl(s,S,g)))),s=s.return}m.length!==0&&r.push({event:i,listeners:m})}var OO=/\r\n?/g,UO=/\u0000|\uFFFD/g;function Z4(r){return(typeof r=="string"?r:""+r).replace(OO,`
`).replace(UO,"")}function Rd(r,i,s){if(i=Z4(i),Z4(r)!==i&&s)throw Error(X(425))}function Sf(){}var nv=null,iv=null;function rv(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ov=typeof setTimeout=="function"?setTimeout:void 0,FO=typeof clearTimeout=="function"?clearTimeout:void 0,eA=typeof Promise=="function"?Promise:void 0,jO=typeof queueMicrotask=="function"?queueMicrotask:typeof eA<"u"?function(r){return eA.resolve(null).then(r).catch(BO)}:ov;function BO(r){setTimeout(function(){throw r})}function am(r,i){var s=i,a=0;do{var c=s.nextSibling;if(r.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){r.removeChild(c),dl(i);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);dl(i)}function qr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function tA(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return r;i--}else s==="/$"&&i++}r=r.previousSibling}return null}var pu=Math.random().toString(36).slice(2),Ui="__reactFiber$"+pu,ml="__reactProps$"+pu,pr="__reactContainer$"+pu,sv="__reactEvents$"+pu,zO="__reactListeners$"+pu,VO="__reactHandles$"+pu;function Fo(r){var i=r[Ui];if(i)return i;for(var s=r.parentNode;s;){if(i=s[pr]||s[Ui]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(r=tA(r);r!==null;){if(s=r[Ui])return s;r=tA(r)}return i}r=s,s=r.parentNode}return null}function Ll(r){return r=r[Ui]||r[pr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Hs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(X(33))}function eh(r){return r[ml]||null}var uv=[],Ks=-1;function no(r){return{current:r}}function ct(r){0>Ks||(r.current=uv[Ks],uv[Ks]=null,Ks--)}function ot(r,i){Ks++,uv[Ks]=r.current,r.current=i}var eo={},on=no(eo),En=no(!1),Ho=eo;function ou(r,i){var s=r.type.contextTypes;if(!s)return eo;var a=r.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in s)c[h]=i[h];return a&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=c),c}function wn(r){return r=r.childContextTypes,r!=null}function Tf(){ct(En),ct(on)}function nA(r,i,s){if(on.current!==eo)throw Error(X(168));ot(on,i),ot(En,s)}function u3(r,i,s){var a=r.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in i))throw Error(X(108,CD(r)||"Unknown",c));return yt({},s,a)}function Ef(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||eo,Ho=on.current,ot(on,r),ot(En,En.current),!0}function iA(r,i,s){var a=r.stateNode;if(!a)throw Error(X(169));s?(r=u3(r,i,Ho),a.__reactInternalMemoizedMergedChildContext=r,ct(En),ct(on),ot(on,r)):ct(En),ot(En,s)}var ar=null,th=!1,lm=!1;function a3(r){ar===null?ar=[r]:ar.push(r)}function GO(r){th=!0,a3(r)}function io(){if(!lm&&ar!==null){lm=!0;var r=0,i=Ye;try{var s=ar;for(Ye=1;r<s.length;r++){var a=s[r];do a=a(!0);while(a!==null)}ar=null,th=!1}catch(c){throw ar!==null&&(ar=ar.slice(r+1)),RI(Qv,io),c}finally{Ye=i,lm=!1}}return null}var Ws=[],$s=0,wf=null,Af=0,Yn=[],Qn=0,Ko=null,cr=1,dr="";function Do(r,i){Ws[$s++]=Af,Ws[$s++]=wf,wf=r,Af=i}function l3(r,i,s){Yn[Qn++]=cr,Yn[Qn++]=dr,Yn[Qn++]=Ko,Ko=r;var a=cr;r=dr;var c=32-Ti(a)-1;a&=~(1<<c),s+=1;var h=32-Ti(i)+c;if(30<h){var m=c-c%5;h=(a&(1<<m)-1).toString(32),a>>=m,c-=m,cr=1<<32-Ti(i)+c|s<<c|a,dr=h+r}else cr=1<<h|s<<c|a,dr=r}function sy(r){r.return!==null&&(Do(r,1),l3(r,1,0))}function uy(r){for(;r===wf;)wf=Ws[--$s],Ws[$s]=null,Af=Ws[--$s],Ws[$s]=null;for(;r===Ko;)Ko=Yn[--Qn],Yn[Qn]=null,dr=Yn[--Qn],Yn[Qn]=null,cr=Yn[--Qn],Yn[Qn]=null}var bn=null,Rn=null,dt=!1,vi=null;function c3(r,i){var s=Zn(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=r,i=r.deletions,i===null?(r.deletions=[s],r.flags|=16):i.push(s)}function rA(r,i){switch(r.tag){case 5:var s=r.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,bn=r,Rn=qr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,bn=r,Rn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=Ko!==null?{id:cr,overflow:dr}:null,r.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Zn(18,null,null,0),s.stateNode=i,s.return=r,r.child=s,bn=r,Rn=null,!0):!1;default:return!1}}function av(r){return(r.mode&1)!==0&&(r.flags&128)===0}function lv(r){if(dt){var i=Rn;if(i){var s=i;if(!rA(r,i)){if(av(r))throw Error(X(418));i=qr(s.nextSibling);var a=bn;i&&rA(r,i)?c3(a,s):(r.flags=r.flags&-4097|2,dt=!1,bn=r)}}else{if(av(r))throw Error(X(418));r.flags=r.flags&-4097|2,dt=!1,bn=r}}}function oA(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;bn=r}function bd(r){if(r!==bn)return!1;if(!dt)return oA(r),dt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!rv(r.type,r.memoizedProps)),i&&(i=Rn)){if(av(r))throw d3(),Error(X(418));for(;i;)c3(r,i),i=qr(i.nextSibling)}if(oA(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(X(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="/$"){if(i===0){Rn=qr(r.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}r=r.nextSibling}Rn=null}}else Rn=bn?qr(r.stateNode.nextSibling):null;return!0}function d3(){for(var r=Rn;r;)r=qr(r.nextSibling)}function su(){Rn=bn=null,dt=!1}function ay(r){vi===null?vi=[r]:vi.push(r)}var HO=vr.ReactCurrentBatchConfig;function gi(r,i){if(r&&r.defaultProps){i=yt({},i),r=r.defaultProps;for(var s in r)i[s]===void 0&&(i[s]=r[s]);return i}return i}var If=no(null),Cf=null,qs=null,ly=null;function cy(){ly=qs=Cf=null}function dy(r){var i=If.current;ct(If),r._currentValue=i}function cv(r,i,s){for(;r!==null;){var a=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),r===s)break;r=r.return}}function nu(r,i){Cf=r,ly=qs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(Tn=!0),r.firstContext=null)}function ni(r){var i=r._currentValue;if(ly!==r)if(r={context:r,memoizedValue:i,next:null},qs===null){if(Cf===null)throw Error(X(308));qs=r,Cf.dependencies={lanes:0,firstContext:r}}else qs=qs.next=r;return i}var jo=null;function fy(r){jo===null?jo=[r]:jo.push(r)}function f3(r,i,s,a){var c=i.interleaved;return c===null?(s.next=s,fy(i)):(s.next=c.next,c.next=s),i.interleaved=s,gr(r,a)}function gr(r,i){r.lanes|=i;var s=r.alternate;for(s!==null&&(s.lanes|=i),s=r,r=r.return;r!==null;)r.childLanes|=i,s=r.alternate,s!==null&&(s.childLanes|=i),s=r,r=r.return;return s.tag===3?s.stateNode:null}var jr=!1;function hy(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h3(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function fr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Xr(r,i,s){var a=r.updateQueue;if(a===null)return null;if(a=a.shared,Oe&2){var c=a.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),a.pending=i,gr(r,s)}return c=a.interleaved,c===null?(i.next=i,fy(a)):(i.next=c.next,c.next=i),a.interleaved=i,gr(r,s)}function nf(r,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var a=i.lanes;a&=r.pendingLanes,s|=a,i.lanes=s,Jv(r,s)}}function sA(r,i){var s=r.updateQueue,a=r.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var m={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?c=h=m:h=h.next=m,s=s.next}while(s!==null);h===null?c=h=i:h=h.next=i}else c=h=i;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=i:r.next=i,s.lastBaseUpdate=i}function _f(r,i,s,a){var c=r.updateQueue;jr=!1;var h=c.firstBaseUpdate,m=c.lastBaseUpdate,g=c.shared.pending;if(g!==null){c.shared.pending=null;var S=g,w=S.next;S.next=null,m===null?h=w:m.next=w,m=S;var A=r.alternate;A!==null&&(A=A.updateQueue,g=A.lastBaseUpdate,g!==m&&(g===null?A.firstBaseUpdate=w:g.next=w,A.lastBaseUpdate=S))}if(h!==null){var _=c.baseState;m=0,A=w=S=null,g=h;do{var k=g.lane,U=g.eventTime;if((a&k)===k){A!==null&&(A=A.next={eventTime:U,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var x=r,b=g;switch(k=i,U=s,b.tag){case 1:if(x=b.payload,typeof x=="function"){_=x.call(U,_,k);break e}_=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,k=typeof x=="function"?x.call(U,_,k):x,k==null)break e;_=yt({},_,k);break e;case 2:jr=!0}}g.callback!==null&&g.lane!==0&&(r.flags|=64,k=c.effects,k===null?c.effects=[g]:k.push(g))}else U={eventTime:U,lane:k,tag:g.tag,payload:g.payload,callback:g.callback,next:null},A===null?(w=A=U,S=_):A=A.next=U,m|=k;if(g=g.next,g===null){if(g=c.shared.pending,g===null)break;k=g,g=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(1);if(A===null&&(S=_),c.baseState=S,c.firstBaseUpdate=w,c.lastBaseUpdate=A,i=c.shared.interleaved,i!==null){c=i;do m|=c.lane,c=c.next;while(c!==i)}else h===null&&(c.shared.lanes=0);$o|=m,r.lanes=m,r.memoizedState=_}}function uA(r,i,s){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var a=r[i],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(X(191,c));c.call(a)}}}var p3=new fI.Component().refs;function dv(r,i,s,a){i=r.memoizedState,s=s(a,i),s=s==null?i:yt({},i,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var nh={isMounted:function(r){return(r=r._reactInternals)?Qo(r)===r:!1},enqueueSetState:function(r,i,s){r=r._reactInternals;var a=dn(),c=Qr(r),h=fr(a,c);h.payload=i,s!=null&&(h.callback=s),i=Xr(r,h,c),i!==null&&(Ei(i,r,c,a),nf(i,r,c))},enqueueReplaceState:function(r,i,s){r=r._reactInternals;var a=dn(),c=Qr(r),h=fr(a,c);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Xr(r,h,c),i!==null&&(Ei(i,r,c,a),nf(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var s=dn(),a=Qr(r),c=fr(s,a);c.tag=2,i!=null&&(c.callback=i),i=Xr(r,c,a),i!==null&&(Ei(i,r,a,s),nf(i,r,a))}};function aA(r,i,s,a,c,h,m){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(a,h,m):i.prototype&&i.prototype.isPureReactComponent?!hl(s,a)||!hl(c,h):!0}function g3(r,i,s){var a=!1,c=eo,h=i.contextType;return typeof h=="object"&&h!==null?h=ni(h):(c=wn(i)?Ho:on.current,a=i.contextTypes,h=(a=a!=null)?ou(r,c):eo),i=new i(s,h),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nh,r.stateNode=i,i._reactInternals=r,a&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=c,r.__reactInternalMemoizedMaskedChildContext=h),i}function lA(r,i,s,a){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,a),i.state!==r&&nh.enqueueReplaceState(i,i.state,null)}function fv(r,i,s,a){var c=r.stateNode;c.props=s,c.state=r.memoizedState,c.refs=p3,hy(r);var h=i.contextType;typeof h=="object"&&h!==null?c.context=ni(h):(h=wn(i)?Ho:on.current,c.context=ou(r,h)),c.state=r.memoizedState,h=i.getDerivedStateFromProps,typeof h=="function"&&(dv(r,i,h,s),c.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&nh.enqueueReplaceState(c,c.state,null),_f(r,s,c,a),c.state=r.memoizedState),typeof c.componentDidMount=="function"&&(r.flags|=4194308)}function Ma(r,i,s){if(r=s.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(X(309));var a=s.stateNode}if(!a)throw Error(X(147,r));var c=a,h=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===h?i.ref:(i=function(m){var g=c.refs;g===p3&&(g=c.refs={}),m===null?delete g[h]:g[h]=m},i._stringRef=h,i)}if(typeof r!="string")throw Error(X(284));if(!s._owner)throw Error(X(290,r))}return r}function Dd(r,i){throw r=Object.prototype.toString.call(i),Error(X(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function cA(r){var i=r._init;return i(r._payload)}function m3(r){function i(D,R){if(r){var B=D.deletions;B===null?(D.deletions=[R],D.flags|=16):B.push(R)}}function s(D,R){if(!r)return null;for(;R!==null;)i(D,R),R=R.sibling;return null}function a(D,R){for(D=new Map;R!==null;)R.key!==null?D.set(R.key,R):D.set(R.index,R),R=R.sibling;return D}function c(D,R){return D=Jr(D,R),D.index=0,D.sibling=null,D}function h(D,R,B){return D.index=B,r?(B=D.alternate,B!==null?(B=B.index,B<R?(D.flags|=2,R):B):(D.flags|=2,R)):(D.flags|=1048576,R)}function m(D){return r&&D.alternate===null&&(D.flags|=2),D}function g(D,R,B,W){return R===null||R.tag!==6?(R=mm(B,D.mode,W),R.return=D,R):(R=c(R,B),R.return=D,R)}function S(D,R,B,W){var ee=B.type;return ee===Bs?A(D,R,B.props.children,W,B.key):R!==null&&(R.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Fr&&cA(ee)===R.type)?(W=c(R,B.props),W.ref=Ma(D,R,B),W.return=D,W):(W=lf(B.type,B.key,B.props,null,D.mode,W),W.ref=Ma(D,R,B),W.return=D,W)}function w(D,R,B,W){return R===null||R.tag!==4||R.stateNode.containerInfo!==B.containerInfo||R.stateNode.implementation!==B.implementation?(R=vm(B,D.mode,W),R.return=D,R):(R=c(R,B.children||[]),R.return=D,R)}function A(D,R,B,W,ee){return R===null||R.tag!==7?(R=Vo(B,D.mode,W,ee),R.return=D,R):(R=c(R,B),R.return=D,R)}function _(D,R,B){if(typeof R=="string"&&R!==""||typeof R=="number")return R=mm(""+R,D.mode,B),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ad:return B=lf(R.type,R.key,R.props,null,D.mode,B),B.ref=Ma(D,null,R),B.return=D,B;case js:return R=vm(R,D.mode,B),R.return=D,R;case Fr:var W=R._init;return _(D,W(R._payload),B)}if(Ga(R)||_a(R))return R=Vo(R,D.mode,B,null),R.return=D,R;Dd(D,R)}return null}function k(D,R,B,W){var ee=R!==null?R.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ee!==null?null:g(D,R,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Ad:return B.key===ee?S(D,R,B,W):null;case js:return B.key===ee?w(D,R,B,W):null;case Fr:return ee=B._init,k(D,R,ee(B._payload),W)}if(Ga(B)||_a(B))return ee!==null?null:A(D,R,B,W,null);Dd(D,B)}return null}function U(D,R,B,W,ee){if(typeof W=="string"&&W!==""||typeof W=="number")return D=D.get(B)||null,g(R,D,""+W,ee);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Ad:return D=D.get(W.key===null?B:W.key)||null,S(R,D,W,ee);case js:return D=D.get(W.key===null?B:W.key)||null,w(R,D,W,ee);case Fr:var K=W._init;return U(D,R,B,K(W._payload),ee)}if(Ga(W)||_a(W))return D=D.get(B)||null,A(R,D,W,ee,null);Dd(R,W)}return null}function x(D,R,B,W){for(var ee=null,K=null,re=R,ce=R=0,Qe=null;re!==null&&ce<B.length;ce++){re.index>ce?(Qe=re,re=null):Qe=re.sibling;var C=k(D,re,B[ce],W);if(C===null){re===null&&(re=Qe);break}r&&re&&C.alternate===null&&i(D,re),R=h(C,R,ce),K===null?ee=C:K.sibling=C,K=C,re=Qe}if(ce===B.length)return s(D,re),dt&&Do(D,ce),ee;if(re===null){for(;ce<B.length;ce++)re=_(D,B[ce],W),re!==null&&(R=h(re,R,ce),K===null?ee=re:K.sibling=re,K=re);return dt&&Do(D,ce),ee}for(re=a(D,re);ce<B.length;ce++)Qe=U(re,D,ce,B[ce],W),Qe!==null&&(r&&Qe.alternate!==null&&re.delete(Qe.key===null?ce:Qe.key),R=h(Qe,R,ce),K===null?ee=Qe:K.sibling=Qe,K=Qe);return r&&re.forEach(function(Z){return i(D,Z)}),dt&&Do(D,ce),ee}function b(D,R,B,W){var ee=_a(B);if(typeof ee!="function")throw Error(X(150));if(B=ee.call(B),B==null)throw Error(X(151));for(var K=ee=null,re=R,ce=R=0,Qe=null,C=B.next();re!==null&&!C.done;ce++,C=B.next()){re.index>ce?(Qe=re,re=null):Qe=re.sibling;var Z=k(D,re,C.value,W);if(Z===null){re===null&&(re=Qe);break}r&&re&&Z.alternate===null&&i(D,re),R=h(Z,R,ce),K===null?ee=Z:K.sibling=Z,K=Z,re=Qe}if(C.done)return s(D,re),dt&&Do(D,ce),ee;if(re===null){for(;!C.done;ce++,C=B.next())C=_(D,C.value,W),C!==null&&(R=h(C,R,ce),K===null?ee=C:K.sibling=C,K=C);return dt&&Do(D,ce),ee}for(re=a(D,re);!C.done;ce++,C=B.next())C=U(re,D,ce,C.value,W),C!==null&&(r&&C.alternate!==null&&re.delete(C.key===null?ce:C.key),R=h(C,R,ce),K===null?ee=C:K.sibling=C,K=C);return r&&re.forEach(function(ae){return i(D,ae)}),dt&&Do(D,ce),ee}function $(D,R,B,W){if(typeof B=="object"&&B!==null&&B.type===Bs&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Ad:e:{for(var ee=B.key,K=R;K!==null;){if(K.key===ee){if(ee=B.type,ee===Bs){if(K.tag===7){s(D,K.sibling),R=c(K,B.props.children),R.return=D,D=R;break e}}else if(K.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===Fr&&cA(ee)===K.type){s(D,K.sibling),R=c(K,B.props),R.ref=Ma(D,K,B),R.return=D,D=R;break e}s(D,K);break}else i(D,K);K=K.sibling}B.type===Bs?(R=Vo(B.props.children,D.mode,W,B.key),R.return=D,D=R):(W=lf(B.type,B.key,B.props,null,D.mode,W),W.ref=Ma(D,R,B),W.return=D,D=W)}return m(D);case js:e:{for(K=B.key;R!==null;){if(R.key===K)if(R.tag===4&&R.stateNode.containerInfo===B.containerInfo&&R.stateNode.implementation===B.implementation){s(D,R.sibling),R=c(R,B.children||[]),R.return=D,D=R;break e}else{s(D,R);break}else i(D,R);R=R.sibling}R=vm(B,D.mode,W),R.return=D,D=R}return m(D);case Fr:return K=B._init,$(D,R,K(B._payload),W)}if(Ga(B))return x(D,R,B,W);if(_a(B))return b(D,R,B,W);Dd(D,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,R!==null&&R.tag===6?(s(D,R.sibling),R=c(R,B),R.return=D,D=R):(s(D,R),R=mm(B,D.mode,W),R.return=D,D=R),m(D)):s(D,R)}return $}var uu=m3(!0),v3=m3(!1),Nl={},Bi=no(Nl),vl=no(Nl),yl=no(Nl);function Bo(r){if(r===Nl)throw Error(X(174));return r}function py(r,i){switch(ot(yl,i),ot(vl,r),ot(Bi,Nl),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Hm(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Hm(i,r)}ct(Bi),ot(Bi,i)}function au(){ct(Bi),ct(vl),ct(yl)}function y3(r){Bo(yl.current);var i=Bo(Bi.current),s=Hm(i,r.type);i!==s&&(ot(vl,r),ot(Bi,s))}function gy(r){vl.current===r&&(ct(Bi),ct(vl))}var gt=no(0);function kf(r){for(var i=r;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var cm=[];function my(){for(var r=0;r<cm.length;r++)cm[r]._workInProgressVersionPrimary=null;cm.length=0}var rf=vr.ReactCurrentDispatcher,dm=vr.ReactCurrentBatchConfig,Wo=0,vt=null,bt=null,jt=null,Pf=!1,el=!1,xl=0,KO=0;function Zt(){throw Error(X(321))}function vy(r,i){if(i===null)return!1;for(var s=0;s<i.length&&s<r.length;s++)if(!wi(r[s],i[s]))return!1;return!0}function yy(r,i,s,a,c,h){if(Wo=h,vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,rf.current=r===null||r.memoizedState===null?XO:YO,r=s(a,c),el){h=0;do{if(el=!1,xl=0,25<=h)throw Error(X(301));h+=1,jt=bt=null,i.updateQueue=null,rf.current=QO,r=s(a,c)}while(el)}if(rf.current=Lf,i=bt!==null&&bt.next!==null,Wo=0,jt=bt=vt=null,Pf=!1,i)throw Error(X(300));return r}function xy(){var r=xl!==0;return xl=0,r}function Oi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?vt.memoizedState=jt=r:jt=jt.next=r,jt}function ii(){if(bt===null){var r=vt.alternate;r=r!==null?r.memoizedState:null}else r=bt.next;var i=jt===null?vt.memoizedState:jt.next;if(i!==null)jt=i,bt=r;else{if(r===null)throw Error(X(310));bt=r,r={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},jt===null?vt.memoizedState=jt=r:jt=jt.next=r}return jt}function Sl(r,i){return typeof i=="function"?i(r):i}function fm(r){var i=ii(),s=i.queue;if(s===null)throw Error(X(311));s.lastRenderedReducer=r;var a=bt,c=a.baseQueue,h=s.pending;if(h!==null){if(c!==null){var m=c.next;c.next=h.next,h.next=m}a.baseQueue=c=h,s.pending=null}if(c!==null){h=c.next,a=a.baseState;var g=m=null,S=null,w=h;do{var A=w.lane;if((Wo&A)===A)S!==null&&(S=S.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),a=w.hasEagerState?w.eagerState:r(a,w.action);else{var _={lane:A,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};S===null?(g=S=_,m=a):S=S.next=_,vt.lanes|=A,$o|=A}w=w.next}while(w!==null&&w!==h);S===null?m=a:S.next=g,wi(a,i.memoizedState)||(Tn=!0),i.memoizedState=a,i.baseState=m,i.baseQueue=S,s.lastRenderedState=a}if(r=s.interleaved,r!==null){c=r;do h=c.lane,vt.lanes|=h,$o|=h,c=c.next;while(c!==r)}else c===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function hm(r){var i=ii(),s=i.queue;if(s===null)throw Error(X(311));s.lastRenderedReducer=r;var a=s.dispatch,c=s.pending,h=i.memoizedState;if(c!==null){s.pending=null;var m=c=c.next;do h=r(h,m.action),m=m.next;while(m!==c);wi(h,i.memoizedState)||(Tn=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),s.lastRenderedState=h}return[h,a]}function x3(){}function S3(r,i){var s=vt,a=ii(),c=i(),h=!wi(a.memoizedState,c);if(h&&(a.memoizedState=c,Tn=!0),a=a.queue,Sy(w3.bind(null,s,a,r),[r]),a.getSnapshot!==i||h||jt!==null&&jt.memoizedState.tag&1){if(s.flags|=2048,Tl(9,E3.bind(null,s,a,c,i),void 0,null),zt===null)throw Error(X(349));Wo&30||T3(s,i,c)}return c}function T3(r,i,s){r.flags|=16384,r={getSnapshot:i,value:s},i=vt.updateQueue,i===null?(i={lastEffect:null,stores:null},vt.updateQueue=i,i.stores=[r]):(s=i.stores,s===null?i.stores=[r]:s.push(r))}function E3(r,i,s,a){i.value=s,i.getSnapshot=a,A3(i)&&I3(r)}function w3(r,i,s){return s(function(){A3(i)&&I3(r)})}function A3(r){var i=r.getSnapshot;r=r.value;try{var s=i();return!wi(r,s)}catch{return!0}}function I3(r){var i=gr(r,1);i!==null&&Ei(i,r,1,-1)}function dA(r){var i=Oi();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:r},i.queue=r,r=r.dispatch=qO.bind(null,vt,r),[i.memoizedState,r]}function Tl(r,i,s,a){return r={tag:r,create:i,destroy:s,deps:a,next:null},i=vt.updateQueue,i===null?(i={lastEffect:null,stores:null},vt.updateQueue=i,i.lastEffect=r.next=r):(s=i.lastEffect,s===null?i.lastEffect=r.next=r:(a=s.next,s.next=r,r.next=a,i.lastEffect=r)),r}function C3(){return ii().memoizedState}function of(r,i,s,a){var c=Oi();vt.flags|=r,c.memoizedState=Tl(1|i,s,void 0,a===void 0?null:a)}function ih(r,i,s,a){var c=ii();a=a===void 0?null:a;var h=void 0;if(bt!==null){var m=bt.memoizedState;if(h=m.destroy,a!==null&&vy(a,m.deps)){c.memoizedState=Tl(i,s,h,a);return}}vt.flags|=r,c.memoizedState=Tl(1|i,s,h,a)}function fA(r,i){return of(8390656,8,r,i)}function Sy(r,i){return ih(2048,8,r,i)}function _3(r,i){return ih(4,2,r,i)}function k3(r,i){return ih(4,4,r,i)}function P3(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function L3(r,i,s){return s=s!=null?s.concat([r]):null,ih(4,4,P3.bind(null,i,r),s)}function Ty(){}function N3(r,i){var s=ii();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&vy(i,a[1])?a[0]:(s.memoizedState=[r,i],r)}function M3(r,i){var s=ii();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&vy(i,a[1])?a[0]:(r=r(),s.memoizedState=[r,i],r)}function R3(r,i,s){return Wo&21?(wi(s,i)||(s=OI(),vt.lanes|=s,$o|=s,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,Tn=!0),r.memoizedState=s)}function WO(r,i){var s=Ye;Ye=s!==0&&4>s?s:4,r(!0);var a=dm.transition;dm.transition={};try{r(!1),i()}finally{Ye=s,dm.transition=a}}function b3(){return ii().memoizedState}function $O(r,i,s){var a=Qr(r);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},D3(r))O3(i,s);else if(s=f3(r,i,s,a),s!==null){var c=dn();Ei(s,r,a,c),U3(s,i,a)}}function qO(r,i,s){var a=Qr(r),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(D3(r))O3(i,c);else{var h=r.alternate;if(r.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var m=i.lastRenderedState,g=h(m,s);if(c.hasEagerState=!0,c.eagerState=g,wi(g,m)){var S=i.interleaved;S===null?(c.next=c,fy(i)):(c.next=S.next,S.next=c),i.interleaved=c;return}}catch{}finally{}s=f3(r,i,c,a),s!==null&&(c=dn(),Ei(s,r,a,c),U3(s,i,a))}}function D3(r){var i=r.alternate;return r===vt||i!==null&&i===vt}function O3(r,i){el=Pf=!0;var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}function U3(r,i,s){if(s&4194240){var a=i.lanes;a&=r.pendingLanes,s|=a,i.lanes=s,Jv(r,s)}}var Lf={readContext:ni,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},XO={readContext:ni,useCallback:function(r,i){return Oi().memoizedState=[r,i===void 0?null:i],r},useContext:ni,useEffect:fA,useImperativeHandle:function(r,i,s){return s=s!=null?s.concat([r]):null,of(4194308,4,P3.bind(null,i,r),s)},useLayoutEffect:function(r,i){return of(4194308,4,r,i)},useInsertionEffect:function(r,i){return of(4,2,r,i)},useMemo:function(r,i){var s=Oi();return i=i===void 0?null:i,r=r(),s.memoizedState=[r,i],r},useReducer:function(r,i,s){var a=Oi();return i=s!==void 0?s(i):i,a.memoizedState=a.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},a.queue=r,r=r.dispatch=$O.bind(null,vt,r),[a.memoizedState,r]},useRef:function(r){var i=Oi();return r={current:r},i.memoizedState=r},useState:dA,useDebugValue:Ty,useDeferredValue:function(r){return Oi().memoizedState=r},useTransition:function(){var r=dA(!1),i=r[0];return r=WO.bind(null,r[1]),Oi().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,s){var a=vt,c=Oi();if(dt){if(s===void 0)throw Error(X(407));s=s()}else{if(s=i(),zt===null)throw Error(X(349));Wo&30||T3(a,i,s)}c.memoizedState=s;var h={value:s,getSnapshot:i};return c.queue=h,fA(w3.bind(null,a,h,r),[r]),a.flags|=2048,Tl(9,E3.bind(null,a,h,s,i),void 0,null),s},useId:function(){var r=Oi(),i=zt.identifierPrefix;if(dt){var s=dr,a=cr;s=(a&~(1<<32-Ti(a)-1)).toString(32)+s,i=":"+i+"R"+s,s=xl++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=KO++,i=":"+i+"r"+s.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},YO={readContext:ni,useCallback:N3,useContext:ni,useEffect:Sy,useImperativeHandle:L3,useInsertionEffect:_3,useLayoutEffect:k3,useMemo:M3,useReducer:fm,useRef:C3,useState:function(){return fm(Sl)},useDebugValue:Ty,useDeferredValue:function(r){var i=ii();return R3(i,bt.memoizedState,r)},useTransition:function(){var r=fm(Sl)[0],i=ii().memoizedState;return[r,i]},useMutableSource:x3,useSyncExternalStore:S3,useId:b3,unstable_isNewReconciler:!1},QO={readContext:ni,useCallback:N3,useContext:ni,useEffect:Sy,useImperativeHandle:L3,useInsertionEffect:_3,useLayoutEffect:k3,useMemo:M3,useReducer:hm,useRef:C3,useState:function(){return hm(Sl)},useDebugValue:Ty,useDeferredValue:function(r){var i=ii();return bt===null?i.memoizedState=r:R3(i,bt.memoizedState,r)},useTransition:function(){var r=hm(Sl)[0],i=ii().memoizedState;return[r,i]},useMutableSource:x3,useSyncExternalStore:S3,useId:b3,unstable_isNewReconciler:!1};function lu(r,i){try{var s="",a=i;do s+=ID(a),a=a.return;while(a);var c=s}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:r,source:i,stack:c,digest:null}}function pm(r,i,s){return{value:r,source:null,stack:s??null,digest:i??null}}function hv(r,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var JO=typeof WeakMap=="function"?WeakMap:Map;function F3(r,i,s){s=fr(-1,s),s.tag=3,s.payload={element:null};var a=i.value;return s.callback=function(){Mf||(Mf=!0,wv=a),hv(r,i)},s}function j3(r,i,s){s=fr(-1,s),s.tag=3;var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var c=i.value;s.payload=function(){return a(c)},s.callback=function(){hv(r,i)}}var h=r.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){hv(r,i),typeof a!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var m=i.stack;this.componentDidCatch(i.value,{componentStack:m!==null?m:""})}),s}function hA(r,i,s){var a=r.pingCache;if(a===null){a=r.pingCache=new JO;var c=new Set;a.set(i,c)}else c=a.get(i),c===void 0&&(c=new Set,a.set(i,c));c.has(s)||(c.add(s),r=fU.bind(null,r,i,s),i.then(r,r))}function pA(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function gA(r,i,s,a,c){return r.mode&1?(r.flags|=65536,r.lanes=c,r):(r===i?r.flags|=65536:(r.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=fr(-1,1),i.tag=2,Xr(s,i,1))),s.lanes|=1),r)}var ZO=vr.ReactCurrentOwner,Tn=!1;function ln(r,i,s,a){i.child=r===null?v3(i,null,s,a):uu(i,r.child,s,a)}function mA(r,i,s,a,c){s=s.render;var h=i.ref;return nu(i,c),a=yy(r,i,s,a,h,c),s=xy(),r!==null&&!Tn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~c,mr(r,i,c)):(dt&&s&&sy(i),i.flags|=1,ln(r,i,a,c),i.child)}function vA(r,i,s,a,c){if(r===null){var h=s.type;return typeof h=="function"&&!Py(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=h,B3(r,i,h,a,c)):(r=lf(s.type,null,a,i,i.mode,c),r.ref=i.ref,r.return=i,i.child=r)}if(h=r.child,!(r.lanes&c)){var m=h.memoizedProps;if(s=s.compare,s=s!==null?s:hl,s(m,a)&&r.ref===i.ref)return mr(r,i,c)}return i.flags|=1,r=Jr(h,a),r.ref=i.ref,r.return=i,i.child=r}function B3(r,i,s,a,c){if(r!==null){var h=r.memoizedProps;if(hl(h,a)&&r.ref===i.ref)if(Tn=!1,i.pendingProps=a=h,(r.lanes&c)!==0)r.flags&131072&&(Tn=!0);else return i.lanes=r.lanes,mr(r,i,c)}return pv(r,i,s,a,c)}function z3(r,i,s){var a=i.pendingProps,c=a.children,h=r!==null?r.memoizedState:null;if(a.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Ys,Mn),Mn|=s;else{if(!(s&1073741824))return r=h!==null?h.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,ot(Ys,Mn),Mn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:s,ot(Ys,Mn),Mn|=a}else h!==null?(a=h.baseLanes|s,i.memoizedState=null):a=s,ot(Ys,Mn),Mn|=a;return ln(r,i,c,s),i.child}function V3(r,i){var s=i.ref;(r===null&&s!==null||r!==null&&r.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function pv(r,i,s,a,c){var h=wn(s)?Ho:on.current;return h=ou(i,h),nu(i,c),s=yy(r,i,s,a,h,c),a=xy(),r!==null&&!Tn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~c,mr(r,i,c)):(dt&&a&&sy(i),i.flags|=1,ln(r,i,s,c),i.child)}function yA(r,i,s,a,c){if(wn(s)){var h=!0;Ef(i)}else h=!1;if(nu(i,c),i.stateNode===null)sf(r,i),g3(i,s,a),fv(i,s,a,c),a=!0;else if(r===null){var m=i.stateNode,g=i.memoizedProps;m.props=g;var S=m.context,w=s.contextType;typeof w=="object"&&w!==null?w=ni(w):(w=wn(s)?Ho:on.current,w=ou(i,w));var A=s.getDerivedStateFromProps,_=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function";_||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(g!==a||S!==w)&&lA(i,m,a,w),jr=!1;var k=i.memoizedState;m.state=k,_f(i,a,m,c),S=i.memoizedState,g!==a||k!==S||En.current||jr?(typeof A=="function"&&(dv(i,s,A,a),S=i.memoizedState),(g=jr||aA(i,s,g,a,k,S,w))?(_||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=S),m.props=a,m.state=S,m.context=w,a=g):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{m=i.stateNode,h3(r,i),g=i.memoizedProps,w=i.type===i.elementType?g:gi(i.type,g),m.props=w,_=i.pendingProps,k=m.context,S=s.contextType,typeof S=="object"&&S!==null?S=ni(S):(S=wn(s)?Ho:on.current,S=ou(i,S));var U=s.getDerivedStateFromProps;(A=typeof U=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(g!==_||k!==S)&&lA(i,m,a,S),jr=!1,k=i.memoizedState,m.state=k,_f(i,a,m,c);var x=i.memoizedState;g!==_||k!==x||En.current||jr?(typeof U=="function"&&(dv(i,s,U,a),x=i.memoizedState),(w=jr||aA(i,s,w,a,k,x,S)||!1)?(A||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,x,S),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,x,S)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||g===r.memoizedProps&&k===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||g===r.memoizedProps&&k===r.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=x),m.props=a,m.state=x,m.context=S,a=w):(typeof m.componentDidUpdate!="function"||g===r.memoizedProps&&k===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||g===r.memoizedProps&&k===r.memoizedState||(i.flags|=1024),a=!1)}return gv(r,i,s,a,h,c)}function gv(r,i,s,a,c,h){V3(r,i);var m=(i.flags&128)!==0;if(!a&&!m)return c&&iA(i,s,!1),mr(r,i,h);a=i.stateNode,ZO.current=i;var g=m&&typeof s.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,r!==null&&m?(i.child=uu(i,r.child,null,h),i.child=uu(i,null,g,h)):ln(r,i,g,h),i.memoizedState=a.state,c&&iA(i,s,!0),i.child}function G3(r){var i=r.stateNode;i.pendingContext?nA(r,i.pendingContext,i.pendingContext!==i.context):i.context&&nA(r,i.context,!1),py(r,i.containerInfo)}function xA(r,i,s,a,c){return su(),ay(c),i.flags|=256,ln(r,i,s,a),i.child}var mv={dehydrated:null,treeContext:null,retryLane:0};function vv(r){return{baseLanes:r,cachePool:null,transitions:null}}function H3(r,i,s){var a=i.pendingProps,c=gt.current,h=!1,m=(i.flags&128)!==0,g;if((g=m)||(g=r!==null&&r.memoizedState===null?!1:(c&2)!==0),g?(h=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(c|=1),ot(gt,c&1),r===null)return lv(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(m=a.children,r=a.fallback,h?(a=i.mode,h=i.child,m={mode:"hidden",children:m},!(a&1)&&h!==null?(h.childLanes=0,h.pendingProps=m):h=sh(m,a,0,null),r=Vo(r,a,s,null),h.return=i,r.return=i,h.sibling=r,i.child=h,i.child.memoizedState=vv(s),i.memoizedState=mv,r):Ey(i,m));if(c=r.memoizedState,c!==null&&(g=c.dehydrated,g!==null))return eU(r,i,m,a,g,c,s);if(h){h=a.fallback,m=i.mode,c=r.child,g=c.sibling;var S={mode:"hidden",children:a.children};return!(m&1)&&i.child!==c?(a=i.child,a.childLanes=0,a.pendingProps=S,i.deletions=null):(a=Jr(c,S),a.subtreeFlags=c.subtreeFlags&14680064),g!==null?h=Jr(g,h):(h=Vo(h,m,s,null),h.flags|=2),h.return=i,a.return=i,a.sibling=h,i.child=a,a=h,h=i.child,m=r.child.memoizedState,m=m===null?vv(s):{baseLanes:m.baseLanes|s,cachePool:null,transitions:m.transitions},h.memoizedState=m,h.childLanes=r.childLanes&~s,i.memoizedState=mv,a}return h=r.child,r=h.sibling,a=Jr(h,{mode:"visible",children:a.children}),!(i.mode&1)&&(a.lanes=s),a.return=i,a.sibling=null,r!==null&&(s=i.deletions,s===null?(i.deletions=[r],i.flags|=16):s.push(r)),i.child=a,i.memoizedState=null,a}function Ey(r,i){return i=sh({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Od(r,i,s,a){return a!==null&&ay(a),uu(i,r.child,null,s),r=Ey(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function eU(r,i,s,a,c,h,m){if(s)return i.flags&256?(i.flags&=-257,a=pm(Error(X(422))),Od(r,i,m,a)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(h=a.fallback,c=i.mode,a=sh({mode:"visible",children:a.children},c,0,null),h=Vo(h,c,m,null),h.flags|=2,a.return=i,h.return=i,a.sibling=h,i.child=a,i.mode&1&&uu(i,r.child,null,m),i.child.memoizedState=vv(m),i.memoizedState=mv,h);if(!(i.mode&1))return Od(r,i,m,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var g=a.dgst;return a=g,h=Error(X(419)),a=pm(h,a,void 0),Od(r,i,m,a)}if(g=(m&r.childLanes)!==0,Tn||g){if(a=zt,a!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|m)?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,gr(r,c),Ei(a,r,c,-1))}return ky(),a=pm(Error(X(421))),Od(r,i,m,a)}return c.data==="$?"?(i.flags|=128,i.child=r.child,i=hU.bind(null,r),c._reactRetry=i,null):(r=h.treeContext,Rn=qr(c.nextSibling),bn=i,dt=!0,vi=null,r!==null&&(Yn[Qn++]=cr,Yn[Qn++]=dr,Yn[Qn++]=Ko,cr=r.id,dr=r.overflow,Ko=i),i=Ey(i,a.children),i.flags|=4096,i)}function SA(r,i,s){r.lanes|=i;var a=r.alternate;a!==null&&(a.lanes|=i),cv(r.return,i,s)}function gm(r,i,s,a,c){var h=r.memoizedState;h===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=s,h.tailMode=c)}function K3(r,i,s){var a=i.pendingProps,c=a.revealOrder,h=a.tail;if(ln(r,i,a.children,s),a=gt.current,a&2)a=a&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&SA(r,s,i);else if(r.tag===19)SA(r,s,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}a&=1}if(ot(gt,a),!(i.mode&1))i.memoizedState=null;else switch(c){case"forwards":for(s=i.child,c=null;s!==null;)r=s.alternate,r!==null&&kf(r)===null&&(c=s),s=s.sibling;s=c,s===null?(c=i.child,i.child=null):(c=s.sibling,s.sibling=null),gm(i,!1,c,s,h);break;case"backwards":for(s=null,c=i.child,i.child=null;c!==null;){if(r=c.alternate,r!==null&&kf(r)===null){i.child=c;break}r=c.sibling,c.sibling=s,s=c,c=r}gm(i,!0,s,null,h);break;case"together":gm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function sf(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function mr(r,i,s){if(r!==null&&(i.dependencies=r.dependencies),$o|=i.lanes,!(s&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(X(153));if(i.child!==null){for(r=i.child,s=Jr(r,r.pendingProps),i.child=s,s.return=i;r.sibling!==null;)r=r.sibling,s=s.sibling=Jr(r,r.pendingProps),s.return=i;s.sibling=null}return i.child}function tU(r,i,s){switch(i.tag){case 3:G3(i),su();break;case 5:y3(i);break;case 1:wn(i.type)&&Ef(i);break;case 4:py(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,c=i.memoizedProps.value;ot(If,a._currentValue),a._currentValue=c;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(ot(gt,gt.current&1),i.flags|=128,null):s&i.child.childLanes?H3(r,i,s):(ot(gt,gt.current&1),r=mr(r,i,s),r!==null?r.sibling:null);ot(gt,gt.current&1);break;case 19:if(a=(s&i.childLanes)!==0,r.flags&128){if(a)return K3(r,i,s);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ot(gt,gt.current),a)break;return null;case 22:case 23:return i.lanes=0,z3(r,i,s)}return mr(r,i,s)}var W3,yv,$3,q3;W3=function(r,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};yv=function(){};$3=function(r,i,s,a){var c=r.memoizedProps;if(c!==a){r=i.stateNode,Bo(Bi.current);var h=null;switch(s){case"input":c=Bm(r,c),a=Bm(r,a),h=[];break;case"select":c=yt({},c,{value:void 0}),a=yt({},a,{value:void 0}),h=[];break;case"textarea":c=Gm(r,c),a=Gm(r,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(r.onclick=Sf)}Km(s,a);var m;s=null;for(w in c)if(!a.hasOwnProperty(w)&&c.hasOwnProperty(w)&&c[w]!=null)if(w==="style"){var g=c[w];for(m in g)g.hasOwnProperty(m)&&(s||(s={}),s[m]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(sl.hasOwnProperty(w)?h||(h=[]):(h=h||[]).push(w,null));for(w in a){var S=a[w];if(g=c!=null?c[w]:void 0,a.hasOwnProperty(w)&&S!==g&&(S!=null||g!=null))if(w==="style")if(g){for(m in g)!g.hasOwnProperty(m)||S&&S.hasOwnProperty(m)||(s||(s={}),s[m]="");for(m in S)S.hasOwnProperty(m)&&g[m]!==S[m]&&(s||(s={}),s[m]=S[m])}else s||(h||(h=[]),h.push(w,s)),s=S;else w==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,g=g?g.__html:void 0,S!=null&&g!==S&&(h=h||[]).push(w,S)):w==="children"?typeof S!="string"&&typeof S!="number"||(h=h||[]).push(w,""+S):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(sl.hasOwnProperty(w)?(S!=null&&w==="onScroll"&&lt("scroll",r),h||g===S||(h=[])):(h=h||[]).push(w,S))}s&&(h=h||[]).push("style",s);var w=h;(i.updateQueue=w)&&(i.flags|=4)}};q3=function(r,i,s,a){s!==a&&(i.flags|=4)};function Ra(r,i){if(!dt)switch(r.tailMode){case"hidden":i=r.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:a.sibling=null}}function en(r){var i=r.alternate!==null&&r.alternate.child===r.child,s=0,a=0;if(i)for(var c=r.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=r,c=c.sibling;else for(c=r.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=r,c=c.sibling;return r.subtreeFlags|=a,r.childLanes=s,i}function nU(r,i,s){var a=i.pendingProps;switch(uy(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(i),null;case 1:return wn(i.type)&&Tf(),en(i),null;case 3:return a=i.stateNode,au(),ct(En),ct(on),my(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(bd(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,vi!==null&&(Cv(vi),vi=null))),yv(r,i),en(i),null;case 5:gy(i);var c=Bo(yl.current);if(s=i.type,r!==null&&i.stateNode!=null)$3(r,i,s,a,c),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(X(166));return en(i),null}if(r=Bo(Bi.current),bd(i)){a=i.stateNode,s=i.type;var h=i.memoizedProps;switch(a[Ui]=i,a[ml]=h,r=(i.mode&1)!==0,s){case"dialog":lt("cancel",a),lt("close",a);break;case"iframe":case"object":case"embed":lt("load",a);break;case"video":case"audio":for(c=0;c<Ka.length;c++)lt(Ka[c],a);break;case"source":lt("error",a);break;case"img":case"image":case"link":lt("error",a),lt("load",a);break;case"details":lt("toggle",a);break;case"input":P4(a,h),lt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},lt("invalid",a);break;case"textarea":N4(a,h),lt("invalid",a)}Km(s,h),c=null;for(var m in h)if(h.hasOwnProperty(m)){var g=h[m];m==="children"?typeof g=="string"?a.textContent!==g&&(h.suppressHydrationWarning!==!0&&Rd(a.textContent,g,r),c=["children",g]):typeof g=="number"&&a.textContent!==""+g&&(h.suppressHydrationWarning!==!0&&Rd(a.textContent,g,r),c=["children",""+g]):sl.hasOwnProperty(m)&&g!=null&&m==="onScroll"&&lt("scroll",a)}switch(s){case"input":Id(a),L4(a,h,!0);break;case"textarea":Id(a),M4(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=Sf)}a=c,i.updateQueue=a,a!==null&&(i.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=TI(s)),r==="http://www.w3.org/1999/xhtml"?s==="script"?(r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof a.is=="string"?r=m.createElement(s,{is:a.is}):(r=m.createElement(s),s==="select"&&(m=r,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):r=m.createElementNS(r,s),r[Ui]=i,r[ml]=a,W3(r,i,!1,!1),i.stateNode=r;e:{switch(m=Wm(s,a),s){case"dialog":lt("cancel",r),lt("close",r),c=a;break;case"iframe":case"object":case"embed":lt("load",r),c=a;break;case"video":case"audio":for(c=0;c<Ka.length;c++)lt(Ka[c],r);c=a;break;case"source":lt("error",r),c=a;break;case"img":case"image":case"link":lt("error",r),lt("load",r),c=a;break;case"details":lt("toggle",r),c=a;break;case"input":P4(r,a),c=Bm(r,a),lt("invalid",r);break;case"option":c=a;break;case"select":r._wrapperState={wasMultiple:!!a.multiple},c=yt({},a,{value:void 0}),lt("invalid",r);break;case"textarea":N4(r,a),c=Gm(r,a),lt("invalid",r);break;default:c=a}Km(s,c),g=c;for(h in g)if(g.hasOwnProperty(h)){var S=g[h];h==="style"?AI(r,S):h==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&EI(r,S)):h==="children"?typeof S=="string"?(s!=="textarea"||S!=="")&&ul(r,S):typeof S=="number"&&ul(r,""+S):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(sl.hasOwnProperty(h)?S!=null&&h==="onScroll"&&lt("scroll",r):S!=null&&Wv(r,h,S,m))}switch(s){case"input":Id(r),L4(r,a,!1);break;case"textarea":Id(r),M4(r);break;case"option":a.value!=null&&r.setAttribute("value",""+Zr(a.value));break;case"select":r.multiple=!!a.multiple,h=a.value,h!=null?Js(r,!!a.multiple,h,!1):a.defaultValue!=null&&Js(r,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(r.onclick=Sf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return en(i),null;case 6:if(r&&i.stateNode!=null)q3(r,i,r.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(X(166));if(s=Bo(yl.current),Bo(Bi.current),bd(i)){if(a=i.stateNode,s=i.memoizedProps,a[Ui]=i,(h=a.nodeValue!==s)&&(r=bn,r!==null))switch(r.tag){case 3:Rd(a.nodeValue,s,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Rd(a.nodeValue,s,(r.mode&1)!==0)}h&&(i.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Ui]=i,i.stateNode=a}return en(i),null;case 13:if(ct(gt),a=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(dt&&Rn!==null&&i.mode&1&&!(i.flags&128))d3(),su(),i.flags|=98560,h=!1;else if(h=bd(i),a!==null&&a.dehydrated!==null){if(r===null){if(!h)throw Error(X(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(X(317));h[Ui]=i}else su(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;en(i),h=!1}else vi!==null&&(Cv(vi),vi=null),h=!0;if(!h)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(a=a!==null,a!==(r!==null&&r.memoizedState!==null)&&a&&(i.child.flags|=8192,i.mode&1&&(r===null||gt.current&1?Dt===0&&(Dt=3):ky())),i.updateQueue!==null&&(i.flags|=4),en(i),null);case 4:return au(),yv(r,i),r===null&&pl(i.stateNode.containerInfo),en(i),null;case 10:return dy(i.type._context),en(i),null;case 17:return wn(i.type)&&Tf(),en(i),null;case 19:if(ct(gt),h=i.memoizedState,h===null)return en(i),null;if(a=(i.flags&128)!==0,m=h.rendering,m===null)if(a)Ra(h,!1);else{if(Dt!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(m=kf(r),m!==null){for(i.flags|=128,Ra(h,!1),a=m.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=s,s=i.child;s!==null;)h=s,r=a,h.flags&=14680066,m=h.alternate,m===null?(h.childLanes=0,h.lanes=r,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=m.childLanes,h.lanes=m.lanes,h.child=m.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=m.memoizedProps,h.memoizedState=m.memoizedState,h.updateQueue=m.updateQueue,h.type=m.type,r=m.dependencies,h.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s=s.sibling;return ot(gt,gt.current&1|2),i.child}r=r.sibling}h.tail!==null&&It()>cu&&(i.flags|=128,a=!0,Ra(h,!1),i.lanes=4194304)}else{if(!a)if(r=kf(m),r!==null){if(i.flags|=128,a=!0,s=r.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Ra(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!dt)return en(i),null}else 2*It()-h.renderingStartTime>cu&&s!==1073741824&&(i.flags|=128,a=!0,Ra(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(s=h.last,s!==null?s.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=It(),i.sibling=null,s=gt.current,ot(gt,a?s&1|2:s&1),i):(en(i),null);case 22:case 23:return _y(),a=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==a&&(i.flags|=8192),a&&i.mode&1?Mn&1073741824&&(en(i),i.subtreeFlags&6&&(i.flags|=8192)):en(i),null;case 24:return null;case 25:return null}throw Error(X(156,i.tag))}function iU(r,i){switch(uy(i),i.tag){case 1:return wn(i.type)&&Tf(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return au(),ct(En),ct(on),my(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return gy(i),null;case 13:if(ct(gt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(X(340));su()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ct(gt),null;case 4:return au(),null;case 10:return dy(i.type._context),null;case 22:case 23:return _y(),null;case 24:return null;default:return null}}var Ud=!1,nn=!1,rU=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Xs(r,i){var s=r.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){St(r,i,a)}else s.current=null}function xv(r,i,s){try{s()}catch(a){St(r,i,a)}}var TA=!1;function oU(r,i){if(nv=vf,r=JI(),oy(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else e:{s=(s=r.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var m=0,g=-1,S=-1,w=0,A=0,_=r,k=null;t:for(;;){for(var U;_!==s||c!==0&&_.nodeType!==3||(g=m+c),_!==h||a!==0&&_.nodeType!==3||(S=m+a),_.nodeType===3&&(m+=_.nodeValue.length),(U=_.firstChild)!==null;)k=_,_=U;for(;;){if(_===r)break t;if(k===s&&++w===c&&(g=m),k===h&&++A===a&&(S=m),(U=_.nextSibling)!==null)break;_=k,k=_.parentNode}_=U}s=g===-1||S===-1?null:{start:g,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(iv={focusedElem:r,selectionRange:s},vf=!1,ie=i;ie!==null;)if(i=ie,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ie=r;else for(;ie!==null;){i=ie;try{var x=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,$=x.memoizedState,D=i.stateNode,R=D.getSnapshotBeforeUpdate(i.elementType===i.type?b:gi(i.type,b),$);D.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(W){St(i,i.return,W)}if(r=i.sibling,r!==null){r.return=i.return,ie=r;break}ie=i.return}return x=TA,TA=!1,x}function tl(r,i,s){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&r)===r){var h=c.destroy;c.destroy=void 0,h!==void 0&&xv(i,s,h)}c=c.next}while(c!==a)}}function rh(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&r)===r){var a=s.create;s.destroy=a()}s=s.next}while(s!==i)}}function Sv(r){var i=r.ref;if(i!==null){var s=r.stateNode;switch(r.tag){case 5:r=s;break;default:r=s}typeof i=="function"?i(r):i.current=r}}function X3(r){var i=r.alternate;i!==null&&(r.alternate=null,X3(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Ui],delete i[ml],delete i[sv],delete i[zO],delete i[VO])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Y3(r){return r.tag===5||r.tag===3||r.tag===4}function EA(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Y3(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Tv(r,i,s){var a=r.tag;if(a===5||a===6)r=r.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(r,i):s.insertBefore(r,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(r,s)):(i=s,i.appendChild(r)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Sf));else if(a!==4&&(r=r.child,r!==null))for(Tv(r,i,s),r=r.sibling;r!==null;)Tv(r,i,s),r=r.sibling}function Ev(r,i,s){var a=r.tag;if(a===5||a===6)r=r.stateNode,i?s.insertBefore(r,i):s.appendChild(r);else if(a!==4&&(r=r.child,r!==null))for(Ev(r,i,s),r=r.sibling;r!==null;)Ev(r,i,s),r=r.sibling}var qt=null,mi=!1;function br(r,i,s){for(s=s.child;s!==null;)Q3(r,i,s),s=s.sibling}function Q3(r,i,s){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(Yf,s)}catch{}switch(s.tag){case 5:nn||Xs(s,i);case 6:var a=qt,c=mi;qt=null,br(r,i,s),qt=a,mi=c,qt!==null&&(mi?(r=qt,s=s.stateNode,r.nodeType===8?r.parentNode.removeChild(s):r.removeChild(s)):qt.removeChild(s.stateNode));break;case 18:qt!==null&&(mi?(r=qt,s=s.stateNode,r.nodeType===8?am(r.parentNode,s):r.nodeType===1&&am(r,s),dl(r)):am(qt,s.stateNode));break;case 4:a=qt,c=mi,qt=s.stateNode.containerInfo,mi=!0,br(r,i,s),qt=a,mi=c;break;case 0:case 11:case 14:case 15:if(!nn&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,m=h.destroy;h=h.tag,m!==void 0&&(h&2||h&4)&&xv(s,i,m),c=c.next}while(c!==a)}br(r,i,s);break;case 1:if(!nn&&(Xs(s,i),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(g){St(s,i,g)}br(r,i,s);break;case 21:br(r,i,s);break;case 22:s.mode&1?(nn=(a=nn)||s.memoizedState!==null,br(r,i,s),nn=a):br(r,i,s);break;default:br(r,i,s)}}function wA(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var s=r.stateNode;s===null&&(s=r.stateNode=new rU),i.forEach(function(a){var c=pU.bind(null,r,a);s.has(a)||(s.add(a),a.then(c,c))})}}function hi(r,i){var s=i.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var h=r,m=i,g=m;e:for(;g!==null;){switch(g.tag){case 5:qt=g.stateNode,mi=!1;break e;case 3:qt=g.stateNode.containerInfo,mi=!0;break e;case 4:qt=g.stateNode.containerInfo,mi=!0;break e}g=g.return}if(qt===null)throw Error(X(160));Q3(h,m,c),qt=null,mi=!1;var S=c.alternate;S!==null&&(S.return=null),c.return=null}catch(w){St(c,i,w)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)J3(i,r),i=i.sibling}function J3(r,i){var s=r.alternate,a=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(hi(i,r),bi(r),a&4){try{tl(3,r,r.return),rh(3,r)}catch(b){St(r,r.return,b)}try{tl(5,r,r.return)}catch(b){St(r,r.return,b)}}break;case 1:hi(i,r),bi(r),a&512&&s!==null&&Xs(s,s.return);break;case 5:if(hi(i,r),bi(r),a&512&&s!==null&&Xs(s,s.return),r.flags&32){var c=r.stateNode;try{ul(c,"")}catch(b){St(r,r.return,b)}}if(a&4&&(c=r.stateNode,c!=null)){var h=r.memoizedProps,m=s!==null?s.memoizedProps:h,g=r.type,S=r.updateQueue;if(r.updateQueue=null,S!==null)try{g==="input"&&h.type==="radio"&&h.name!=null&&xI(c,h),Wm(g,m);var w=Wm(g,h);for(m=0;m<S.length;m+=2){var A=S[m],_=S[m+1];A==="style"?AI(c,_):A==="dangerouslySetInnerHTML"?EI(c,_):A==="children"?ul(c,_):Wv(c,A,_,w)}switch(g){case"input":zm(c,h);break;case"textarea":SI(c,h);break;case"select":var k=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var U=h.value;U!=null?Js(c,!!h.multiple,U,!1):k!==!!h.multiple&&(h.defaultValue!=null?Js(c,!!h.multiple,h.defaultValue,!0):Js(c,!!h.multiple,h.multiple?[]:"",!1))}c[ml]=h}catch(b){St(r,r.return,b)}}break;case 6:if(hi(i,r),bi(r),a&4){if(r.stateNode===null)throw Error(X(162));c=r.stateNode,h=r.memoizedProps;try{c.nodeValue=h}catch(b){St(r,r.return,b)}}break;case 3:if(hi(i,r),bi(r),a&4&&s!==null&&s.memoizedState.isDehydrated)try{dl(i.containerInfo)}catch(b){St(r,r.return,b)}break;case 4:hi(i,r),bi(r);break;case 13:hi(i,r),bi(r),c=r.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(Iy=It())),a&4&&wA(r);break;case 22:if(A=s!==null&&s.memoizedState!==null,r.mode&1?(nn=(w=nn)||A,hi(i,r),nn=w):hi(i,r),bi(r),a&8192){if(w=r.memoizedState!==null,(r.stateNode.isHidden=w)&&!A&&r.mode&1)for(ie=r,A=r.child;A!==null;){for(_=ie=A;ie!==null;){switch(k=ie,U=k.child,k.tag){case 0:case 11:case 14:case 15:tl(4,k,k.return);break;case 1:Xs(k,k.return);var x=k.stateNode;if(typeof x.componentWillUnmount=="function"){a=k,s=k.return;try{i=a,x.props=i.memoizedProps,x.state=i.memoizedState,x.componentWillUnmount()}catch(b){St(a,s,b)}}break;case 5:Xs(k,k.return);break;case 22:if(k.memoizedState!==null){IA(_);continue}}U!==null?(U.return=k,ie=U):IA(_)}A=A.sibling}e:for(A=null,_=r;;){if(_.tag===5){if(A===null){A=_;try{c=_.stateNode,w?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(g=_.stateNode,S=_.memoizedProps.style,m=S!=null&&S.hasOwnProperty("display")?S.display:null,g.style.display=wI("display",m))}catch(b){St(r,r.return,b)}}}else if(_.tag===6){if(A===null)try{_.stateNode.nodeValue=w?"":_.memoizedProps}catch(b){St(r,r.return,b)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===r)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;A===_&&(A=null),_=_.return}A===_&&(A=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:hi(i,r),bi(r),a&4&&wA(r);break;case 21:break;default:hi(i,r),bi(r)}}function bi(r){var i=r.flags;if(i&2){try{e:{for(var s=r.return;s!==null;){if(Y3(s)){var a=s;break e}s=s.return}throw Error(X(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ul(c,""),a.flags&=-33);var h=EA(r);Ev(r,h,c);break;case 3:case 4:var m=a.stateNode.containerInfo,g=EA(r);Tv(r,g,m);break;default:throw Error(X(161))}}catch(S){St(r,r.return,S)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function sU(r,i,s){ie=r,Z3(r)}function Z3(r,i,s){for(var a=(r.mode&1)!==0;ie!==null;){var c=ie,h=c.child;if(c.tag===22&&a){var m=c.memoizedState!==null||Ud;if(!m){var g=c.alternate,S=g!==null&&g.memoizedState!==null||nn;g=Ud;var w=nn;if(Ud=m,(nn=S)&&!w)for(ie=c;ie!==null;)m=ie,S=m.child,m.tag===22&&m.memoizedState!==null?CA(c):S!==null?(S.return=m,ie=S):CA(c);for(;h!==null;)ie=h,Z3(h),h=h.sibling;ie=c,Ud=g,nn=w}AA(r)}else c.subtreeFlags&8772&&h!==null?(h.return=c,ie=h):AA(r)}}function AA(r){for(;ie!==null;){var i=ie;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:nn||rh(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!nn)if(s===null)a.componentDidMount();else{var c=i.elementType===i.type?s.memoizedProps:gi(i.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=i.updateQueue;h!==null&&uA(i,h,a);break;case 3:var m=i.updateQueue;if(m!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}uA(i,m,s)}break;case 5:var g=i.stateNode;if(s===null&&i.flags&4){s=g;var S=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&s.focus();break;case"img":S.src&&(s.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var w=i.alternate;if(w!==null){var A=w.memoizedState;if(A!==null){var _=A.dehydrated;_!==null&&dl(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}nn||i.flags&512&&Sv(i)}catch(k){St(i,i.return,k)}}if(i===r){ie=null;break}if(s=i.sibling,s!==null){s.return=i.return,ie=s;break}ie=i.return}}function IA(r){for(;ie!==null;){var i=ie;if(i===r){ie=null;break}var s=i.sibling;if(s!==null){s.return=i.return,ie=s;break}ie=i.return}}function CA(r){for(;ie!==null;){var i=ie;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{rh(4,i)}catch(S){St(i,s,S)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var c=i.return;try{a.componentDidMount()}catch(S){St(i,c,S)}}var h=i.return;try{Sv(i)}catch(S){St(i,h,S)}break;case 5:var m=i.return;try{Sv(i)}catch(S){St(i,m,S)}}}catch(S){St(i,i.return,S)}if(i===r){ie=null;break}var g=i.sibling;if(g!==null){g.return=i.return,ie=g;break}ie=i.return}}var uU=Math.ceil,Nf=vr.ReactCurrentDispatcher,wy=vr.ReactCurrentOwner,ei=vr.ReactCurrentBatchConfig,Oe=0,zt=null,Lt=null,Xt=0,Mn=0,Ys=no(0),Dt=0,El=null,$o=0,oh=0,Ay=0,nl=null,xn=null,Iy=0,cu=1/0,ur=null,Mf=!1,wv=null,Yr=null,Fd=!1,Hr=null,Rf=0,il=0,Av=null,uf=-1,af=0;function dn(){return Oe&6?It():uf!==-1?uf:uf=It()}function Qr(r){return r.mode&1?Oe&2&&Xt!==0?Xt&-Xt:HO.transition!==null?(af===0&&(af=OI()),af):(r=Ye,r!==0||(r=window.event,r=r===void 0?16:GI(r.type)),r):1}function Ei(r,i,s,a){if(50<il)throw il=0,Av=null,Error(X(185));kl(r,s,a),(!(Oe&2)||r!==zt)&&(r===zt&&(!(Oe&2)&&(oh|=s),Dt===4&&Vr(r,Xt)),An(r,a),s===1&&Oe===0&&!(i.mode&1)&&(cu=It()+500,th&&io()))}function An(r,i){var s=r.callbackNode;HD(r,i);var a=mf(r,r===zt?Xt:0);if(a===0)s!==null&&D4(s),r.callbackNode=null,r.callbackPriority=0;else if(i=a&-a,r.callbackPriority!==i){if(s!=null&&D4(s),i===1)r.tag===0?GO(_A.bind(null,r)):a3(_A.bind(null,r)),jO(function(){!(Oe&6)&&io()}),s=null;else{switch(UI(a)){case 1:s=Qv;break;case 4:s=bI;break;case 16:s=gf;break;case 536870912:s=DI;break;default:s=gf}s=uC(s,eC.bind(null,r))}r.callbackPriority=i,r.callbackNode=s}}function eC(r,i){if(uf=-1,af=0,Oe&6)throw Error(X(327));var s=r.callbackNode;if(iu()&&r.callbackNode!==s)return null;var a=mf(r,r===zt?Xt:0);if(a===0)return null;if(a&30||a&r.expiredLanes||i)i=bf(r,a);else{i=a;var c=Oe;Oe|=2;var h=nC();(zt!==r||Xt!==i)&&(ur=null,cu=It()+500,zo(r,i));do try{cU();break}catch(g){tC(r,g)}while(1);cy(),Nf.current=h,Oe=c,Lt!==null?i=0:(zt=null,Xt=0,i=Dt)}if(i!==0){if(i===2&&(c=Qm(r),c!==0&&(a=c,i=Iv(r,c))),i===1)throw s=El,zo(r,0),Vr(r,a),An(r,It()),s;if(i===6)Vr(r,a);else{if(c=r.current.alternate,!(a&30)&&!aU(c)&&(i=bf(r,a),i===2&&(h=Qm(r),h!==0&&(a=h,i=Iv(r,h))),i===1))throw s=El,zo(r,0),Vr(r,a),An(r,It()),s;switch(r.finishedWork=c,r.finishedLanes=a,i){case 0:case 1:throw Error(X(345));case 2:Oo(r,xn,ur);break;case 3:if(Vr(r,a),(a&130023424)===a&&(i=Iy+500-It(),10<i)){if(mf(r,0)!==0)break;if(c=r.suspendedLanes,(c&a)!==a){dn(),r.pingedLanes|=r.suspendedLanes&c;break}r.timeoutHandle=ov(Oo.bind(null,r,xn,ur),i);break}Oo(r,xn,ur);break;case 4:if(Vr(r,a),(a&4194240)===a)break;for(i=r.eventTimes,c=-1;0<a;){var m=31-Ti(a);h=1<<m,m=i[m],m>c&&(c=m),a&=~h}if(a=c,a=It()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*uU(a/1960))-a,10<a){r.timeoutHandle=ov(Oo.bind(null,r,xn,ur),a);break}Oo(r,xn,ur);break;case 5:Oo(r,xn,ur);break;default:throw Error(X(329))}}}return An(r,It()),r.callbackNode===s?eC.bind(null,r):null}function Iv(r,i){var s=nl;return r.current.memoizedState.isDehydrated&&(zo(r,i).flags|=256),r=bf(r,i),r!==2&&(i=xn,xn=s,i!==null&&Cv(i)),r}function Cv(r){xn===null?xn=r:xn.push.apply(xn,r)}function aU(r){for(var i=r;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],h=c.getSnapshot;c=c.value;try{if(!wi(h(),c))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(r,i){for(i&=~Ay,i&=~oh,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var s=31-Ti(i),a=1<<s;r[s]=-1,i&=~a}}function _A(r){if(Oe&6)throw Error(X(327));iu();var i=mf(r,0);if(!(i&1))return An(r,It()),null;var s=bf(r,i);if(r.tag!==0&&s===2){var a=Qm(r);a!==0&&(i=a,s=Iv(r,a))}if(s===1)throw s=El,zo(r,0),Vr(r,i),An(r,It()),s;if(s===6)throw Error(X(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Oo(r,xn,ur),An(r,It()),null}function Cy(r,i){var s=Oe;Oe|=1;try{return r(i)}finally{Oe=s,Oe===0&&(cu=It()+500,th&&io())}}function qo(r){Hr!==null&&Hr.tag===0&&!(Oe&6)&&iu();var i=Oe;Oe|=1;var s=ei.transition,a=Ye;try{if(ei.transition=null,Ye=1,r)return r()}finally{Ye=a,ei.transition=s,Oe=i,!(Oe&6)&&io()}}function _y(){Mn=Ys.current,ct(Ys)}function zo(r,i){r.finishedWork=null,r.finishedLanes=0;var s=r.timeoutHandle;if(s!==-1&&(r.timeoutHandle=-1,FO(s)),Lt!==null)for(s=Lt.return;s!==null;){var a=s;switch(uy(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Tf();break;case 3:au(),ct(En),ct(on),my();break;case 5:gy(a);break;case 4:au();break;case 13:ct(gt);break;case 19:ct(gt);break;case 10:dy(a.type._context);break;case 22:case 23:_y()}s=s.return}if(zt=r,Lt=r=Jr(r.current,null),Xt=Mn=i,Dt=0,El=null,Ay=oh=$o=0,xn=nl=null,jo!==null){for(i=0;i<jo.length;i++)if(s=jo[i],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,h=s.pending;if(h!==null){var m=h.next;h.next=c,a.next=m}s.pending=a}jo=null}return r}function tC(r,i){do{var s=Lt;try{if(cy(),rf.current=Lf,Pf){for(var a=vt.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Pf=!1}if(Wo=0,jt=bt=vt=null,el=!1,xl=0,wy.current=null,s===null||s.return===null){Dt=1,El=i,Lt=null;break}e:{var h=r,m=s.return,g=s,S=i;if(i=Xt,g.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var w=S,A=g,_=A.tag;if(!(A.mode&1)&&(_===0||_===11||_===15)){var k=A.alternate;k?(A.updateQueue=k.updateQueue,A.memoizedState=k.memoizedState,A.lanes=k.lanes):(A.updateQueue=null,A.memoizedState=null)}var U=pA(m);if(U!==null){U.flags&=-257,gA(U,m,g,h,i),U.mode&1&&hA(h,w,i),i=U,S=w;var x=i.updateQueue;if(x===null){var b=new Set;b.add(S),i.updateQueue=b}else x.add(S);break e}else{if(!(i&1)){hA(h,w,i),ky();break e}S=Error(X(426))}}else if(dt&&g.mode&1){var $=pA(m);if($!==null){!($.flags&65536)&&($.flags|=256),gA($,m,g,h,i),ay(lu(S,g));break e}}h=S=lu(S,g),Dt!==4&&(Dt=2),nl===null?nl=[h]:nl.push(h),h=m;do{switch(h.tag){case 3:h.flags|=65536,i&=-i,h.lanes|=i;var D=F3(h,S,i);sA(h,D);break e;case 1:g=S;var R=h.type,B=h.stateNode;if(!(h.flags&128)&&(typeof R.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Yr===null||!Yr.has(B)))){h.flags|=65536,i&=-i,h.lanes|=i;var W=j3(h,g,i);sA(h,W);break e}}h=h.return}while(h!==null)}rC(s)}catch(ee){i=ee,Lt===s&&s!==null&&(Lt=s=s.return);continue}break}while(1)}function nC(){var r=Nf.current;return Nf.current=Lf,r===null?Lf:r}function ky(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),zt===null||!($o&268435455)&&!(oh&268435455)||Vr(zt,Xt)}function bf(r,i){var s=Oe;Oe|=2;var a=nC();(zt!==r||Xt!==i)&&(ur=null,zo(r,i));do try{lU();break}catch(c){tC(r,c)}while(1);if(cy(),Oe=s,Nf.current=a,Lt!==null)throw Error(X(261));return zt=null,Xt=0,Dt}function lU(){for(;Lt!==null;)iC(Lt)}function cU(){for(;Lt!==null&&!DD();)iC(Lt)}function iC(r){var i=sC(r.alternate,r,Mn);r.memoizedProps=r.pendingProps,i===null?rC(r):Lt=i,wy.current=null}function rC(r){var i=r;do{var s=i.alternate;if(r=i.return,i.flags&32768){if(s=iU(s,i),s!==null){s.flags&=32767,Lt=s;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Dt=6,Lt=null;return}}else if(s=nU(s,i,Mn),s!==null){Lt=s;return}if(i=i.sibling,i!==null){Lt=i;return}Lt=i=r}while(i!==null);Dt===0&&(Dt=5)}function Oo(r,i,s){var a=Ye,c=ei.transition;try{ei.transition=null,Ye=1,dU(r,i,s,a)}finally{ei.transition=c,Ye=a}return null}function dU(r,i,s,a){do iu();while(Hr!==null);if(Oe&6)throw Error(X(327));s=r.finishedWork;var c=r.finishedLanes;if(s===null)return null;if(r.finishedWork=null,r.finishedLanes=0,s===r.current)throw Error(X(177));r.callbackNode=null,r.callbackPriority=0;var h=s.lanes|s.childLanes;if(KD(r,h),r===zt&&(Lt=zt=null,Xt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Fd||(Fd=!0,uC(gf,function(){return iu(),null})),h=(s.flags&15990)!==0,s.subtreeFlags&15990||h){h=ei.transition,ei.transition=null;var m=Ye;Ye=1;var g=Oe;Oe|=4,wy.current=null,oU(r,s),J3(s,r),NO(iv),vf=!!nv,iv=nv=null,r.current=s,sU(s),OD(),Oe=g,Ye=m,ei.transition=h}else r.current=s;if(Fd&&(Fd=!1,Hr=r,Rf=c),h=r.pendingLanes,h===0&&(Yr=null),jD(s.stateNode),An(r,It()),i!==null)for(a=r.onRecoverableError,s=0;s<i.length;s++)c=i[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(Mf)throw Mf=!1,r=wv,wv=null,r;return Rf&1&&r.tag!==0&&iu(),h=r.pendingLanes,h&1?r===Av?il++:(il=0,Av=r):il=0,io(),null}function iu(){if(Hr!==null){var r=UI(Rf),i=ei.transition,s=Ye;try{if(ei.transition=null,Ye=16>r?16:r,Hr===null)var a=!1;else{if(r=Hr,Hr=null,Rf=0,Oe&6)throw Error(X(331));var c=Oe;for(Oe|=4,ie=r.current;ie!==null;){var h=ie,m=h.child;if(ie.flags&16){var g=h.deletions;if(g!==null){for(var S=0;S<g.length;S++){var w=g[S];for(ie=w;ie!==null;){var A=ie;switch(A.tag){case 0:case 11:case 15:tl(8,A,h)}var _=A.child;if(_!==null)_.return=A,ie=_;else for(;ie!==null;){A=ie;var k=A.sibling,U=A.return;if(X3(A),A===w){ie=null;break}if(k!==null){k.return=U,ie=k;break}ie=U}}}var x=h.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var $=b.sibling;b.sibling=null,b=$}while(b!==null)}}ie=h}}if(h.subtreeFlags&2064&&m!==null)m.return=h,ie=m;else e:for(;ie!==null;){if(h=ie,h.flags&2048)switch(h.tag){case 0:case 11:case 15:tl(9,h,h.return)}var D=h.sibling;if(D!==null){D.return=h.return,ie=D;break e}ie=h.return}}var R=r.current;for(ie=R;ie!==null;){m=ie;var B=m.child;if(m.subtreeFlags&2064&&B!==null)B.return=m,ie=B;else e:for(m=R;ie!==null;){if(g=ie,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:rh(9,g)}}catch(ee){St(g,g.return,ee)}if(g===m){ie=null;break e}var W=g.sibling;if(W!==null){W.return=g.return,ie=W;break e}ie=g.return}}if(Oe=c,io(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(Yf,r)}catch{}a=!0}return a}finally{Ye=s,ei.transition=i}}return!1}function kA(r,i,s){i=lu(s,i),i=F3(r,i,1),r=Xr(r,i,1),i=dn(),r!==null&&(kl(r,1,i),An(r,i))}function St(r,i,s){if(r.tag===3)kA(r,r,s);else for(;i!==null;){if(i.tag===3){kA(i,r,s);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Yr===null||!Yr.has(a))){r=lu(s,r),r=j3(i,r,1),i=Xr(i,r,1),r=dn(),i!==null&&(kl(i,1,r),An(i,r));break}}i=i.return}}function fU(r,i,s){var a=r.pingCache;a!==null&&a.delete(i),i=dn(),r.pingedLanes|=r.suspendedLanes&s,zt===r&&(Xt&s)===s&&(Dt===4||Dt===3&&(Xt&130023424)===Xt&&500>It()-Iy?zo(r,0):Ay|=s),An(r,i)}function oC(r,i){i===0&&(r.mode&1?(i=kd,kd<<=1,!(kd&130023424)&&(kd=4194304)):i=1);var s=dn();r=gr(r,i),r!==null&&(kl(r,i,s),An(r,s))}function hU(r){var i=r.memoizedState,s=0;i!==null&&(s=i.retryLane),oC(r,s)}function pU(r,i){var s=0;switch(r.tag){case 13:var a=r.stateNode,c=r.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=r.stateNode;break;default:throw Error(X(314))}a!==null&&a.delete(i),oC(r,s)}var sC;sC=function(r,i,s){if(r!==null)if(r.memoizedProps!==i.pendingProps||En.current)Tn=!0;else{if(!(r.lanes&s)&&!(i.flags&128))return Tn=!1,tU(r,i,s);Tn=!!(r.flags&131072)}else Tn=!1,dt&&i.flags&1048576&&l3(i,Af,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;sf(r,i),r=i.pendingProps;var c=ou(i,on.current);nu(i,s),c=yy(null,i,a,r,c,s);var h=xy();return i.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,wn(a)?(h=!0,Ef(i)):h=!1,i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,hy(i),c.updater=nh,i.stateNode=c,c._reactInternals=i,fv(i,a,r,s),i=gv(null,i,a,!0,h,s)):(i.tag=0,dt&&h&&sy(i),ln(null,i,c,s),i=i.child),i;case 16:a=i.elementType;e:{switch(sf(r,i),r=i.pendingProps,c=a._init,a=c(a._payload),i.type=a,c=i.tag=mU(a),r=gi(a,r),c){case 0:i=pv(null,i,a,r,s);break e;case 1:i=yA(null,i,a,r,s);break e;case 11:i=mA(null,i,a,r,s);break e;case 14:i=vA(null,i,a,gi(a.type,r),s);break e}throw Error(X(306,a,""))}return i;case 0:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:gi(a,c),pv(r,i,a,c,s);case 1:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:gi(a,c),yA(r,i,a,c,s);case 3:e:{if(G3(i),r===null)throw Error(X(387));a=i.pendingProps,h=i.memoizedState,c=h.element,h3(r,i),_f(i,a,null,s);var m=i.memoizedState;if(a=m.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){c=lu(Error(X(423)),i),i=xA(r,i,a,s,c);break e}else if(a!==c){c=lu(Error(X(424)),i),i=xA(r,i,a,s,c);break e}else for(Rn=qr(i.stateNode.containerInfo.firstChild),bn=i,dt=!0,vi=null,s=v3(i,null,a,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(su(),a===c){i=mr(r,i,s);break e}ln(r,i,a,s)}i=i.child}return i;case 5:return y3(i),r===null&&lv(i),a=i.type,c=i.pendingProps,h=r!==null?r.memoizedProps:null,m=c.children,rv(a,c)?m=null:h!==null&&rv(a,h)&&(i.flags|=32),V3(r,i),ln(r,i,m,s),i.child;case 6:return r===null&&lv(i),null;case 13:return H3(r,i,s);case 4:return py(i,i.stateNode.containerInfo),a=i.pendingProps,r===null?i.child=uu(i,null,a,s):ln(r,i,a,s),i.child;case 11:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:gi(a,c),mA(r,i,a,c,s);case 7:return ln(r,i,i.pendingProps,s),i.child;case 8:return ln(r,i,i.pendingProps.children,s),i.child;case 12:return ln(r,i,i.pendingProps.children,s),i.child;case 10:e:{if(a=i.type._context,c=i.pendingProps,h=i.memoizedProps,m=c.value,ot(If,a._currentValue),a._currentValue=m,h!==null)if(wi(h.value,m)){if(h.children===c.children&&!En.current){i=mr(r,i,s);break e}}else for(h=i.child,h!==null&&(h.return=i);h!==null;){var g=h.dependencies;if(g!==null){m=h.child;for(var S=g.firstContext;S!==null;){if(S.context===a){if(h.tag===1){S=fr(-1,s&-s),S.tag=2;var w=h.updateQueue;if(w!==null){w=w.shared;var A=w.pending;A===null?S.next=S:(S.next=A.next,A.next=S),w.pending=S}}h.lanes|=s,S=h.alternate,S!==null&&(S.lanes|=s),cv(h.return,s,i),g.lanes|=s;break}S=S.next}}else if(h.tag===10)m=h.type===i.type?null:h.child;else if(h.tag===18){if(m=h.return,m===null)throw Error(X(341));m.lanes|=s,g=m.alternate,g!==null&&(g.lanes|=s),cv(m,s,i),m=h.sibling}else m=h.child;if(m!==null)m.return=h;else for(m=h;m!==null;){if(m===i){m=null;break}if(h=m.sibling,h!==null){h.return=m.return,m=h;break}m=m.return}h=m}ln(r,i,c.children,s),i=i.child}return i;case 9:return c=i.type,a=i.pendingProps.children,nu(i,s),c=ni(c),a=a(c),i.flags|=1,ln(r,i,a,s),i.child;case 14:return a=i.type,c=gi(a,i.pendingProps),c=gi(a.type,c),vA(r,i,a,c,s);case 15:return B3(r,i,i.type,i.pendingProps,s);case 17:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:gi(a,c),sf(r,i),i.tag=1,wn(a)?(r=!0,Ef(i)):r=!1,nu(i,s),g3(i,a,c),fv(i,a,c,s),gv(null,i,a,!0,r,s);case 19:return K3(r,i,s);case 22:return z3(r,i,s)}throw Error(X(156,i.tag))};function uC(r,i){return RI(r,i)}function gU(r,i,s,a){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(r,i,s,a){return new gU(r,i,s,a)}function Py(r){return r=r.prototype,!(!r||!r.isReactComponent)}function mU(r){if(typeof r=="function")return Py(r)?1:0;if(r!=null){if(r=r.$$typeof,r===qv)return 11;if(r===Xv)return 14}return 2}function Jr(r,i){var s=r.alternate;return s===null?(s=Zn(r.tag,i,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=i,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&14680064,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,i=r.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s}function lf(r,i,s,a,c,h){var m=2;if(a=r,typeof r=="function")Py(r)&&(m=1);else if(typeof r=="string")m=5;else e:switch(r){case Bs:return Vo(s.children,c,h,i);case $v:m=8,c|=8;break;case Om:return r=Zn(12,s,i,c|2),r.elementType=Om,r.lanes=h,r;case Um:return r=Zn(13,s,i,c),r.elementType=Um,r.lanes=h,r;case Fm:return r=Zn(19,s,i,c),r.elementType=Fm,r.lanes=h,r;case mI:return sh(s,c,h,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case pI:m=10;break e;case gI:m=9;break e;case qv:m=11;break e;case Xv:m=14;break e;case Fr:m=16,a=null;break e}throw Error(X(130,r==null?r:typeof r,""))}return i=Zn(m,s,i,c),i.elementType=r,i.type=a,i.lanes=h,i}function Vo(r,i,s,a){return r=Zn(7,r,a,i),r.lanes=s,r}function sh(r,i,s,a){return r=Zn(22,r,a,i),r.elementType=mI,r.lanes=s,r.stateNode={isHidden:!1},r}function mm(r,i,s){return r=Zn(6,r,null,i),r.lanes=s,r}function vm(r,i,s){return i=Zn(4,r.children!==null?r.children:[],r.key,i),i.lanes=s,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function vU(r,i,s,a,c){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qg(0),this.expirationTimes=Qg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qg(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Ly(r,i,s,a,c,h,m,g,S){return r=new vU(r,i,s,g,S),i===1?(i=1,h===!0&&(i|=8)):i=0,h=Zn(3,null,null,i),r.current=h,h.stateNode=r,h.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},hy(h),r}function yU(r,i,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:a==null?null:""+a,children:r,containerInfo:i,implementation:s}}function aC(r){if(!r)return eo;r=r._reactInternals;e:{if(Qo(r)!==r||r.tag!==1)throw Error(X(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(wn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(X(171))}if(r.tag===1){var s=r.type;if(wn(s))return u3(r,s,i)}return i}function lC(r,i,s,a,c,h,m,g,S){return r=Ly(s,a,!0,r,c,h,m,g,S),r.context=aC(null),s=r.current,a=dn(),c=Qr(s),h=fr(a,c),h.callback=i??null,Xr(s,h,c),r.current.lanes=c,kl(r,c,a),An(r,a),r}function uh(r,i,s,a){var c=i.current,h=dn(),m=Qr(c);return s=aC(s),i.context===null?i.context=s:i.pendingContext=s,i=fr(h,m),i.payload={element:r},a=a===void 0?null:a,a!==null&&(i.callback=a),r=Xr(c,i,m),r!==null&&(Ei(r,c,m,h),nf(r,c,m)),m}function Df(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function PA(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<i?s:i}}function Ny(r,i){PA(r,i),(r=r.alternate)&&PA(r,i)}function xU(){return null}var cC=typeof reportError=="function"?reportError:function(r){console.error(r)};function My(r){this._internalRoot=r}ah.prototype.render=My.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(X(409));uh(r,i,null,null)};ah.prototype.unmount=My.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;qo(function(){uh(null,r,null,null)}),i[pr]=null}};function ah(r){this._internalRoot=r}ah.prototype.unstable_scheduleHydration=function(r){if(r){var i=BI();r={blockedOn:null,target:r,priority:i};for(var s=0;s<zr.length&&i!==0&&i<zr[s].priority;s++);zr.splice(s,0,r),s===0&&VI(r)}};function Ry(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function lh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function LA(){}function SU(r,i,s,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var w=Df(m);h.call(w)}}var m=lC(i,a,r,0,null,!1,!1,"",LA);return r._reactRootContainer=m,r[pr]=m.current,pl(r.nodeType===8?r.parentNode:r),qo(),m}for(;c=r.lastChild;)r.removeChild(c);if(typeof a=="function"){var g=a;a=function(){var w=Df(S);g.call(w)}}var S=Ly(r,0,!1,null,null,!1,!1,"",LA);return r._reactRootContainer=S,r[pr]=S.current,pl(r.nodeType===8?r.parentNode:r),qo(function(){uh(i,S,s,a)}),S}function ch(r,i,s,a,c){var h=s._reactRootContainer;if(h){var m=h;if(typeof c=="function"){var g=c;c=function(){var S=Df(m);g.call(S)}}uh(i,m,r,c)}else m=SU(s,i,r,c,a);return Df(m)}FI=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var s=Ha(i.pendingLanes);s!==0&&(Jv(i,s|1),An(i,It()),!(Oe&6)&&(cu=It()+500,io()))}break;case 13:qo(function(){var a=gr(r,1);if(a!==null){var c=dn();Ei(a,r,1,c)}}),Ny(r,1)}};Zv=function(r){if(r.tag===13){var i=gr(r,134217728);if(i!==null){var s=dn();Ei(i,r,134217728,s)}Ny(r,134217728)}};jI=function(r){if(r.tag===13){var i=Qr(r),s=gr(r,i);if(s!==null){var a=dn();Ei(s,r,i,a)}Ny(r,i)}};BI=function(){return Ye};zI=function(r,i){var s=Ye;try{return Ye=r,i()}finally{Ye=s}};qm=function(r,i,s){switch(i){case"input":if(zm(r,s),i=s.name,s.type==="radio"&&i!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var a=s[i];if(a!==r&&a.form===r.form){var c=eh(a);if(!c)throw Error(X(90));yI(a),zm(a,c)}}}break;case"textarea":SI(r,s);break;case"select":i=s.value,i!=null&&Js(r,!!s.multiple,i,!1)}};_I=Cy;kI=qo;var TU={usingClientEntryPoint:!1,Events:[Ll,Hs,eh,II,CI,Cy]},ba={findFiberByHostInstance:Fo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},EU={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=NI(r),r===null?null:r.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||xU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{Yf=jd.inject(EU),ji=jd}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TU;On.createPortal=function(r,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ry(i))throw Error(X(200));return yU(r,i,null,s)};On.createRoot=function(r,i){if(!Ry(r))throw Error(X(299));var s=!1,a="",c=cC;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),i=Ly(r,1,!1,null,null,s,!1,a,c),r[pr]=i.current,pl(r.nodeType===8?r.parentNode:r),new My(i)};On.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(X(188)):(r=Object.keys(r).join(","),Error(X(268,r)));return r=NI(i),r=r===null?null:r.stateNode,r};On.flushSync=function(r){return qo(r)};On.hydrate=function(r,i,s){if(!lh(i))throw Error(X(200));return ch(null,r,i,!0,s)};On.hydrateRoot=function(r,i,s){if(!Ry(r))throw Error(X(405));var a=s!=null&&s.hydratedSources||null,c=!1,h="",m=cC;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),i=lC(i,null,r,1,s??null,c,!1,h,m),r[pr]=i.current,pl(r),a)for(r=0;r<a.length;r++)s=a[r],c=s._getVersion,c=c(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,c]:i.mutableSourceEagerHydrationData.push(s,c);return new ah(i)};On.render=function(r,i,s){if(!lh(i))throw Error(X(200));return ch(null,r,i,!1,s)};On.unmountComponentAtNode=function(r){if(!lh(r))throw Error(X(40));return r._reactRootContainer?(qo(function(){ch(null,null,r,!1,function(){r._reactRootContainer=null,r[pr]=null})}),!0):!1};On.unstable_batchedUpdates=Cy;On.unstable_renderSubtreeIntoContainer=function(r,i,s,a){if(!lh(s))throw Error(X(200));if(r==null||r._reactInternals===void 0)throw Error(X(38));return ch(r,i,s,!1,a)};On.version="18.2.0-next-9e3b772b8-20220608";(function(r){function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(s){console.error(s)}}i(),r.exports=On})(xD);var NA=Rm;Mm.createRoot=NA.createRoot,Mm.hydrateRoot=NA.hydrateRoot;var wU=Sn;function AU(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var pi=AU(wU);function _v(){return _v=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])}return r},_v.apply(this,arguments)}function IU(r,i){if(r==null)return{};var s={},a=Object.keys(r),c,h;for(h=0;h<a.length;h++)c=a[h],!(i.indexOf(c)>=0)&&(s[c]=r[c]);return s}function CU(r,i){if(r==null)return{};var s=IU(r,i),a,c;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(r);for(c=0;c<h.length;c++)a=h[c],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(s[a]=r[a])}return s}function MA(r,i){return _U(r)||kU(r,i)||PU(r,i)||LU()}function _U(r){if(Array.isArray(r))return r}function kU(r,i){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var a=[],c=!0,h=!1,m,g;try{for(s=s.call(r);!(c=(m=s.next()).done)&&(a.push(m.value),!(i&&a.length===i));c=!0);}catch(S){h=!0,g=S}finally{try{!c&&s.return!=null&&s.return()}finally{if(h)throw g}}return a}}function PU(r,i){if(r){if(typeof r=="string")return RA(r,i);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return RA(r,i)}}function RA(r,i){(i==null||i>r.length)&&(i=r.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=r[s];return a}function LU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var NU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof ti<"u"?ti:typeof self<"u"?self:{},kv={};/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/(function(r){(function(){var i=typeof window<"u"?window:NU,s={};(function(c,h,m){var g;function S(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var w=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function A(e){e=[typeof globalThis=="object"&&globalThis,e,typeof c=="object"&&c,typeof self=="object"&&self,typeof h=="object"&&h];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var _=A(this);function k(e,t){if(t)e:{for(var n=_,o=e.split("."),u=0;u<o.length-1;u++){var l=o[u];if(!(l in n))break e;n=n[l]}o=o[o.length-1],u=n[o],l=t(u),l!=u&&l!=null&&w(n,o,{configurable:!0,writable:!0,value:l})}}k("Symbol",function(e){function t(l){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n(o+(l||"")+"_"+u++,l)}function n(l,d){this.g=l,w(this,"description",{configurable:!0,writable:!0,value:d})}if(e)return e;n.prototype.toString=function(){return this.g};var o="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",u=0;return t}),k("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var o=_[t[n]];typeof o=="function"&&typeof o.prototype[e]!="function"&&w(o.prototype,e,{configurable:!0,writable:!0,value:function(){return U(S(this))}})}return e});function U(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function x(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:S(e)}}function b(e){if(!(e instanceof Array)){e=x(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var $=typeof Object.create=="function"?Object.create:function(e){function t(){}return t.prototype=e,new t},D;if(typeof Object.setPrototypeOf=="function")D=Object.setPrototypeOf;else{var R;e:{var B={a:!0},W={};try{W.__proto__=B,R=W.a;break e}catch{}R=!1}D=R?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var ee=D;function K(e,t){if(e.prototype=$(t.prototype),e.prototype.constructor=e,ee)ee(e,t);else for(var n in t)if(n!="prototype")if(Object.defineProperties){var o=Object.getOwnPropertyDescriptor(t,n);o&&Object.defineProperty(e,n,o)}else e[n]=t[n];e.Wi=t.prototype}function re(){this.B=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.s=0,this.G=this.i=null}function ce(e){if(e.B)throw new TypeError("Generator is already running");e.B=!0}re.prototype.C=function(e){this.h=e};function Qe(e,t){e.i={ef:t,qf:!0},e.g=e.s||e.j}re.prototype.return=function(e){this.i={return:e},this.g=this.j};function C(e,t,n){return e.g=n,{value:t}}re.prototype.D=function(e){this.g=e};function Z(e){e.g=0}function ae(e,t,n){e.s=t,n!=null&&(e.j=n)}function Bn(e){e.s=0,e.j=2}function Ae(e,t,n){e.g=t,e.s=n||0}function ge(e,t){e.s=t||0;var n=e.i.ef;return e.i=null,n}function In(e){e.G=[e.i],e.s=0,e.j=0}function Cn(e,t){var n=e.G.splice(0)[0];(n=e.i=e.i||n)?n.qf?e.g=e.s||e.j:n.D!=null&&e.j<n.D?(e.g=n.D,e.i=null):e.g=e.j:e.g=t}function ne(e){this.g=new re,this.h=e}function Te(e,t){ce(e.g);var n=e.g.l;return n?we(e,"return"in n?n.return:function(o){return{value:o,done:!0}},t,e.g.return):(e.g.return(t),et(e))}function we(e,t,n,o){try{var u=t.call(e.g.l,n);if(!(u instanceof Object))throw new TypeError("Iterator result "+u+" is not an object");if(!u.done)return e.g.B=!1,u;var l=u.value}catch(d){return e.g.l=null,Qe(e.g,d),et(e)}return e.g.l=null,o.call(e.g,l),et(e)}function et(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.B=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,Qe(e.g,n)}if(e.g.B=!1,e.g.i){if(t=e.g.i,e.g.i=null,t.qf)throw t.ef;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function Tt(e){this.next=function(t){return ce(e.g),e.g.l?t=we(e,e.g.l.next,t,e.g.C):(e.g.C(t),t=et(e)),t},this.throw=function(t){return ce(e.g),e.g.l?t=we(e,e.g.l.throw,t,e.g.C):(Qe(e.g,t),t=et(e)),t},this.return=function(t){return Te(e,t)},this[Symbol.iterator]=function(){return this}}function zi(e,t){var n=new Tt(new ne(t));return ee&&e.prototype&&ee(n,e.prototype),n}function Vi(e){function t(o){return e.next(o)}function n(o){return e.throw(o)}return new Promise(function(o,u){function l(d){d.done?o(d.value):Promise.resolve(d.value).then(t,n).then(l,u)}l(e.next())})}function F(e){return Vi(new Tt(new ne(e)))}k("Promise",function(e){function t(d){this.h=0,this.i=void 0,this.g=[],this.B=!1;var f=this.j();try{d(f.resolve,f.reject)}catch(p){f.reject(p)}}function n(){this.g=null}function o(d){return d instanceof t?d:new t(function(f){f(d)})}if(e)return e;n.prototype.h=function(d){if(this.g==null){this.g=[];var f=this;this.i(function(){f.l()})}this.g.push(d)};var u=_.setTimeout;n.prototype.i=function(d){u(d,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var d=this.g;this.g=[];for(var f=0;f<d.length;++f){var p=d[f];d[f]=null;try{p()}catch(v){this.j(v)}}}this.g=null},n.prototype.j=function(d){this.i(function(){throw d})},t.prototype.j=function(){function d(v){return function(y){p||(p=!0,v.call(f,y))}}var f=this,p=!1;return{resolve:d(this.L),reject:d(this.l)}},t.prototype.L=function(d){if(d===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof t)this.P(d);else{e:switch(typeof d){case"object":var f=d!=null;break e;case"function":f=!0;break e;default:f=!1}f?this.J(d):this.s(d)}},t.prototype.J=function(d){var f=void 0;try{f=d.then}catch(p){this.l(p);return}typeof f=="function"?this.S(f,d):this.s(d)},t.prototype.l=function(d){this.C(2,d)},t.prototype.s=function(d){this.C(1,d)},t.prototype.C=function(d,f){if(this.h!=0)throw Error("Cannot settle("+d+", "+f+"): Promise already settled in state"+this.h);this.h=d,this.i=f,this.h===2&&this.M(),this.G()},t.prototype.M=function(){var d=this;u(function(){if(d.I()){var f=_.console;typeof f<"u"&&f.error(d.i)}},1)},t.prototype.I=function(){if(this.B)return!1;var d=_.CustomEvent,f=_.Event,p=_.dispatchEvent;return typeof p>"u"?!0:(typeof d=="function"?d=new d("unhandledrejection",{cancelable:!0}):typeof f=="function"?d=new f("unhandledrejection",{cancelable:!0}):(d=_.document.createEvent("CustomEvent"),d.initCustomEvent("unhandledrejection",!1,!0,d)),d.promise=this,d.reason=this.i,p(d))},t.prototype.G=function(){if(this.g!=null){for(var d=0;d<this.g.length;++d)l.h(this.g[d]);this.g=null}};var l=new n;return t.prototype.P=function(d){var f=this.j();d.ld(f.resolve,f.reject)},t.prototype.S=function(d,f){var p=this.j();try{d.call(f,p.resolve,p.reject)}catch(v){p.reject(v)}},t.prototype.then=function(d,f){function p(E,I){return typeof E=="function"?function(P){try{v(E(P))}catch(L){y(L)}}:I}var v,y,T=new t(function(E,I){v=E,y=I});return this.ld(p(d,v),p(f,y)),T},t.prototype.catch=function(d){return this.then(void 0,d)},t.prototype.ld=function(d,f){function p(){switch(v.h){case 1:d(v.i);break;case 2:f(v.i);break;default:throw Error("Unexpected state: "+v.h)}}var v=this;this.g==null?l.h(p):this.g.push(p),this.B=!0},t.resolve=o,t.reject=function(d){return new t(function(f,p){p(d)})},t.race=function(d){return new t(function(f,p){for(var v=x(d),y=v.next();!y.done;y=v.next())o(y.value).ld(f,p)})},t.all=function(d){var f=x(d),p=f.next();return p.done?o([]):new t(function(v,y){function T(P){return function(L){E[P]=L,I--,I==0&&v(E)}}var E=[],I=0;do E.push(void 0),I++,o(p.value).ld(T(E.length-1),y),p=f.next();while(!p.done)})},t});function Nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}k("WeakMap",function(e){function t(p){if(this.g=(f+=Math.random()+1).toString(),p){p=x(p);for(var v;!(v=p.next()).done;)v=v.value,this.set(v[0],v[1])}}function n(){}function o(p){var v=typeof p;return v==="object"&&p!==null||v==="function"}function u(p){if(!Nt(p,d)){var v=new n;w(p,d,{value:v})}}function l(p){var v=Object[p];v&&(Object[p]=function(y){return y instanceof n?y:(Object.isExtensible(y)&&u(y),v(y))})}if(function(){if(!e||!Object.seal)return!1;try{var p=Object.seal({}),v=Object.seal({}),y=new e([[p,2],[v,3]]);return y.get(p)!=2||y.get(v)!=3?!1:(y.delete(p),y.set(v,4),!y.has(p)&&y.get(v)==4)}catch{return!1}}())return e;var d="$jscomp_hidden_"+Math.random();l("freeze"),l("preventExtensions"),l("seal");var f=0;return t.prototype.set=function(p,v){if(!o(p))throw Error("Invalid WeakMap key");if(u(p),!Nt(p,d))throw Error("WeakMap key fail: "+p);return p[d][this.g]=v,this},t.prototype.get=function(p){return o(p)&&Nt(p,d)?p[d][this.g]:void 0},t.prototype.has=function(p){return o(p)&&Nt(p,d)&&Nt(p[d],this.g)},t.prototype.delete=function(p){return o(p)&&Nt(p,d)&&Nt(p[d],this.g)?delete p[d][this.g]:!1},t}),k("Map",function(e){function t(){var f={};return f.wb=f.next=f.head=f}function n(f,p){var v=f.g;return U(function(){if(v){for(;v.head!=f.g;)v=v.wb;for(;v.next!=v.head;)return v=v.next,{done:!1,value:p(v)};v=null}return{done:!0,value:void 0}})}function o(f,p){var v=p&&typeof p;v=="object"||v=="function"?l.has(p)?v=l.get(p):(v=""+ ++d,l.set(p,v)):v="p_"+p;var y=f.h[v];if(y&&Nt(f.h,v))for(var T=0;T<y.length;T++){var E=y[T];if(p!==p&&E.key!==E.key||p===E.key)return{id:v,list:y,index:T,Ea:E}}return{id:v,list:y,index:-1,Ea:void 0}}function u(f){if(this.h={},this.g=t(),this.size=0,f){f=x(f);for(var p;!(p=f.next()).done;)p=p.value,this.set(p[0],p[1])}}if(function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var f=Object.seal({x:4}),p=new e(x([[f,"s"]]));if(p.get(f)!="s"||p.size!=1||p.get({x:4})||p.set({x:4},"t")!=p||p.size!=2)return!1;var v=p.entries(),y=v.next();return y.done||y.value[0]!=f||y.value[1]!="s"?!1:(y=v.next(),!(y.done||y.value[0].x!=4||y.value[1]!="t"||!v.next().done))}catch{return!1}}())return e;var l=new WeakMap;u.prototype.set=function(f,p){f=f===0?0:f;var v=o(this,f);return v.list||(v.list=this.h[v.id]=[]),v.Ea?v.Ea.value=p:(v.Ea={next:this.g,wb:this.g.wb,head:this.g,key:f,value:p},v.list.push(v.Ea),this.g.wb.next=v.Ea,this.g.wb=v.Ea,this.size++),this},u.prototype.delete=function(f){return f=o(this,f),f.Ea&&f.list?(f.list.splice(f.index,1),f.list.length||delete this.h[f.id],f.Ea.wb.next=f.Ea.next,f.Ea.next.wb=f.Ea.wb,f.Ea.head=null,this.size--,!0):!1},u.prototype.clear=function(){this.h={},this.g=this.g.wb=t(),this.size=0},u.prototype.has=function(f){return!!o(this,f).Ea},u.prototype.get=function(f){return(f=o(this,f).Ea)&&f.value},u.prototype.entries=function(){return n(this,function(f){return[f.key,f.value]})},u.prototype.keys=function(){return n(this,function(f){return f.key})},u.prototype.values=function(){return n(this,function(f){return f.value})},u.prototype.forEach=function(f,p){for(var v=this.entries(),y;!(y=v.next()).done;)y=y.value,f.call(p,y[1],y[0],this)},u.prototype[Symbol.iterator]=u.prototype.entries;var d=0;return u});function xr(e,t){e instanceof String&&(e+="");var n=0,o=!1,u={next:function(){if(!o&&n<e.length){var l=n++;return{value:t(l,e[l]),done:!1}}return o=!0,{done:!0,value:void 0}}};return u[Symbol.iterator]=function(){return u},u}k("Array.prototype.keys",function(e){return e||function(){return xr(this,function(t){return t})}}),k("Set",function(e){function t(n){if(this.g=new Map,n){n=x(n);for(var o;!(o=n.next()).done;)this.add(o.value)}this.size=this.g.size}return function(){if(!e||typeof e!="function"||!e.prototype.entries||typeof Object.seal!="function")return!1;try{var n=Object.seal({x:4}),o=new e(x([n]));if(!o.has(n)||o.size!=1||o.add(n)!=o||o.size!=1||o.add({x:4})!=o||o.size!=2)return!1;var u=o.entries(),l=u.next();return l.done||l.value[0]!=n||l.value[1]!=n?!1:(l=u.next(),l.done||l.value[0]==n||l.value[0].x!=4||l.value[1]!=l.value[0]?!1:u.next().done)}catch{return!1}}()?e:(t.prototype.add=function(n){return n=n===0?0:n,this.g.set(n,n),this.size=this.g.size,this},t.prototype.delete=function(n){return n=this.g.delete(n),this.size=this.g.size,n},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(n){return this.g.has(n)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(n,o){var u=this;this.g.forEach(function(l){return n.call(o,l,l,u)})},t)}),k("Array.from",function(e){return e||function(t,n,o){n=n??function(f){return f};var u=[],l=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];if(typeof l=="function"){t=l.call(t);for(var d=0;!(l=t.next()).done;)u.push(n.call(o,l.value,d++))}else for(l=t.length,d=0;d<l;d++)u.push(n.call(o,t[d],d));return u}});function t1(e,t,n){e instanceof String&&(e=String(e));for(var o=e.length,u=0;u<o;u++){var l=e[u];if(t.call(n,l,u,e))return{wa:u,v:l}}return{wa:-1,v:void 0}}k("Array.prototype.findIndex",function(e){return e||function(t,n){return t1(this,t,n).wa}}),k("Object.is",function(e){return e||function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}}),k("Array.prototype.includes",function(e){return e||function(t,n){var o=this;o instanceof String&&(o=String(o));var u=o.length,l=n||0;for(0>l&&(l=Math.max(l+u,0));l<u;l++){var d=o[l];if(d===t||Object.is(d,t))return!0}return!1}});function Ih(e,t,n){if(e==null)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}k("String.prototype.includes",function(e){return e||function(t,n){return Ih(this,t,"includes").indexOf(t,n||0)!==-1}}),k("Array.prototype.find",function(e){return e||function(t,n){return t1(this,t,n).v}}),k("String.prototype.startsWith",function(e){return e||function(t,n){for(var o=Ih(this,t,"startsWith"),u=o.length,l=t.length,d=Math.max(0,Math.min(n|0,o.length)),f=0;f<l&&d<u;)if(o[d++]!=t[f++])return!1;return f>=l}});var L_=typeof Object.assign=="function"?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var o=arguments[n];if(o)for(var u in o)Nt(o,u)&&(e[u]=o[u])}return e};k("Object.assign",function(e){return e||L_}),k("Array.prototype.values",function(e){return e||function(){return xr(this,function(t,n){return n})}}),k("Promise.prototype.finally",function(e){return e||function(t){return this.then(function(n){return Promise.resolve(t()).then(function(){return n})},function(n){return Promise.resolve(t()).then(function(){throw n})})}}),k("Array.prototype.entries",function(e){return e||function(){return xr(this,function(t,n){return[t,n]})}}),k("String.prototype.repeat",function(e){return e||function(t){var n=Ih(this,null,"repeat");if(0>t||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var o="";t;)t&1&&(o+=n),(t>>>=1)&&(n+=n);return o}}),k("Number.isNaN",function(e){return e||function(t){return typeof t=="number"&&isNaN(t)}}),k("Object.values",function(e){return e||function(t){var n=[],o;for(o in t)Nt(t,o)&&n.push(t[o]);return n}}),k("Math.log2",function(e){return e||function(t){return Math.log(t)/Math.LN2}}),k("Object.entries",function(e){return e||function(t){var n=[],o;for(o in t)Nt(t,o)&&n.push([o,t[o]]);return n}});var N_=this||self;function Y(e,t){var n=e.split("."),o=N_;n[0]in o||typeof o.execScript>"u"||o.execScript("var "+n[0]);for(var u;n.length&&(u=n.shift());)n.length||t===void 0?o[u]&&o[u]!==Object.prototype[u]?o=o[u]:o=o[u]={}:o[u]=t}function oe(e,t){if(t)if(t instanceof Map)for(var n=x(t.keys()),o=n.next();!o.done;o=n.next())o=o.value,Object.defineProperty(this,o,{value:t.get(o),writable:!0,enumerable:!0});else for(n in t)Object.defineProperty(this,n,{value:t[n],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=c.performance&&c.performance.now?c.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function n1(e){var t=new oe(e.type),n;for(n in e)Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!0});return t}oe.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},oe.prototype.stopImmediatePropagation=function(){this.g=!0},oe.prototype.stopPropagation=function(){},Y("shaka.util.FakeEvent",oe);function M_(){}function mu(){}function je(){}function oo(e,t){for(var n=[],o=1;o<arguments.length;++o)n[o-1]=arguments[o];i1.has(e)||(i1.add(e),je.apply(M_,b(n)))}function R_(){}function pF(){}function gF(){}function mF(){}var i1=new Set;if(c.console&&c.console.log.bind){var so={},r1=(so[1]=console.error.bind(console),so[2]=console.warn.bind(console),so[3]=console.info.bind(console),so[4]=console.log.bind(console),so[5]=console.debug.bind(console),so[6]=console.debug.bind(console),so);je=r1[2],mu=r1[1]}function Zo(){this.g={}}g=Zo.prototype,g.push=function(e,t){this.g.hasOwnProperty(e)?this.g[e].push(t):this.g[e]=[t]},g.get=function(e){return(e=this.g[e])?e.slice():null},g.remove=function(e,t){e in this.g&&(this.g[e]=this.g[e].filter(function(n){return n!=t}),this.g[e].length==0&&delete this.g[e])};function Ch(e,t){for(var n in e.g)t(n,e.g[n])}g.size=function(){return Object.keys(this.g).length},g.keys=function(){return Object.keys(this.g)};function Se(){this.ea=new Zo,this.hd=this}Se.prototype.addEventListener=function(e,t){this.ea&&this.ea.push(e,t)},Se.prototype.removeEventListener=function(e,t){this.ea&&this.ea.remove(e,t)},Se.prototype.dispatchEvent=function(e){if(!this.ea)return!0;var t=this.ea.get(e.type)||[],n=this.ea.get("All");for(n&&(t=t.concat(n)),t=x(t),n=t.next();!n.done;n=t.next()){n=n.value,e.target=this.hd,e.currentTarget=this.hd;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch{}if(e.g)break}return e.defaultPrevented},Se.prototype.release=function(){this.ea=null};function o1(e,t){for(var n=[],o=x(e),u=o.next();!u.done;u=o.next())n.push(t(u.value));return n}function b_(e,t){for(var n=x(e),o=n.next();!o.done;o=n.next())if(!t(o.value))return!1;return!0}function D_(e,t){for(var n=x(e),o=n.next();!o.done;o=n.next())if(t(o.value))return!0;return!1}function vu(e,t){for(var n=[],o=x(e),u=o.next();!u.done;u=o.next())u=u.value,t(u)&&n.push(u);return n}var zn=function e(t){var n;return zi(e,function(o){return o.g==1&&(n=0),o.g!=3?n<t?C(o,n,3):o.D(0):(n++,o.D(2))})},sn=function e(t){var n,o,u,l,d,f;return zi(e,function(p){return p.g==1&&(n=-1,u=o=void 0,l=x(t),d=l.next()),p.g!=5?d.done?n==-1?p.D(0):C(p,{wa:n,Yg:o,item:u,next:void 0},0):(f=d.value,0<=n?C(p,{wa:n,item:u,Yg:o,next:f},5):p.D(5)):(n++,o=u,u=f,d=l.next(),p.D(2))})};/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/var O_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/function Vn(e){var t;e instanceof Vn?(Ml(this,e.ab),this.$b=e.$b,this.eb=e.eb,_h(this,e.vc),this.Sa=e.Sa,Rl(this,e.g.clone()),this.Pb=e.Pb):e&&(t=String(e).match(O_))?(Ml(this,t[1]||"",!0),this.$b=yu(t[2]||""),this.eb=yu(t[3]||"",!0),_h(this,t[4]),this.Sa=yu(t[5]||"",!0),Rl(this,t[6]||"",!0),this.Pb=yu(t[7]||"")):this.g=new es(null)}g=Vn.prototype,g.ab="",g.$b="",g.eb="",g.vc=null,g.Sa="",g.Pb="",g.toString=function(){var e=[],t=this.ab;if(t&&e.push(xu(t,s1,!0),":"),t=this.eb){e.push("//");var n=this.$b;n&&e.push(xu(n,s1,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.vc,t!=null&&e.push(":",String(t))}return(t=this.Sa)&&(this.eb&&t.charAt(0)!="/"&&e.push("/"),e.push(xu(t,t.charAt(0)=="/"?j_:F_,!0))),(t=this.g.toString())&&e.push("?",t),(t=this.Pb)&&e.push("#",xu(t,z_)),e.join("")},g.resolve=function(e){var t=this.clone();t.ab==="data"&&(t=new Vn);var n=!!e.ab;n?Ml(t,e.ab):n=!!e.$b,n?t.$b=e.$b:n=!!e.eb,n?t.eb=e.eb:n=e.vc!=null;var o=e.Sa;if(n)_h(t,e.vc);else if(n=!!e.Sa){if(o.charAt(0)!="/")if(this.eb&&!this.Sa)o="/"+o;else{var u=t.Sa.lastIndexOf("/");u!=-1&&(o=t.Sa.substr(0,u+1)+o)}if(o==".."||o==".")o="";else if(o.indexOf("./")!=-1||o.indexOf("/.")!=-1){u=o.lastIndexOf("/",0)==0,o=o.split("/");for(var l=[],d=0;d<o.length;){var f=o[d++];f=="."?u&&d==o.length&&l.push(""):f==".."?((1<l.length||l.length==1&&l[0]!="")&&l.pop(),u&&d==o.length&&l.push("")):(l.push(f),u=!0)}o=l.join("/")}}return n?t.Sa=o:n=e.g.toString()!=="",n?Rl(t,e.g.clone()):n=!!e.Pb,n&&(t.Pb=e.Pb),t},g.clone=function(){return new Vn(this)};function Ml(e,t,n){e.ab=n?yu(t,!0):t,e.ab&&(e.ab=e.ab.replace(/:$/,""))}function _h(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.vc=t}else e.vc=null}function Rl(e,t,n){t instanceof es?e.g=t:(n||(t=xu(t,B_)),e.g=new es(t))}function yu(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function xu(e,t,n){return e!=null?(e=encodeURI(e).replace(t,U_),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function U_(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var s1=/[#\/\?@]/g,F_=/[#\?:]/g,j_=/[#\?]/g,B_=/[#\?@]/g,z_=/#/g;function es(e){this.g=e||null}function u1(e){if(!e.Ja&&(e.Ja={},e.nd=0,e.g))for(var t=e.g.split("&"),n=0;n<t.length;n++){var o=t[n].indexOf("="),u=null;if(0<=o){var l=t[n].substring(0,o);u=t[n].substring(o+1)}else l=t[n];l=decodeURIComponent(l.replace(/\+/g," ")),u=u||"",e.add(l,decodeURIComponent(u.replace(/\+/g," ")))}}g=es.prototype,g.Ja=null,g.nd=null,g.add=function(e,t){u1(this),this.g=null;var n=this.Ja.hasOwnProperty(e)&&this.Ja[e];return n||(this.Ja[e]=n=[]),n.push(t),this.nd++,this},g.set=function(e,t){return u1(this),this.g=null,this.Ja.hasOwnProperty(e)?this.Ja[e]=[t]:this.add(e,t),this},g.toString=function(){if(this.g)return this.g;if(!this.Ja)return"";var e=[],t;for(t in this.Ja)for(var n=encodeURIComponent(t),o=this.Ja[t],u=0;u<o.length;u++){var l=n;o[u]!==""&&(l+="="+encodeURIComponent(o[u])),e.push(l)}return this.g=e.join("&")},g.clone=function(){var e=new es;if(e.g=this.g,this.Ja){var t={},n;for(n in this.Ja)t[n]=this.Ja[n].concat();e.Ja=t,e.nd=this.nd}return e};function O(e,t,n,o){for(var u=[],l=3;l<arguments.length;++l)u[l-3]=arguments[l];this.severity=e,this.category=t,this.code=n,this.data=u,this.handled=!1}O.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},Y("shaka.util.Error",O),O.Severity={RECOVERABLE:1,CRITICAL:2},O.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},O.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};function kh(e,t){this.g=e,this.h=t}kh.prototype.toString=function(){return"v"+this.g+"."+this.h};function un(e,t){var n=new kh(4,0),o=a1,u=o.g,l=n.h-u.h;(0<(n.g-u.g||l)?o.i:o.h)(o.g,n,e,t)}function V_(e,t,n,o){je([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",o].join(" "))}function G_(e,t,n,o){mu([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",o].join(""))}var a1=null;function Ph(e,t){return e.concat(t)}function H_(){}function Sr(e){return e!=null}function uo(e){var t=Object.create(e.prototype||Object.prototype);try{var n=e.call(t);n||(un("Factories requiring new","Factories should be plain functions"),n=t)}catch{un("Factories requiring new","Factories should be plain functions"),n=new e}return n}function Vt(e,t){if(t.length==0)return e;var n=t.map(function(o){return new Vn(o)});return e.map(function(o){return new Vn(o)}).map(function(o){return n.map(function(u){return o.resolve(u)})}).reduce(Ph,[]).map(function(o){return o.toString()})}function Su(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:t||[],keyIds:new Set}}function ao(e,t){if(t.length==1)return t[0];var n=bl(e,t);if(n!=null)return n;throw new O(2,4,4025,t)}function bl(e,t){for(var n=x(K_[e]),o=n.next();!o.done;o=n.next()){o=o.value;for(var u=x(t),l=u.next();!l.done;l=u.next())if(l=l.value,o.test(l.trim()))return l.trim()}return e==Be?"":null}var Be="text",Qt={mb:"video",Nb:"audio",ua:Be,Gc:"image",Ah:"application"},K_={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]};function Gn(){}function Lh(e,t){return e=Pe(e),t=Pe(t),e.split("-")[0]==t.split("-")[0]}function Tu(e,t){e=Pe(e),t=Pe(t);var n=e.split("-"),o=t.split("-");return n[0]==o[0]&&n.length==1&&o.length==2}function Nh(e,t){e=Pe(e),t=Pe(t);var n=e.split("-"),o=t.split("-");return n.length==2&&o.length==2&&n[0]==o[0]}function Pe(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=c1.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function l1(e,t){var n=ts(e),o=ts(t);return e!=n&&t!=o&&n==o}function lo(e,t){return e=Pe(e),t=Pe(t),t==e?4:Tu(t,e)?3:Nh(t,e)?2:Tu(e,t)?1:0}function ts(e){var t=e.indexOf("-");return e=0<=t?e.substring(0,t):e,e=e.toLowerCase(),e=c1.get(e)||e}function Mh(e){return e.language?Pe(e.language):e.audio&&e.audio.language?Pe(e.audio.language):e.video&&e.video.language?Pe(e.video.language):"und"}function Dl(e,t){for(var n=Pe(e),o=new Set,u=x(t),l=u.next();!l.done;l=u.next())o.add(Pe(l.value));for(u=x(o),l=u.next();!l.done;l=u.next())if(l=l.value,l==n)return l;for(u=x(o),l=u.next();!l.done;l=u.next())if(l=l.value,Tu(l,n))return l;for(u=x(o),l=u.next();!l.done;l=u.next())if(l=l.value,Nh(l,n))return l;for(o=x(o),l=o.next();!l.done;l=o.next())if(l=l.value,Tu(n,l))return l;return null}Y("shaka.util.LanguageUtils",Gn),Gn.findClosestLocale=Dl,Gn.getLocaleForVariant=Mh,Gn.getLocaleForText=function(e){return Pe(e.language||"und")},Gn.getBase=ts,Gn.relatedness=lo,Gn.areSiblings=l1,Gn.normalize=Pe,Gn.isSiblingOf=Nh,Gn.isParentOf=Tu,Gn.areLanguageCompatible=Lh,Gn.areLocaleCompatible=function(e,t){return e=Pe(e),t=Pe(t),e==t};var c1=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function _t(e){Se.call(this),this.j=Pe(e),this.i=new Map,this.g=new Set,this.h=new Map}K(_t,Se),g=_t.prototype,g.release=function(){Se.prototype.release.call(this)},g.We=function(e){var t=this;this.g.clear(),e=x(e);for(var n=e.next();!n.done;n=e.next())this.g.add(Pe(n.value));d1(this),e=vu(this.g,function(o){return!t.h.has(o)}),e.length&&this.dispatchEvent(new oe("unknown-locales",new Map().set("locales",e))),e=vu(this.g,function(o){return t.h.has(o)}),e=new Map().set("locales",e.length?e:[this.j]),this.dispatchEvent(new oe("locale-changed",e))},g.ma=function(e,t,n){e=Pe(e),n===void 0&&(n=Rh);var o=this.h.get(e)||new Map;return t.forEach(function(u,l){o.has(l)&&n!=Rh||o.set(l,u)}),this.h.set(e,o),d1(this),this.dispatchEvent(new oe("locale-updated")),this},g.hh=function(e){for(var t=x(e.keys()),n=t.next();!n.done;n=t.next())n=n.value,e.set(n,this.resolve(n))},g.resolve=function(e){var t=this.i.get(e);return t||(e=new Map().set("locales",Array.from(this.g)).set("missing",e),this.dispatchEvent(new oe("unknown-localization",e)),"")};function d1(e){for(var t=e.h,n=e.j,o=e.g,u=new Set,l={},d=x(o),f=d.next();!f.done;l={ec:l.ec},f=d.next()){l.ec=f.value,u.add(l.ec),u.add(ts(l.ec)),f=vu(t.keys(),function(v){return function(y){return l1(y,v.ec)}}(l)),f.sort();var p=x(f);for(f=p.next();!f.done;f=p.next())u.add(f.value);for(f=vu(t.keys(),function(v){return function(y){return ts(y)==v.ec}}(l)),f.sort(),p=x(f),f=p.next();!f.done;f=p.next())u.add(f.value)}for(u.add(n),n=[],u=x(u),f=u.next();!f.done;f=u.next())(f=t.get(f.value))&&n.push(f);for(n.reverse(),e.i.clear(),t=x(n),f=t.next();!f.done;f=t.next())f.value.forEach(function(v,y){e.i.set(y,v)});for(t=e.i.keys(),u=new Set,n=x(e.g),f=n.next();!f.done;f=n.next())f=e.h.get(f.value)||new Map,W_(f,t,u);0<u.size&&(o=new Map().set("locales",Array.from(o)).set("missing",Array.from(u)),e.dispatchEvent(new oe("missing-localizations",o)))}function W_(e,t,n){t=x(t);for(var o=t.next();!o.done;o=t.next())o=o.value,e.get(o)||n.add(o)}Y("shaka.ui.Localization",_t),_t.prototype.resolve=_t.prototype.resolve,_t.prototype.resolveDictionary=_t.prototype.hh,_t.prototype.insert=_t.prototype.ma,_t.prototype.changeLocale=_t.prototype.We,_t.prototype.release=_t.prototype.release;var Rh=1;_t.ConflictResolution={USE_OLD:0,USE_NEW:Rh},_t.UNKNOWN_LOCALES="unknown-locales",_t.UNKNOWN_LOCALIZATION="unknown-localization",_t.MISSING_LOCALIZATIONS="missing-localizations",_t.LOCALE_CHANGED="locale-changed",_t.LOCALE_UPDATED="locale-updated";var $_={ci:"MUTE",Qi:"VOLUME",Xh:"LOOP",ti:"RESOLUTION",Di:"STATISTICS",xh:"AD_TIME",Ni:"UNMUTE",Lh:"ENTER_LOOP_MODE",Uh:"FULL_SCREEN",Oi:"UNRECOGNIZED_LANGUAGE",Fh:"CAPTIONS",ai:"MORE_SETTINGS",Bi:"SKIP_TO_LIVE",Mi:"UNDETERMINED_LANGUAGE",ni:"PAUSE",Mh:"ENTER_PICTURE_IN_PICTURE",si:"REPLAY",Oh:"EXIT_FULL_SCREEN",Wh:"LANGUAGE",ii:"OFF",BACK:"BACK",pi:"PLAY",Nf:"SUBTITLE_FORCED",AD_PROGRESS:"AD_PROGRESS",gi:"NOT_APPLICABLE",wh:"AD_DURATION",oi:"PICTURE_IN_PICTURE",Ai:"SKIP_AD",Ph:"EXIT_LOOP_MODE",Se:"LIVE",wi:"REWIND",ri:"PLAYBACK_RATE",Gh:"CAST",zi:"SEEK",ji:"ON",Bh:"AUTO_QUALITY",bi:"MULTIPLE_LANGUAGES",yh:"AIRPLAY",Qh:"EXIT_PICTURE_IN_PICTURE",Th:"FAST_FORWARD"};function bh(e){this.g=Math.exp(Math.log(.5)/e),this.i=this.h=0}function Dh(e,t,n){var o=Math.pow(e.g,t);n=n*(1-o)+o*e.h,isNaN(n)||(e.h=n,e.i+=t)}function Oh(e){return e.h/(1-Math.pow(e.g,e.i))}function Ol(){this.h=new bh(2),this.j=new bh(5),this.g=0,this.i=128e3,this.l=16e3}Ol.prototype.configure=function(e){this.i=e.minTotalBytes,this.l=e.minBytes,this.h.g=Math.exp(Math.log(.5)/e.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/e.slowHalfLife)},Ol.prototype.getBandwidthEstimate=function(e){return this.g<this.i?e:Math.min(Oh(this.h),Oh(this.j))};function f1(e,t){return typeof e=="number"&&typeof t=="number"&&isNaN(e)&&isNaN(t)?!0:e===t}function ri(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}function Eu(e,t,n){if(n||(n=f1),e.length!=t.length)return!1;t=t.slice();var o={};e=x(e);for(var u=e.next();!u.done;o={Ld:o.Ld},u=e.next()){if(o.Ld=u.value,u=t.findIndex(function(l){return function(d){return n(l.Ld,d)}}(o)),u==-1)return!1;t[u]=t[t.length-1],t.pop()}return t.length==0}function Uh(e,t,n){if(n||(n=f1),e.length!=t.length)return!1;for(var o=0;o<e.length;o++)if(!n(e[o],t[o]))return!1;return!0}function Ge(e,t,n){this.startTime=e,this.direction=jh,this.endTime=t,this.payload=n,this.region=new ns,this.position=null,this.positionAlign=p1,this.size=0,this.textAlign=Tr,this.writingMode=Au,this.lineInterpretation=Bh,this.line=null,this.lineHeight="",this.lineAlign=co,this.displayAlign=wu,this.fontSize=this.textStrokeWidth=this.textStrokeColor=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=y1,this.fontStyle=Vh,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=this.lineBreak=this.isContainer=!1,this.cellResolution={columns:32,rows:15}}Ge.prototype.clone=function(){var e=new Ge(0,0,""),t;for(t in this)e[t]=this[t],e[t]&&e[t].constructor==Array&&(e[t]=e[t].slice());return e};function h1(e,t){if(e.startTime!=t.startTime||e.endTime!=t.endTime||e.payload!=t.payload)return!1;for(var n in e)if(n!="startTime"&&n!="endTime"&&n!="payload"){if(n=="nestedCues"){if(!Uh(e.nestedCues,t.nestedCues,h1))return!1}else if(n=="region"||n=="cellResolution"){for(var o in e[n])if(e[n][o]!=t[n][o])return!1}else if(Array.isArray(e[n])){if(!Uh(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1}return!0}Y("shaka.text.Cue",Ge);var p1="auto";Ge.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:p1};var Tr="center",Fh={LEFT:"left",RIGHT:"right",CENTER:Tr,START:"start",END:"end"};Ge.textAlign=Fh;var wu="after",g1={BEFORE:"before",CENTER:"center",AFTER:wu};Ge.displayAlign=g1;var jh="ltr";Ge.direction={HORIZONTAL_LEFT_TO_RIGHT:jh,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Au="horizontal-tb";Ge.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Au,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Bh=0;Ge.lineInterpretation={LINE_NUMBER:Bh,PERCENTAGE:1};var co="start",zh={CENTER:"center",START:co,END:"end"};Ge.lineAlign=zh;var m1={white:"#FFF",lime:"#0F0",cyan:"#0FF",red:"#F00",yellow:"#FF0",magenta:"#F0F",blue:"#00F",black:"#000"};Ge.defaultTextColor=m1;var v1={bg_white:"#FFF",bg_lime:"#0F0",bg_cyan:"#0FF",bg_red:"#F00",bg_yellow:"#FF0",bg_magenta:"#F0F",bg_blue:"#00F",bg_black:"#000"};Ge.defaultTextBackgroundColor=v1;var y1=400;Ge.fontWeight={NORMAL:y1,BOLD:700};var Vh="normal",x1={NORMAL:Vh,ITALIC:"italic",OBLIQUE:"oblique"};Ge.fontStyle=x1,Ge.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"};function ns(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Er,this.scroll=S1}Y("shaka.text.CueRegion",ns);var Er=1;ns.units={PX:0,PERCENTAGE:Er,LINES:2};var S1="";ns.scrollMode={NONE:S1,UP:"up"};function Iu(){}function Ai(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(Gh(e)==Gh(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;for(var n=Re(e),o=Re(t),u=x(zn(e.byteLength)),l=u.next();!l.done;l=u.next())if(l=l.value,n[l]!=o[l])return!1;return!0}function Gh(e){return e instanceof ArrayBuffer?e:e.buffer}function Ii(e){return e instanceof ArrayBuffer?e:e.byteOffset==0&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function Re(e,t,n){return n=n===void 0?1/0:n,T1(e,t===void 0?0:t,n,Uint8Array)}function pn(e,t,n){return n=n===void 0?1/0:n,T1(e,t===void 0?0:t,n,DataView)}function T1(e,t,n,o){var u=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,u)),new o(Gh(e),t,Math.min(t+Math.max(n,0),u)-t)}Y("shaka.util.BufferUtils",Iu),Iu.toDataView=pn,Iu.toUint8=Re,Iu.toArrayBuffer=Ii,Iu.equal=Ai;function Ul(){}Y("shaka.dependencies",Ul),Ul.has=function(e){return Cu.has(e)},Ul.add=function(e,t){if(!E1[e])throw Error(e+" is not supported");Cu.set(e,function(){return t})};var E1={muxjs:"muxjs"};Ul.Allowed=E1;var Cu=new Map([["muxjs",function(){return c.muxjs}]]);function Ke(){var e,t,n=new Promise(function(o,u){e=o,t=u});return n.resolve=e,n.reject=t,n}Ke.prototype.resolve=function(){},Ke.prototype.reject=function(){};function _u(e){this.h=e,this.g=void 0}_u.prototype.value=function(){return this.g==null&&(this.g=this.h()),this.g};function fo(){}function Gt(e){return e?(e=Re(e),e[0]==239&&e[1]==187&&e[2]==191&&(e=e.subarray(3)),e=new TextDecoder().decode(e),e.includes("�")&&mu('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e):""}function wr(e,t,n){if(!e)return"";if(!n&&e.byteLength%2!=0)throw new O(2,2,2004);var o=Math.floor(e.byteLength/2);n=new Uint16Array(o),e=pn(e),o=x(zn(o));for(var u=o.next();!u.done;u=o.next())u=u.value,n[u]=e.getUint16(2*u,t);return Kh.value()(n)}function Fl(e){function t(o){return n.byteLength<=o||32<=n[o]&&126>=n[o]}if(!e)return"";var n=Re(e);if(n[0]==239&&n[1]==187&&n[2]==191)return Gt(n);if(n[0]==254&&n[1]==255)return wr(n.subarray(2),!1);if(n[0]==255&&n[1]==254)return wr(n.subarray(2),!0);if(n[0]==0&&n[2]==0)return wr(e,!1);if(n[1]==0&&n[3]==0)return wr(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return Gt(e);throw new O(2,2,2003)}function ho(e){var t=new TextEncoder;return Ii(t.encode(e))}function Hh(e,t){for(var n=new ArrayBuffer(2*e.length),o=new DataView(n),u=x(sn(e)),l=u.next();!l.done;l=u.next())l=l.value,o.setUint16(2*l.wa,l.item.charCodeAt(0),t);return n}Y("shaka.util.StringUtils",fo),fo.resetFromCharCode=function(){Kh.g=void 0},fo.toUTF16=Hh,fo.toUTF8=ho,fo.fromBytesAutoDetect=Fl,fo.fromUTF16=wr,fo.fromUTF8=Gt;var Kh=new _u(function(){function e(n){try{var o=new Uint8Array(n);return 0<String.fromCharCode.apply(null,o).length}catch{return!1}}for(var t={Bb:65536};0<t.Bb;t={Bb:t.Bb},t.Bb/=2)if(e(t.Bb))return function(n){return function(o){for(var u="",l=0;l<o.length;l+=n.Bb)u+=String.fromCharCode.apply(null,o.subarray(l,l+n.Bb));return u}}(t);return null});function Ci(){}function w1(e){return e=Re(e),e=Kh.value()(e),btoa(e)}function is(e,t){t=t??!0;var n=w1(e).replace(/\+/g,"-").replace(/\//g,"_");return t?n:n.replace(/[=]*$/,"")}function Ar(e){var t=c.atob(e.replace(/-/g,"+").replace(/_/g,"/"));e=new Uint8Array(t.length),t=x(sn(t));for(var n=t.next();!n.done;n=t.next())n=n.value,e[n.wa]=n.item.charCodeAt(0);return e}function Wh(e){var t=e.length/2,n=new Uint8Array(t);t=x(zn(t));for(var o=t.next();!o.done;o=t.next())o=o.value,n[o]=c.parseInt(e.substr(2*o,2),16);return n}function ku(e){var t=Re(e);e="",t=x(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n=n.toString(16),n.length==1&&(n="0"+n),e+=n;return e}function Pu(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];var o=0,u=x(t);for(n=u.next();!n.done;n=u.next())o+=n.value.byteLength;for(o=new Uint8Array(o),u=0,t=x(t),n=t.next();!n.done;n=t.next())n=n.value,o.set(Re(n),u),u+=n.byteLength;return o}Y("shaka.util.Uint8ArrayUtils",Ci),Ci.concat=Pu,Ci.toHex=ku,Ci.fromHex=Wh,Ci.fromBase64=Ar,Ci.toBase64=is,Ci.toStandardBase64=w1,Ci.equal=function(e,t){return un("shaka.util.Uint8ArrayUtils.equal","Please use shaka.util.BufferUtils.equal instead."),Ai(e,t)};function A1(){var e=this;this.B=Cu.get("muxjs")(),this.g=new this.B.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.h=null,this.s=[],this.j=[],this.i=[],this.l=!1,this.g.on("data",function(t){e.j=t.captions,e.i=t.metadata,e.s.push(Pu(t.initSegment,t.data))}),this.g.on("done",function(){var t={data:Pu.apply(Ci,b(e.s)),captions:e.j,metadata:e.i};e.h.resolve(t),e.l=!1})}A1.prototype.destroy=function(){return this.g.dispose(),this.g=null,Promise.resolve()};function I1(e,t){if(!Cu.get("muxjs")()||!C1(e))return!1;if(t)return MediaSource.isTypeSupported(Lu(t,e));var n=Lu("audio",e),o=Lu("video",e);return MediaSource.isTypeSupported(n)||MediaSource.isTypeSupported(o)}function C1(e){return e.toLowerCase().split(";")[0].split("/")[1]=="mp2t"}function Lu(e,t){var n=t.replace(/mp2t/i,"mp4");e=="audio"&&(n=n.replace("video","audio"));var o=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(o){var u="avc1.",l=o[1],d=Number(o[2]);u=(l=="66"?u+"4200":l=="77"?u+"4d00":u+"6400")+(d>>4).toString(16),u+=(d&15).toString(16),n=n.replace(o[0],u)}return n}function q_(e,t){e.l=!0,e.h=new Ke,e.s=[],e.j=[],e.i=[];var n=Re(t);return e.g.push(n),e.g.flush(),e.l&&e.h.reject(new O(2,3,3018)),e.h}function _i(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function rs(e,t,n){return e=_i(e,t),Cu.get("muxjs")()&&C1(e)?Lu(n,e):e}function Hn(e){e=e.split(".");var t=e[0];return e.pop(),t}function X_(e){return e=e.split(/ *; */),e.shift(),(e=e.find(function(t){return t.startsWith("codecs=")}))?e.split("=")[1].replace(/^"|"$/g,""):""}new Map().set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Gi(e){this.C=null,this.i=e,this.j=this.G=0,this.l=1/0,this.h=this.g=null,this.B="",this.s=new Map}function Nu(e){return!!(Mt[e]||e=="application/cea-608"||e=="application/cea-708")}Gi.prototype.destroy=function(){return this.i=this.C=null,this.s.clear(),Promise.resolve()};function Y_(e,t,n,o){var u,l,d;return F(function(f){if(f.g==1)return C(f,Promise.resolve(),2);if(!e.C||!e.i)return f.return();if(n==null||o==null)return e.C.parseInit(Re(t)),f.return();u={periodStart:e.G,segmentStart:n,segmentEnd:o},l=e.C.parseMedia(Re(t),u),d=l.filter(function(p){return p.startTime>=e.j&&p.startTime<e.l}),e.i.append(d),e.g==null&&(e.g=Math.max(n,e.j)),e.h=Math.min(o,e.l),Z(f)})}Gi.prototype.remove=function(e,t){var n=this;return F(function(o){if(o.g==1)return C(o,Promise.resolve(),2);!n.i||!n.i.remove(e,t)||n.g==null||t<=n.g||e>=n.h||(e<=n.g&&t>=n.h?n.g=n.h=null:e<=n.g&&t<n.h?n.g=t:e>n.g&&t>=n.h&&(n.h=e)),Z(o)})};function Q_(e,t,n){e.j=t,e.l=n}function _1(e,t,n){if(e.B=t,t=e.s.get(t))for(var o=x(t.keys()),u=o.next();!u.done;u=o.next())(u=t.get(u.value).filter(function(l){return l.endTime<=n}))&&e.i.append(u)}function J_(e){var t=[];e=x(e);for(var n=e.next();!n.done;n=e.next())n=n.value,t.push({stream:n.stream,cue:new Ge(n.startTime,n.endTime,n.text)});return t}function k1(e,t,n){t.startTime+=n,t.endTime+=n,t=x(t.nestedCues);for(var o=t.next();!o.done;o=t.next())k1(e,o.value,n)}function P1(e,t,n,o,u){var l=n+" "+o,d=new Map;t=x(t);for(var f=t.next();!f.done;f=t.next()){var p=f.value;f=p.stream,p=p.cue,d.has(f)||d.set(f,new Map),d.get(f).has(l)||d.get(f).set(l,[]),k1(e,p,u),p.startTime>=e.j&&p.startTime<e.l&&(d.get(f).get(l).push(p),f==e.B&&e.i.append([p]))}for(u=x(d.keys()),l=u.next();!l.done;l=u.next())for(l=l.value,e.s.has(l)||e.s.set(l,new Map),t=x(d.get(l).keys()),f=t.next();!f.done;f=t.next())f=f.value,p=d.get(l).get(f),e.s.get(l).set(f,p);e.g=e.g==null?Math.max(n,e.j):Math.min(e.g,Math.max(n,e.j)),e.h=Math.max(e.h,Math.min(o,e.l))}Y("shaka.text.TextEngine",Gi),Gi.prototype.destroy=Gi.prototype.destroy,Gi.findParser=function(e){return Mt[e]},Gi.unregisterParser=function(e){delete Mt[e]},Gi.registerParser=function(e,t){Mt[e]=t};var Mt={};function Mu(e){this.h=e,this.g=null}Mu.prototype.U=function(e){var t=this;this.stop();var n=!0,o=null;return this.g=function(){c.clearTimeout(o),n=!1},o=c.setTimeout(function(){n&&t.h()},1e3*e),this},Mu.prototype.stop=function(){this.g&&(this.g(),this.g=null)};function fe(e){this.h=e,this.g=null}fe.prototype.Ga=function(){return this.stop(),this.h(),this},fe.prototype.U=function(e){var t=this;return this.stop(),this.g=new Mu(function(){t.h()}).U(e),this},fe.prototype.na=function(e){var t=this;return this.stop(),this.g=new Mu(function(){t.g.U(e),t.h()}).U(e),this},fe.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},Y("shaka.util.Timer",fe),fe.prototype.stop=fe.prototype.stop,fe.prototype.tickEvery=fe.prototype.na,fe.prototype.tickAfter=fe.prototype.U,fe.prototype.tickNow=fe.prototype.Ga;function oi(){return!!(c.MediaSource&&MediaSource.isTypeSupported)}function os(e){return N1().canPlayType(e)!=""}function po(){return Jt("Tizen")}function Ru(){return Jt("CrKey")}function bu(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!po()}function L1(){if(!bu())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function Jt(e){return(navigator.userAgent||"").includes(e)}function N1(){return ss||($h||($h=new fe(function(){ss=null})),(ss=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(ss=document.createElement("video")),$h.U(1),ss)}var $h=null,ss=null;function M1(e,t,n,o,u){var l=e.variants;(t.length||n.length)&&(l=tk(l,t,n)),l=V1(l,o),t=Z_(l),t=ek(t);var d=nk(t,u);e.variants=e.variants.filter(function(f){return R1(f)==d})}function Z_(e){var t=new Zo;e=x(e);for(var n=e.next();!n.done;n=e.next()){n=n.value;var o=R1(n);t.push(o,n)}return t}function ek(e){var t=0,n=new Map,o=e.size();return Ch(e,function(u,l){for(var d=x(l),f=d.next();!f.done;f=d.next()){f=f.value;var p=f.video;if(p&&p.width&&p.height){p=p.width*p.height*(p.frameRate||1),n.has(p)||n.set(p,new Zo);var v=n.get(p);v.push(u,f),v.size()===o&&(t=Math.max(t,p))}}}),t?n.get(t):e}function tk(e,t,n){var o={};t=x(t);for(var u=t.next();!u.done;o={Wd:o.Wd},u=t.next())if(o.Wd=u.value,u=e.filter(function(l){return function(d){return d.video&&d.video.codecs.startsWith(l.Wd)}}(o)),u.length){e=u;break}for(o={},n=x(n),t=n.next();!t.done;o={Id:o.Id},t=n.next())if(o.Id=t.value,t=e.filter(function(l){return function(d){return d.audio&&d.audio.codecs.startsWith(l.Id)}}(o)),t.length){e=t;break}return e}function nk(e,t){for(var n=x(t),o=n.next();!o.done;o=n.next())if(o=o.value,o==fk||o==hk){if(e=ik(e,o),e.size()==1)return e.keys()[0]}else if(o==pk)break;return rk(e)}function ik(e,t){var n=0,o=new Zo;return Ch(e,function(u,l){for(var d=0,f=0,p=x(l),v=p.next();!v.done;v=p.next())v=v.value,v.decodingInfos.length&&(d+=v.decodingInfos[0][t]?1:0,f++);d/=f,d>n?(o.g={},o.push(u,l),n=d):d==n&&o.push(u,l)}),o}function rk(e){var t="",n=1/0;return Ch(e,function(o,u){for(var l=0,d=0,f=x(u),p=f.next();!p.done;p=f.next())l+=p.value.bandwidth||0,++d;l/=d,l<n&&(t=o,n=l)}),t}function R1(e){var t="";e.video&&(t=Hn(e.video.codecs));var n="";return e.audio&&(n=Hn(e.audio.codecs)),t+"-"+n}function ok(e,t,n){e.variants=e.variants.filter(function(o){return qh(o,t,n)})}function qh(e,t,n){function o(l,d,f){return l>=d&&l<=f}var u=e.video;return!(u&&u.width&&u.height&&(!o(u.width,t.minWidth,Math.min(t.maxWidth,n.width))||!o(u.height,t.minHeight,Math.min(t.maxHeight,n.height))||!o(u.width*u.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!o(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!o(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function sk(e,t){return F(function(n){if(n.g==1)return C(n,b1(t,0<t.offlineSessionIds.length),2);U1(e,t),ak(t),lk(t),Z(n)})}function b1(e,t){return F(function(n){if(n.g==1)return C(n,D1(e.variants,t,!1),2);e.variants=e.variants.filter(function(o){var u=o.video;if(u){var l=Xh(u.codecs);if(u.codecs.includes(",")){var d=u.codecs.split(",");if(l=ao("video",d),d=ao("audio",d),d=rs(u.mimeType,d,"audio"),!MediaSource.isTypeSupported(d))return!1}if(l=rs(u.mimeType,l,"video"),!MediaSource.isTypeSupported(l))return!1}return(l=o.audio)&&(d=O1(l.codecs),l=rs(l.mimeType,d,"audio"),!MediaSource.isTypeSupported(l))?!1:Jt("Xbox One")&&u&&(u.width&&1920<u.width||u.height&&1080<u.height)&&u.codecs.includes("avc1.")?(H1(o),!1):((u=o.decodingInfos.some(function(f){return f.supported}))||(H1(o),void 0),u)}),Z(n)})}function D1(e,t,n){var o,u,l,d,f,p,v,y,T,E;return F(function(I){if(e.some(function(P){return P.decodingInfos.length}))return I.return();for(o=navigator.mediaCapabilities,u=[],l=function(P,L){var M;return F(function(N){if(N.g==1)return ae(N,2),C(N,o.decodingInfo(L),4);if(N.g!=2)return M=N.h,P.decodingInfos.push(M),Ae(N,0);ge(N),JSON.stringify(L),Z(N)})},d=x(e),f=d.next();!f.done;f=d.next())for(p=f.value,v=uk(p,t,n),y=x(v),T=y.next();!T.done;T=y.next())E=T.value,u.push(l(p,E));return C(I,Promise.all(u),0)})}function uk(e,t,n){var o=e.audio,u=e.video;if(n={type:n?"file":"media-source"},u){var l=u.codecs;if(u.codecs.includes(",")){var d=u.codecs.split(",");l=ao("video",d),l=Xh(l),d=ao("audio",d),d=rs(u.mimeType,d,"audio"),n.audio={contentType:d,channels:2,bitrate:e.bandwidth||1,samplerate:1,spatialRendering:!1}}if(l=Xh(l),l=rs(u.mimeType,l,"video"),n.video={contentType:l,width:u.width||1,height:u.height||1,bitrate:u.bandwidth||e.bandwidth||1,framerate:u.frameRate||1},u.hdr)switch(u.hdr){case"SDR":n.video.transferFunction="srgb";break;case"PQ":n.video.transferFunction="pq";break;case"HLG":n.video.transferFunction="hlg"}}if(o&&(l=O1(o.codecs),l=rs(o.mimeType,l,"audio"),n.audio={contentType:l,channels:o.channelsCount||2,bitrate:o.bandwidth||e.bandwidth||1,samplerate:o.audioSamplingRate||1,spatialRendering:o.spatialAudio}),d=(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]),!d.length)return[n];e=[],l=new Map,d=x(d);for(var f=d.next();!f.done;f=d.next()){var p=f.value;l.get(p.keySystem)||l.set(p.keySystem,[]),l.get(p.keySystem).push(p)}d=t?"required":"optional",t=t?["persistent-license"]:["temporary"],p=x(l.keys());for(var v=p.next();!v.done;v=p.next()){var y=v.value;v=Object.assign({},n);var T=l.get(y);for(y={keySystem:y,initDataType:"cenc",persistentState:d,distinctiveIdentifier:"optional",sessionTypes:t},T=x(T),f=T.next();!f.done;f=T.next()){if(f=f.value,f.initData&&f.initData.length){for(var E=new Set,I=x(f.initData),P=I.next();!P.done;P=I.next())E.add(P.value.initDataType);y.initDataType=f.initData[0].initDataType}f.distinctiveIdentifierRequired&&(y.distinctiveIdentifier="required"),f.persistentStateRequired&&(y.persistentState="required"),f.sessionType&&(y.sessionTypes=[f.sessionType]),o&&(y.audio?y.audio.robustness=y.audio.robustness||f.audioRobustness:y.audio={robustness:f.audioRobustness}),u&&(y.video?y.video.robustness=y.video.robustness||f.videoRobustness:y.video={robustness:f.videoRobustness})}v.keySystemConfiguration=y,e.push(v)}return e}function O1(e){return po()&&e.toLowerCase()=="ac-3"?"ec-3":e}function Xh(e){return e=="vp9"?"vp09.00.10.08":e}function U1(e,t){t.variants=t.variants.filter(function(n){var o=n.audio;return n=n.video,!(o&&e&&e.audio&&!F1(o,e.audio)||n&&e&&e.video&&!F1(n,e.video))})}function ak(e){e.textStreams=e.textStreams.filter(function(t){return Nu(_i(t.mimeType,t.codecs))})}function lk(e){e.imageStreams=e.imageStreams.filter(function(t){var n=["image/svg+xml","image/png","image/jpeg"];return(Jt("Web0S")||po()||Ru())&&n.push("image/webp"),n.includes(t.mimeType)})}function F1(e,t){return!(e.mimeType!=t.mimeType||e.codecs.split(".")[0]!=t.codecs.split(".")[0])}function go(e){var t=e.audio,n=e.video,o=t?t.codecs:null,u=n?n.codecs:null,l=[];u&&l.push(u),o&&l.push(o);var d=[];n&&d.push(n.mimeType),t&&d.push(t.mimeType),d=d[0]||null;var f=[];t&&f.push(t.kind),n&&f.push(n.kind),f=f[0]||null;var p=new Set;if(t)for(var v=x(t.roles),y=v.next();!y.done;y=v.next())p.add(y.value);if(n)for(v=x(n.roles),y=v.next();!y.done;y=v.next())p.add(y.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:f,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:d,codecs:l.join(", "),audioCodec:o,videoCodec:u,primary:e.primary,roles:Array.from(p),audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e}function Du(e){return{id:e.id,active:!1,type:Be,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,forced:e.forced,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId,originalImageId:null}}function j1(e){var t=e.width||null,n=e.height||null,o=null;e.segmentIndex&&(o=e.segmentIndex.get(0));var u=e.tilesLayout;return o&&(u=o.tilesLayout||u),u&&t!=null&&(t/=Number(u.split("x")[0])),u&&n!=null&&(n/=Number(u.split("x")[1])),{id:e.id,active:!1,type:"image",bandwidth:e.bandwidth||0,language:"",label:null,kind:null,width:t,height:n,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:e.mimeType,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,forced:!1,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:u||null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:e.originalId}}function Yh(e){return e.__shaka_id||(e.__shaka_id=dk++),e.__shaka_id}function B1(e){var t=z1(e);return t.active=e.mode!="disabled",t.type="text",t.originalTextId=e.id,e.kind=="captions"&&(t.mimeType="application/cea-608"),e.kind&&(t.roles=[e.kind]),e.kind=="forced"&&(t.forced=!0),t}function jl(e){var t=z1(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,e.kind=="main"&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind],t.label=e.label),t}function z1(e){return{id:Yh(e),active:!1,type:"",bandwidth:0,language:Pe(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],forced:!1,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null}}function Ou(e){return e.allowedByApplication&&e.allowedByKeySystem}function ck(e){return e.filter(function(t){return Ou(t)})}function V1(e,t){var n=e.filter(function(d){return d.audio&&d.audio.channelsCount}),o=new Map;n=x(n);for(var u=n.next();!u.done;u=n.next()){u=u.value;var l=u.audio.channelsCount;o.has(l)||o.set(l,[]),o.get(l).push(u)}return n=Array.from(o.keys()),n.length==0?e:(u=n.filter(function(d){return d<=t}),u.length?o.get(Math.max.apply(Math,b(u))):o.get(Math.min.apply(Math,b(n))))}function Qh(e,t,n,o){var u=e,l=e.filter(function(p){return p.primary});l.length&&(u=l);var d=u.length?u[0].language:"";if(u=u.filter(function(p){return p.language==d}),t){var f=Dl(Pe(t),e.map(function(p){return p.language}));f&&(u=e.filter(function(p){return Pe(p.language)==f}))}if(u=u.filter(function(p){return p.forced==o}),n){if(e=G1(u,n),e.length)return e}else if(e=u.filter(function(p){return p.roles.length==0}),e.length)return e;return e=u.map(function(p){return p.roles}).reduce(Ph,[]),e.length?G1(u,e[0]):u}function G1(e,t){return e.filter(function(n){return n.roles.includes(t)})}function H1(e){var t=[];return e.audio&&t.push(K1(e.audio)),e.video&&t.push(K1(e.video)),t.join(", ")}function K1(e){return e.type=="audio"?"type=audio codecs="+e.codecs+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount+" audioSamplingRate="+e.audioSamplingRate:e.type=="video"?"type=video codecs="+e.codecs+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"}var dk=0,fk="smooth",hk="powerEfficient",pk="bandwidth";function ft(){var e=this;this.j=null,this.h=!1,this.g=new Ol,navigator.connection&&navigator.connection.addEventListener("change",function(){if(e.m.useNetworkInformation&&e.h){e.g=new Ol,e.m&&e.g.configure(e.m.advanced);var t=e.chooseVariant();t&&e.j(t)}}),this.i=[],this.s=1,this.B=!1,this.m=this.l=null}g=ft.prototype,g.stop=function(){this.j=null,this.h=!1,this.i=[],this.s=1,this.l=null},g.init=function(e){this.j=e},g.chooseVariant=function(){var e=$1(this.m.restrictions,this.i),t=this.g.getBandwidthEstimate(W1(this));this.i.length&&!e.length&&(e=$1(null,this.i),e=[e[0]]);var n=e[0]||null;e=x(sn(e));for(var o=e.next();!o.done;o=e.next()){var u=o.value;o=u.item;var l=isNaN(this.s)?1:Math.abs(this.s);u=l*(u.next||{bandwidth:1/0}).bandwidth/this.m.bandwidthUpgradeTarget,t>=l*o.bandwidth/this.m.bandwidthDowngradeTarget&&t<=u&&(n=o)}return this.l=Date.now(),n},g.enable=function(){this.h=!0},g.disable=function(){this.h=!1},g.segmentDownloaded=function(e,t){var n=this.g;if(!(t<n.l)){var o=8e3*t/e,u=e/1e3;n.g+=t,Dh(n.h,u,o),Dh(n.j,u,o)}if(this.l!=null&&this.h)e:{if(this.B){if(Date.now()-this.l<1e3*this.m.switchInterval)break e}else{if(n=this.g,!(n.g>=n.i))break e;this.B=!0}n=this.chooseVariant(),this.g.getBandwidthEstimate(W1(this)),n&&this.j(n)}},g.getBandwidthEstimate=function(){return this.g.getBandwidthEstimate(this.m.defaultBandwidthEstimate)},g.setVariants=function(e){this.i=e},g.playbackRateChanged=function(e){this.s=e},g.configure=function(e){this.m=e,this.g&&this.m&&this.g.configure(this.m.advanced)};function W1(e){var t=e.m.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&e.m.useNetworkInformation&&(t=1e6*navigator.connection.downlink),t}function $1(e,t){return e&&(t=t.filter(function(n){return qh(n,e,{width:1/0,height:1/0})})),t.sort(function(n,o){return n.bandwidth-o.bandwidth})}Y("shaka.abr.SimpleAbrManager",ft),ft.prototype.configure=ft.prototype.configure,ft.prototype.playbackRateChanged=ft.prototype.playbackRateChanged,ft.prototype.setVariants=ft.prototype.setVariants,ft.prototype.getBandwidthEstimate=ft.prototype.getBandwidthEstimate,ft.prototype.segmentDownloaded=ft.prototype.segmentDownloaded,ft.prototype.disable=ft.prototype.disable,ft.prototype.enable=ft.prototype.enable,ft.prototype.chooseVariant=ft.prototype.chooseVariant,ft.prototype.init=ft.prototype.init,ft.prototype.stop=ft.prototype.stop;function Bl(e,t){this.h=e,this.g=new Set([e]),t=t||[];for(var n=x(t),o=n.next();!o.done;o=n.next())this.add(o.value)}Bl.prototype.add=function(e){return Jh(this.h,e)?(this.g.add(e),!0):!1};function Jh(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var o=t.audio;n=!((!(!n.channelsCount||!o.channelsCount||2<n.channelsCount||2<o.channelsCount)||n.channelsCount==o.channelsCount)&&q1(n,o)&&X1(n.roles,o.roles))}return!n&&(n=e.video&&t.video)&&(n=e.video,o=t.video,n=!(q1(n,o)&&X1(n.roles,o.roles))),!n}Bl.prototype.values=function(){return this.g.values()};function q1(e,t){if(e.mimeType!=t.mimeType)return!1;var n=e.codecs.split(",").map(function(d){return Hn(d)}),o=t.codecs.split(",").map(function(d){return Hn(d)});if(n.length!=o.length)return!1;n.sort(),o.sort();for(var u=x(zn(n.length)),l=u.next();!l.done;l=u.next())if(l=l.value,n[l]!=o[l])return!1;return!0}function X1(e,t){var n=new Set(e),o=new Set(t);if(n.delete("main"),o.delete("main"),n.size!=o.size)return!1;n=x(n);for(var u=n.next();!u.done;u=n.next())if(!o.has(u.value))return!1;return!0}function Y1(e){this.g=e,this.h=new us(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")}Y1.prototype.create=function(e){var t=this,n=e.filter(function(o){return Jh(t.g,o)});return n.length?new Bl(n[0],n):this.h.create(e)};function us(e,t,n,o){this.i=e,this.j=t,this.g=n,this.h=o===void 0?"":o}us.prototype.create=function(e){var t=[];t=gk(e,this.i);var n=e.filter(function(o){return o.primary});for(t=t.length?t:n.length?n:e,e=mk(t,this.j),e.length&&(t=e),this.g&&(e=V1(t,this.g),e.length&&(t=e)),this.h&&(e=vk(t,this.h),e.length&&(t=e)),e=new Bl(t[0]),t=x(t),n=t.next();!n.done;n=t.next())n=n.value,Jh(e.h,n)&&e.add(n);return e};function gk(e,t){var n=Pe(t),o=Dl(n,e.map(function(u){return Mh(u)}));return o?e.filter(function(u){return o==Mh(u)}):[]}function mk(e,t){return e.filter(function(n){return n.audio?t?n.audio.roles.includes(t):n.audio.roles.length==0:!1})}function vk(e,t){return e.filter(function(n){return n.audio?n.audio.label.toLowerCase()==t.toLowerCase():!1})}function yk(){this.g=zl,this.h=new Map().set(zl,2).set(as,1)}function Q1(e,t,n){e.h.set(zl,n).set(as,t)}var as=0,zl=1;function J1(e,t){var n=ls();this.l=e.maxAttempts==null?n.maxAttempts:e.maxAttempts,this.j=e.baseDelay==null?n.baseDelay:e.baseDelay,this.B=e.fuzzFactor==null?n.fuzzFactor:e.fuzzFactor,this.s=e.backoffFactor==null?n.backoffFactor:e.backoffFactor,this.g=0,this.h=this.j,(this.i=t===void 0?!1:t)&&(this.g=1)}function Z1(e){var t,n;return F(function(o){if(o.g==1){if(e.g>=e.l)if(e.i)e.g=1,e.h=e.j;else throw new O(2,7,1010);return t=e.g,e.g++,t==0?o.return():(n=e.h*(1+(2*Math.random()-1)*e.B),C(o,new Promise(function(u){new fe(u).U(n/1e3)}),2))}e.h*=e.s,Z(o)})}function ls(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}}function Je(e,t){this.promise=e,this.i=t,this.g=!1}function mo(e){return new Je(Promise.reject(e),function(){return Promise.resolve()})}function Zh(){var e=Promise.reject(new O(2,7,7001));return e.catch(function(){}),new Je(e,function(){return Promise.resolve()})}function cs(e){return new Je(Promise.resolve(e),function(){return Promise.resolve()})}function ki(e){return new Je(e,function(){return e.catch(function(){})})}Je.prototype.abort=function(){return this.g=!0,this.i()};function ex(e){return new Je(Promise.all(e.map(function(t){return t.promise})),function(){return Promise.all(e.map(function(t){return t.abort()}))})}Je.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},Je.prototype.va=function(e,t){function n(f){return function(p){if(u.g&&f)l.reject(d);else{var v=f?e:t;v?o=xk(v,p,l):(f?l.resolve:l.reject)(p)}}}function o(){return l.reject(d),u.abort()}var u=this,l=new Ke,d=new O(2,7,7001);return this.promise.then(n(!0),n(!1)),new Je(l,function(){return o()})};function xk(e,t,n){try{var o=e(t);return o&&o.promise&&o.abort?(n.resolve(o.promise),function(){return o.abort()}):(n.resolve(o),function(){return Promise.resolve(o).then(function(){},function(){})})}catch(u){return n.reject(u),function(){return Promise.resolve()}}}Y("shaka.util.AbortableOperation",Je),Je.prototype.chain=Je.prototype.va,Je.prototype.finally=Je.prototype.finally,Je.all=ex,Je.prototype.abort=Je.prototype.abort,Je.notAbortable=ki,Je.completed=cs,Je.aborted=Zh,Je.failed=mo;function ds(e){function t(o){switch(typeof o){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return o;default:if(!o||o.buffer&&o.buffer.constructor==ArrayBuffer)return o;if(n.has(o))return null;var u=o.constructor==Array;if(o.constructor!=Object&&!u)return null;n.add(o);var l=u?[]:{},d;for(d in o)l[d]=t(o[d]);return u&&(l.length=o.length),l}}var n=new Set;return t(e)}function tx(e){var t={},n;for(n in e)t[n]=e[n];return t}function Vl(){this.g=[]}function fs(e,t){e.g.push(t.finally(function(){ri(e.g,t)}))}Vl.prototype.destroy=function(){for(var e=[],t=x(this.g),n=t.next();!n.done;n=t.next())n=n.value,n.promise.catch(function(){}),e.push(n.abort());return this.g=[],Promise.all(e)};function ze(e,t,n){Se.call(this),this.i=!1,this.s=new Vl,this.g=new Set,this.h=new Set,this.l=e||null,this.j=t||null,this.C=n||null,this.B=!1}K(ze,Se),g=ze.prototype,g.Ee=function(e){this.B=e};function Hi(e,t,n,o){n=n||rx;var u=Hl[e];(!u||n>=u.priority)&&(Hl[e]={priority:n,Xg:t,Zg:o===void 0?!1:o})}g.$g=function(e){this.g.add(e)},g.qh=function(e){this.g.delete(e)},g.Vf=function(){this.g.clear()},g.ah=function(e){this.h.add(e)},g.rh=function(e){this.h.delete(e)},g.Wf=function(){this.h.clear()};function si(e,t,n){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null,streamDataCallback:n===void 0?null:n}}g.destroy=function(){return this.i=!0,this.g.clear(),this.h.clear(),Se.prototype.release.call(this),this.s.destroy()},g.request=function(e,t){var n=this,o=new ix;if(this.i){var u=Promise.reject(new O(2,7,7001));return u.catch(function(){}),new Gl(u,function(){return Promise.resolve()},o)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?ds(t.retryParameters):ls(),t.uris=ds(t.uris),u=Sk(this,e,t);var l=u.va(function(){return nx(n,e,t,new J1(t.retryParameters,!1),0,null,o)}),d=l.va(function(T){return Tk(n,e,T)}),f=Date.now(),p=0;u.promise.then(function(){p=Date.now()-f},function(){});var v=0;l.promise.then(function(){v=Date.now()},function(){});var y=d.va(function(T){var E=Date.now()-v,I=T.response;return I.timeMs+=p,I.timeMs+=E,T.Kg||!n.l||I.fromCache||e!=Ki||n.l(I.timeMs,I.data.byteLength),I},function(T){throw T&&(T.severity=2),T});return u=new Gl(y.promise,function(){return y.abort()},o),fs(this.s,u),u};function Sk(e,t,n){var o=cs(void 0),u={};e=x(e.g);for(var l=e.next();!l.done;u={Rd:u.Rd},l=e.next())u.Rd=l.value,o=o.va(function(d){return function(){return n.body&&(n.body=Ii(n.body)),d.Rd(t,n)}}(u));return o.va(void 0,function(d){throw d instanceof O&&d.code==7001?d:new O(2,1,1006,d)})}function nx(e,t,n,o,u,l,d){e.B&&(n.uris[u]=n.uris[u].replace("http://","https://"));var f=new Vn(n.uris[u]),p=f.ab,v=!1;p||(p=location.protocol,p=p.slice(0,-1),Ml(f,p),n.uris[u]=f.toString()),p=p.toLowerCase();var y=(p=Hl[p])?p.Xg:null;if(!y)return mo(new O(2,1,1e3,f));var T=p.Zg,E=null,I=null,P=!1,L=!1,M;return ki(Z1(o)).va(function(){if(e.i)return Zh();M=Date.now();var N=y(n.uris[u],n,t,function(j,H,q){E&&E.stop(),I&&I.U(z/1e3),e.l&&t==Ki&&(e.l(j,H),v=!0,d.g=q)},function(j){e.j&&e.j(j,n,t),L=!0});if(!T)return N;var V=n.retryParameters.connectionTimeout;V&&(E=new fe(function(){P=!0,N.abort()}),E.U(V/1e3));var z=n.retryParameters.stallTimeout;return z&&(I=new fe(function(){P=!0,N.abort()})),N}).va(function(N){E&&E.stop(),I&&I.stop(),N.timeMs==null&&(N.timeMs=Date.now()-M);var V={response:N,Kg:v};return!L&&e.j&&e.j(N.headers,n,t),V},function(N){if(E&&E.stop(),I&&I.stop(),e.C){var V=null,z=0;N instanceof O&&(V=N,N.code==1001&&(z=N.data[1])),e.C(n,V,z,P)}if(e.i)return Zh();if(P&&(N=new O(1,1,1003,n.uris[u],t)),N instanceof O){if(N.code==7001)throw N;if(N.code==1010)throw l;if(N.severity==1)return V=new Map().set("error",N),V=new oe("retry",V),e.dispatchEvent(V),u=(u+1)%n.uris.length,nx(e,t,n,o,u,N,d)}throw N})}function Tk(e,t,n){var o=cs(void 0),u={};e=x(e.h);for(var l=e.next();!l.done;u={Sd:u.Sd},l=e.next())u.Sd=l.value,o=o.va(function(d){return function(){var f=n.response;return f.data&&(f.data=Ii(f.data)),d.Sd(t,f)}}(u));return o.va(function(){return n},function(d){var f=2;if(d instanceof O){if(d.code==7001)throw d;f=d.severity}throw new O(f,1,1007,d)})}Y("shaka.net.NetworkingEngine",ze),ze.prototype.request=ze.prototype.request,ze.prototype.destroy=ze.prototype.destroy,ze.makeRequest=si,ze.defaultRetryParameters=function(){return ls()},ze.prototype.clearAllResponseFilters=ze.prototype.Wf,ze.prototype.unregisterResponseFilter=ze.prototype.rh,ze.prototype.registerResponseFilter=ze.prototype.ah,ze.prototype.clearAllRequestFilters=ze.prototype.Vf,ze.prototype.unregisterRequestFilter=ze.prototype.qh,ze.prototype.registerRequestFilter=ze.prototype.$g,ze.unregisterScheme=function(e){delete Hl[e]},ze.registerScheme=Hi,ze.prototype.setForceHTTPS=ze.prototype.Ee;function ix(){this.g=0}ze.NumBytesRemainingClass=ix;function Gl(e,t,n){Je.call(this,e,t),this.h=n}K(Gl,Je),ze.PendingRequest=Gl;var Ki=1;ze.RequestType={MANIFEST:0,SEGMENT:Ki,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5};var rx=3;ze.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:rx};var Hl={};function vo(e){this.g=!1,this.h=new Ke,this.i=e}vo.prototype.destroy=function(){var e=this;return this.g?this.h:(this.g=!0,this.i().then(function(){e.h.resolve()},function(){e.h.resolve()}))};function We(e,t){if(e.g)throw t instanceof O&&t.code==7003?t:new O(2,7,7003,t)}function Ue(){this.g=new Zo}g=Ue.prototype,g.release=function(){this.Yb(),this.g=null},g.o=function(e,t,n,o){this.g&&(e=new ox(e,t,n,o),this.g.push(t,e))},g.Qa=function(e,t,n,o){function u(d){l.Ta(e,t,u),n(d)}var l=this;this.o(e,t,u,o)},g.Ta=function(e,t,n){if(this.g){var o=this.g.get(t)||[];o=x(o);for(var u=o.next();!u.done;u=o.next())u=u.value,u.target!=e||n!=u.listener&&n||(u.Ta(),this.g.remove(t,u))}},g.Yb=function(){if(this.g){var e=this.g,t=[],n;for(n in e.g)t.push.apply(t,b(e.g[n]));for(e=x(t),t=e.next();!t.done;t=e.next())t.value.Ta();this.g.g={}}},Y("shaka.util.EventManager",Ue),Ue.prototype.removeAll=Ue.prototype.Yb,Ue.prototype.unlisten=Ue.prototype.Ta,Ue.prototype.listenOnce=Ue.prototype.Qa,Ue.prototype.listen=Ue.prototype.o,Ue.prototype.release=Ue.prototype.release;function ox(e,t,n,o){this.target=e,this.type=t,this.listener=n,this.g=Ek(e,o),this.target.addEventListener(t,n,this.g)}ox.prototype.Ta=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};function Ek(e,t){if(t==null)return!1;if(typeof t=="boolean")return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter(function(o){return!n.has(o)}),wk(e)?t:t.capture||!1}function wk(e){var t=sx;if(t==null){t=!1;try{var n={},o={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",o),Object.defineProperty(n,"capture",o),o=function(){},e.addEventListener("test",o,n),e.removeEventListener("test",o,n)}catch{t=!1}sx=t}return t||!1}var sx=void 0;function ep(){}function ux(e){return e=Fl(e),new Vn(e).eb}function ax(e,t,n){function o(f){pn(l).setUint32(d,f.byteLength,!0),d+=4,l.set(Re(f),d),d+=f.byteLength}if(!n||!n.byteLength)throw new O(2,6,6015);var u;typeof t=="string"?u=Hh(t,!0):u=t,e=Fl(e),e=Hh(e,!0);var l=new Uint8Array(12+e.byteLength+u.byteLength+n.byteLength),d=0;return o(e),o(u),o(n),l}Y("shaka.util.FairPlayUtils",ep),ep.initDataTransform=ax,ep.defaultGetContentId=ux;function Uu(e){for(var t=new Map,n=x(Object.keys(e)),o=n.next();!o.done;o=n.next())o=o.value,t.set(o,e[o]);return t}function tp(e){var t={};return e.forEach(function(n,o){t[o]=n}),t}function Ak(e,t){if(e||t){if(e&&!t||t&&!e)return!1}else return!0;if(e.size!=t.size)return!1;for(var n=x(e),o=n.next();!o.done;o=n.next()){var u=x(o.value);if(o=u.next().value,u=u.next().value,!t.has(o)||(o=t.get(o),o!=u||o==null))return!1}return!0}function Kl(e,t){var n=this;t=t===void 0?1:t,this.F=e,this.G=new Set,this.g=this.s=null,this.ia=this.ea=!1,this.I=0,this.i=null,this.h=new Ue,this.j=new Map,this.C=[],this.B=new Ke,this.m=null,this.l=function(o){n.B.reject(o),e.onError(o)},this.ka=new Map,this.$=new Map,this.P=new fe(function(){return Dk(n)}),this.L=!1,this.J=[],this.M=!1,this.ha=new fe(function(){Fk(n)}).na(t),this.B.catch(function(){}),this.N=new vo(function(){return Ik(n)}),this.S=!1}g=Kl.prototype,g.destroy=function(){return this.N.destroy()};function Ik(e){return F(function(t){switch(t.g){case 1:return e.h.release(),e.h=null,e.B.reject(),e.ha.stop(),e.ha=null,e.P.stop(),e.P=null,C(t,vx(e),2);case 2:if(!e.g){t.D(3);break}return ae(t,4),C(t,e.g.setMediaKeys(null),6);case 6:Ae(t,5);break;case 4:ge(t);case 5:e.g=null;case 3:e.i=null,e.G.clear(),e.s=null,e.C=[],e.m=null,e.l=function(){},e.F=null,e.S=!1,Z(t)}})}g.configure=function(e){this.m=e};function Ck(e,t,n){return e.ia=!0,e.C=[],e.L=n,cx(e,t)}function lx(e,t,n){return e.C=n,e.L=0<n.length,cx(e,t)}function _k(e,t,n,o,u,l){var d=new Map;return u={audioCapabilities:u,videoCapabilities:l,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t},u.drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:o,serverCertificateUri:"",initData:null,keyIds:null}],d.set(t,u),px(e,d,[])}function cx(e,t){var n,o,u,l,d,f,p,v,y,T,E,I,P,L;return F(function(M){if(M.g==1){if(n=Nk(e))for(o=x(t),u=o.next();!u.done;u=o.next())l=u.value,l.video&&(l.video.drmInfos=[n]),l.audio&&(l.audio.drmInfos=[n]);for(d=t.some(function(N){return!!(N.video&&N.video.drmInfos.length||N.audio&&N.audio.drmInfos.length)}),d||(f=Uu(e.m.servers),jk(t,f)),p=x(t),u=p.next();!u.done;u=p.next())for(v=u.value,y=yx(v),T=x(y),E=T.next();!E.done;E=T.next())I=E.value,Bk(I,Uu(e.m.servers),Uu(e.m.advanced||{}));return C(M,D1(t,e.L,e.S),2)}return P=d||Object.keys(e.m.servers).length,P?(L=px(e,void 0,t),M.return(d?L:L.catch(function(){}))):(e.ea=!0,M.return(Promise.resolve()))})}g.Hc=function(e){var t=this,n,o;return F(function(u){if(u.g==1)return t.s?(t.g=e,t.h.Qa(t.g,"play",function(){for(var l=x(t.J),d=l.next();!d.done;d=l.next())ip(t,d.value);t.M=!0,t.J=[]}),"webkitCurrentPlaybackTargetIsWireless"in t.g&&t.h.o(t.g,"webkitcurrentplaybacktargetiswirelesschanged",function(){return vx(t)}),n=t.g.setMediaKeys(t.s),n=n.catch(function(l){return Promise.reject(new O(2,6,6003,l.message))}),C(u,n,2)):(t.h.Qa(e,"encrypted",function(){t.l(new O(2,6,6010))}),u.return());We(t.N),dx(t),t.i.initData.length||t.C.length||(o=function(l){return Wl(t,l.initDataType,Re(l.initData))},t.h.o(t.g,"encrypted",o)),Z(u)})};function np(e){var t,n,o,u,l;return F(function(d){switch(d.g){case 1:if(!e.s||!e.i)return d.return();if(!e.i.serverCertificateUri||e.i.serverCertificate&&e.i.serverCertificate.length){d.D(2);break}return t=si([e.i.serverCertificateUri],e.m.retryParameters),ae(d,3),n=e.F.Wb.request(5,t),C(d,n.promise,5);case 5:o=d.h,e.i.serverCertificate=Re(o.data),Ae(d,4);break;case 3:throw u=ge(d),new O(2,6,6017,u);case 4:if(e.N.g)return d.return();case 2:return!e.i.serverCertificate||!e.i.serverCertificate.length?d.return():(ae(d,6),C(d,e.s.setServerCertificate(e.i.serverCertificate),8));case 8:Ae(d,0);break;case 6:throw l=ge(d),new O(2,6,6004,l.message)}})}function kk(e,t){var n,o,u;return F(function(l){if(l.g==1)return C(l,gx(e,t),2);if(l.g!=3)return n=l.h,n?(o=[],(u=e.j.get(n))&&(u.jb=new Ke,o.push(u.jb)),o.push(n.remove()),C(l,Promise.all(o),3)):l.return();e.j.delete(n),Z(l)})}function dx(e){for(var t=(e.i?e.i.initData:[])||[],n=x(t),o=n.next();!o.done;o=n.next())o=o.value,Wl(e,o.initDataType,o.initData);for(n=x(e.C),o=n.next();!o.done;o=n.next())gx(e,o.value);return t.length||e.C.length||e.B.resolve(),e.B}function Wl(e,t,n){var o=e.j.values();o=x(o);for(var u=o.next();!u.done;u=o.next())if(Ai(n,u.value.initData)&&!Jt("Tizen 2"))return;Mk(e,t,n,e.i.sessionType)}function fx(e){return e?!!e.match(/^com\.(microsoft|chromecast)\.playready/):!1}function hx(e){return e=e.j.keys(),e=o1(e,function(t){return t.sessionId}),Array.from(e)}g.Lc=function(){var e=1/0,t=this.j.keys();t=x(t);for(var n=t.next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e},g.qd=function(){return tp(this.$)};function px(e,t,n){var o,u,l,d,f,p,v,y,T,E,I,P,L;return F(function(M){switch(M.g){case 1:if(o=new Map,n.length){u=Pk(e,n,o),M.D(2);break}return C(M,Lk(e,t),3);case 3:u=M.h;case 2:if(l=u,!l)throw new O(2,6,6001);for(We(e.N),ae(M,4),e.G.clear(),d=l.getConfiguration(),f=d.audioCapabilities||[],p=d.videoCapabilities||[],v=x(f),y=v.next();!y.done;y=v.next())T=y.value,e.G.add(T.contentType.toLowerCase());for(E=x(p),y=E.next();!y.done;y=E.next())I=y.value,e.G.add(I.contentType.toLowerCase());if(n.length){var N=l.keySystem,V=o.get(l.keySystem),z=[],j=[],H=[],q=[],Q=new Set;xx(V,z,H,j,q,Q);var te=e.L?"persistent-license":"temporary";for(N={keySystem:N,licenseServerUri:z[0],distinctiveIdentifierRequired:V[0].distinctiveIdentifierRequired,persistentStateRequired:V[0].persistentStateRequired,sessionType:V[0].sessionType||te,audioRobustness:V[0].audioRobustness||"",videoRobustness:V[0].videoRobustness||"",serverCertificate:H[0],serverCertificateUri:j[0],initData:q,keyIds:Q},V=x(V),z=V.next();!z.done;z=V.next())z=z.value,z.distinctiveIdentifierRequired&&(N.distinctiveIdentifierRequired=z.distinctiveIdentifierRequired),z.persistentStateRequired&&(N.persistentStateRequired=z.persistentStateRequired);V=N}else V=l.keySystem,N=t.get(l.keySystem),z=[],j=[],H=[],q=[],Q=new Set,xx(N.drmInfos,z,H,j,q,Q),V={keySystem:V,licenseServerUri:z[0],distinctiveIdentifierRequired:N.distinctiveIdentifier=="required",persistentStateRequired:N.persistentState=="required",sessionType:N.sessionTypes[0]||"temporary",audioRobustness:(N.audioCapabilities?N.audioCapabilities[0].robustness:"")||"",videoRobustness:(N.videoCapabilities?N.videoCapabilities[0].robustness:"")||"",serverCertificate:H[0],serverCertificateUri:j[0],initData:q,keyIds:Q};if(e.i=V,!e.i.licenseServerUri)throw new O(2,6,6012,e.i.keySystem);return C(M,l.createMediaKeys(),6);case 6:return P=M.h,We(e.N),e.s=P,e.ea=!0,C(M,np(e),7);case 7:We(e.N),Ae(M,0);break;case 4:throw L=ge(M),We(e.N,L),e.i=null,e.G.clear(),L instanceof O?L:new O(2,6,6002,L.message)}})}function Pk(e,t,n){for(var o=x(t),u=o.next();!u.done;u=o.next()){var l=x(yx(u.value));for(u=l.next();!u.done;u=l.next())u=u.value,n.has(u.keySystem)||n.set(u.keySystem,[]),n.get(u.keySystem).push(u)}if(n.size==1&&n.has(""))throw new O(2,6,6e3);for(o={},e=x(e.m.preferredKeySystems),u=e.next();!u.done;o={Pd:o.Pd},u=e.next())for(o.Pd=u.value,l=x(t),u=l.next();!u.done;u=l.next())if(u=u.value.decodingInfos.find(function(v){return function(y){return y.supported&&y.keySystemAccess!=null&&y.keySystemAccess.keySystem==v.Pd}}(o)))return u.keySystemAccess;for(e=x([!0,!1]),u=e.next();!u.done;u=e.next())for(o=u.value,l=x(t),u=l.next();!u.done;u=l.next()){var d=x(u.value.decodingInfos);for(u=d.next();!u.done;u=d.next()){var f=u.value;if(f.supported&&f.keySystemAccess){u=n.get(f.keySystemAccess.keySystem);var p=x(u);for(u=p.next();!u.done;u=p.next())if(!!u.value.licenseServerUri==o)return f.keySystemAccess}}}return null}function Lk(e,t){var n,o,u,l,d,f,p,v,y,T,E,I,P,L,M;return F(function(N){switch(N.g){case 1:if(t.size==1&&t.has(""))throw new O(2,6,6e3);for(o=x(t.values()),u=o.next();!u.done;u=o.next())l=u.value,l.audioCapabilities.length==0&&delete l.audioCapabilities,l.videoCapabilities.length==0&&delete l.videoCapabilities;d=x(e.m.preferredKeySystems),f=d.next();case 2:if(f.done){N.D(4);break}if(p=f.value,!t.has(p)){N.D(3);break}return v=t.get(p),ae(N,6),C(N,navigator.requestMediaKeySystemAccess(p,[v]),8);case 8:return n=N.h,N.return(n);case 6:ge(N);case 7:We(e.N);case 3:f=d.next(),N.D(2);break;case 4:y=x([!0,!1]),T=y.next();case 9:if(T.done){N.D(11);break}E=T.value,I=x(t.keys()),f=I.next();case 12:if(f.done){T=y.next(),N.D(9);break}if(P=f.value,L=t.get(P),M=L.drmInfos.some(function(V){return!!V.licenseServerUri}),M!=E){N.D(13);break}return ae(N,15),C(N,navigator.requestMediaKeySystemAccess(P,[L]),17);case 17:return n=N.h,N.return(n);case 15:ge(N);case 16:We(e.N);case 13:f=I.next(),N.D(12);break;case 11:return N.return(n)}})}function Nk(e){if(e=Uu(e.m.clearKeys),e.size==0)return null;var t=[],n=[];e.forEach(function(u,l){var d=Wh(l),f=Wh(u);d={kty:"oct",kid:is(d,!1),k:is(f,!1)},t.push(d),n.push(d.kid)}),e=JSON.stringify({keys:t});var o=JSON.stringify({kids:n});return o=[{initData:Re(ho(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+c.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(n)}}function gx(e,t){var n,o,u,l,d;return F(function(f){switch(f.g){case 1:try{n=e.s.createSession("persistent-license")}catch(p){return o=new O(2,6,6005,p.message),e.l(o),f.return(Promise.reject(o))}return e.h.o(n,"message",function(p){e.g&&e.m.delayLicenseRequestUntilPlayed&&e.g.paused&&!e.M?e.J.push(p):ip(e,p)}),e.h.o(n,"keystatuseschange",function(p){return mx(e,p)}),u={initData:null,loaded:!1,pe:1/0,jb:null,type:"persistent-license"},e.j.set(n,u),ae(f,2),C(f,n.load(t),4);case 4:return l=f.h,We(e.N),l?(u.loaded=!0,rp(e)&&e.B.resolve(),f.return(n)):(e.j.delete(n),e.l(new O(2,6,6013)),f.return(Promise.resolve()));case 2:d=ge(f),We(e.N,d),e.j.delete(n),e.l(new O(2,6,6005,d.message));case 3:return f.return(Promise.resolve())}})}function Mk(e,t,n,o){try{var u=e.s.createSession(o)}catch(l){e.l(new O(2,6,6005,l.message));return}e.h.o(u,"message",function(l){e.g&&e.m.delayLicenseRequestUntilPlayed&&e.g.paused&&!e.M?e.J.push(l):ip(e,l)}),e.h.o(u,"keystatuseschange",function(l){return mx(e,l)}),e.j.set(u,{initData:n,loaded:!1,pe:1/0,jb:null,type:o});try{n=e.m.initDataTransform(n,t,e.i)}catch(l){t=l,l instanceof O||(t=new O(2,6,6016,l)),e.l(t);return}e.m.logLicenseExchange&&is(n),u.generateRequest(t,n).catch(function(l){if(!e.N.g){e.j.delete(u);var d=l.errorCode;if(d&&d.systemCode){var f=d.systemCode;0>f&&(f+=Math.pow(2,32)),f="0x"+f.toString(16)}e.l(new O(2,6,6006,l.message,l,f))}})}function Rk(e,t,n){return t=="skd"&&(t=n.serverCertificate,n=ux(e),e=ax(e,n,t)),e}function ip(e,t){var n,o,u,l,d,f,p,v,y,T,E,I,P,L;F(function(M){switch(M.g){case 1:return n=t.target,e.m.logLicenseExchange&&is(t.message),o=e.j.get(n),u=e.i.licenseServerUri,l=e.m.advanced[e.i.keySystem],t.messageType=="individualization-request"&&l&&l.individualizationServer&&(u=l.individualizationServer),d=si([u],e.m.retryParameters),d.body=t.message,d.method="POST",d.licenseRequestType=t.messageType,d.sessionId=n.sessionId,fx(e.i.keySystem)&&bk(d),f=Date.now(),ae(M,2),v=e.F.Wb.request(2,d),C(M,v.promise,4);case 4:p=M.h,Ae(M,3);break;case 2:return y=ge(M),T=new O(2,6,6007,y),e.l(T),o&&o.jb&&o.jb.reject(T),M.return();case 3:return e.N.g?M.return():(e.I+=(Date.now()-f)/1e3,e.m.logLicenseExchange&&is(p.data),ae(M,5),C(M,n.update(p.data),7));case 7:Ae(M,6);break;case 5:return E=ge(M),I=new O(2,6,6008,E.message),e.l(I),o&&o.jb&&o.jb.reject(I),M.return();case 6:P=new oe("drmsessionupdate"),e.F.onEvent(P),o&&(o.jb&&o.jb.resolve(),L=new fe(function(){o.loaded=!0,rp(e)&&e.B.resolve()}),L.U(Vk)),Z(M)}})}function bk(e){var t=wr(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){t=new DOMParser().parseFromString(t,"application/xml");for(var n=x(t.getElementsByTagName("HttpHeader")),o=n.next();!o.done;o=n.next())o=o.value,e.headers[o.getElementsByTagName("name")[0].textContent]=o.getElementsByTagName("value")[0].textContent;e.body=Ar(t.getElementsByTagName("Challenge")[0].textContent)}else e.headers["Content-Type"]="text/xml; charset=utf-8"}function mx(e,t){var n=t.target,o=e.j.get(n),u=!1;n.keyStatuses.forEach(function(d,f){if(typeof f=="string"){var p=f;f=d,d=p}if(fx(e.i.keySystem)&&f.byteLength==16&&navigator.userAgent.match(/Edge?\//)){p=pn(f);var v=p.getUint32(0,!0),y=p.getUint16(4,!0),T=p.getUint16(6,!0);p.setUint32(0,v,!1),p.setUint16(4,y,!1),p.setUint16(6,T,!1)}d!="status-pending"&&(o.loaded=!0),d=="expired"&&(u=!0),p=ku(f),e.ka.set(p,d)});var l=n.expiration-Date.now();(0>l||u&&1e3>l)&&o&&!o.jb&&(e.j.delete(n),n.close().catch(function(){})),rp(e)&&(e.B.resolve(),e.P.U(Gk))}function Dk(e){var t=e.ka,n=e.$;n.clear(),t.forEach(function(o,u){return n.set(u,o)}),t=Array.from(n.values()),t.length&&t.every(function(o){return o=="expired"})&&e.l(new O(2,6,6014)),e.F.wd(tp(n))}function Ok(){var e,t,n,o,u,l,d,f;return F(function(p){return p.g==1?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.microsoft.playready.recommendation com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n={initDataTypes:["cenc"],videoCapabilities:t},o={videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},u=[o,n],l=new Map,d=function(v){var y,T,E;return F(function(I){switch(I.g){case 1:return ae(I,2),C(I,navigator.requestMediaKeySystemAccess(v,u),4);case 4:return y=I.h,E=(T=y.getConfiguration().sessionTypes)?T.includes("persistent-license"):!1,Jt("Tizen 3")&&(E=!1),l.set(v,{persistentState:E}),C(I,y.createMediaKeys(),5);case 5:Ae(I,0);break;case 2:ge(I),l.set(v,null),Z(I)}})},f=e.map(function(v){return d(v)}),C(p,Promise.all(f),2)):p.return(tp(l))})}function Uk(e){var t;return F(function(n){if(n.g==1)return t=new Promise(function(o,u){new fe(u).U(zk)}),ae(n,2),C(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4);if(n.g!=2)return Ae(n,0);ge(n),Z(n)})}function vx(e){var t;return F(function(n){return t=Array.from(e.j.entries()),e.j.clear(),C(n,Promise.all(t.map(function(o){o=x(o);var u=o.next().value,l=o.next().value;return F(function(d){if(d.g==1)return ae(d,2),e.ia||e.C.includes(u.sessionId)||l.type!=="persistent-license"?C(d,Uk(u),5):C(d,u.remove(),5);if(d.g!=2)return Ae(d,0);ge(d),Z(d)})})),0)})}function $l(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],o=x(e),u=o.next();!u.done;u=o.next()){u=u.value;for(var l={},d=x(t),f=d.next();!f.done;l={Za:l.Za},f=d.next())if(f=f.value,u.keySystem==f.keySystem){l.Za=[],l.Za=l.Za.concat(u.initData||[]),l.Za=l.Za.concat(f.initData||[]),l.Za=l.Za.filter(function(p){return function(v,y){return v.keyId===void 0||y===p.Za.findIndex(function(T){return T.keyId===v.keyId})}}(l)),d=u.keyIds&&f.keyIds?new Set([].concat(b(u.keyIds),b(f.keyIds))):u.keyIds||f.keyIds,n.push({keySystem:u.keySystem,licenseServerUri:u.licenseServerUri||f.licenseServerUri,distinctiveIdentifierRequired:u.distinctiveIdentifierRequired||f.distinctiveIdentifierRequired,persistentStateRequired:u.persistentStateRequired||f.persistentStateRequired,videoRobustness:u.videoRobustness||f.videoRobustness,audioRobustness:u.audioRobustness||f.audioRobustness,serverCertificate:u.serverCertificate||f.serverCertificate,serverCertificateUri:u.serverCertificateUri||f.serverCertificateUri,initData:l.Za,keyIds:d});break}}return n}function yx(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[])}function Fk(e){e.j.forEach(function(t,n){var o=t.pe,u=n.expiration;isNaN(u)&&(u=1/0),u!=o&&(e.F.onExpirationUpdated(n.sessionId,u),t.pe=u)})}function rp(e){return e=e.j.values(),b_(e,function(t){return t.loaded})}function jk(e,t){var n=[];t.forEach(function(l,d){n.push({keySystem:d,licenseServerUri:l,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})});for(var o=x(e),u=o.next();!u.done;u=o.next())u=u.value,u.video&&(u.video.drmInfos=n),u.audio&&(u.audio.drmInfos=n)}function xx(e,t,n,o,u,l){var d={};e=x(e);for(var f=e.next();!f.done;d={La:d.La},f=e.next()){if(d.La=f.value,t.includes(d.La.licenseServerUri)||t.push(d.La.licenseServerUri),o.includes(d.La.serverCertificateUri)||o.push(d.La.serverCertificateUri),d.La.serverCertificate&&(n.some(function(y){return function(T){return Ai(T,y.La.serverCertificate)}}(d))||n.push(d.La.serverCertificate)),d.La.initData){f={};for(var p=x(d.La.initData),v=p.next();!v.done;f={dd:f.dd},v=p.next())f.dd=v.value,u.some(function(y){return function(T){var E=y.dd;return T.keyId&&T.keyId==E.keyId?!0:T.initDataType==E.initDataType&&Ai(T.initData,E.initData)}}(f))||u.push(f.dd)}if(d.La.keyIds)for(f=x(d.La.keyIds),p=f.next();!p.done;p=f.next())l.add(p.value)}}function Bk(e,t,n){e.keySystem&&(e.keySystem!="org.w3.clearkey"||!e.licenseServerUri)&&(t.size&&(t=t.get(e.keySystem)||"",e.licenseServerUri=t),e.keyIds||(e.keyIds=new Set),(n=n.get(e.keySystem))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=n.persistentStateRequired),e.videoRobustness||(e.videoRobustness=n.videoRobustness),e.audioRobustness||(e.audioRobustness=n.audioRobustness),e.serverCertificate||(e.serverCertificate=n.serverCertificate),n.sessionType&&(e.sessionType=n.sessionType),e.serverCertificateUri||(e.serverCertificateUri=n.serverCertificateUri)),c.cast&&c.cast.__platform__&&e.keySystem=="com.microsoft.playready"&&(e.keySystem="com.chromecast.playready"))}var zk=1,Vk=5,Gk=.5,hs=new _u(function(){return Ii(new Uint8Array([0]))});function ql(){}function Sx(e,t,n,o){var u,l,d,f;return F(function(p){if(p.g==1)return o&&(u=Kn[o.toLowerCase()])?p.return(u):(l=yo(e))&&(d=xo[l])?p.return(d):o?p.D(2):C(p,Tx(e,t,n),3);if(p.g!=2&&(o=p.h)&&(f=Kn[o]))return p.return(f);throw new O(2,4,4e3,e)})}function Tx(e,t,n){var o,u,l;return F(function(d){return d.g==1?(o=si([e],n),o.method="HEAD",C(d,t.request(0,o).promise,2)):(u=d.h,l=u.headers["content-type"],d.return(l?l.toLowerCase().split(";").shift():""))})}function yo(e){return e=new Vn(e).Sa.split("/").pop().split("."),e.length==1?"":e.pop().toLowerCase()}Y("shaka.media.ManifestParser",ql),ql.unregisterParserByMime=function(e){delete Kn[e]},ql.registerParserByMime=function(e,t){Kn[e]=t},ql.registerParserByExtension=function(e,t){xo[e]=t};var Kn={},xo={};function be(e,t){this.X=pn(e),this.h=t==Ex,this.g=0}g=be.prototype,g.Ia=function(){return this.g<this.X.byteLength},g.qa=function(){return this.g},g.og=function(){return this.X.byteLength},g.ra=function(){try{var e=this.X.getUint8(this.g);return this.g+=1,e}catch{throw Wi()}},g.wc=function(){try{var e=this.X.getUint16(this.g,this.h);return this.g+=2,e}catch{throw Wi()}},g.T=function(){try{var e=this.X.getUint32(this.g,this.h);return this.g+=4,e}catch{throw Wi()}},g.wf=function(){try{var e=this.X.getInt32(this.g,this.h);return this.g+=4,e}catch{throw Wi()}},g.xc=function(){try{if(this.h)var e=this.X.getUint32(this.g,!0),t=this.X.getUint32(this.g+4,!0);else t=this.X.getUint32(this.g,!1),e=this.X.getUint32(this.g+4,!1)}catch{throw Wi()}if(2097151<t)throw new O(2,3,3001);return this.g+=8,t*Math.pow(2,32)+e},g.Lb=function(e){if(this.g+e>this.X.byteLength)throw Wi();var t=Re(this.X,this.g,e);return this.g+=e,t},g.skip=function(e){if(this.g+e>this.X.byteLength)throw Wi();this.g+=e},g.yf=function(e){if(this.g<e)throw Wi();this.g-=e},g.seek=function(e){if(0>e||e>this.X.byteLength)throw Wi();this.g=e},g.Wc=function(){for(var e=this.g;this.Ia()&&this.X.getUint8(this.g)!=0;)this.g+=1;return e=Re(this.X,e,this.g-e),this.g+=1,Gt(e)};function Wi(){return new O(2,3,3e3)}Y("shaka.util.DataViewReader",be),be.prototype.readTerminatedString=be.prototype.Wc,be.prototype.seek=be.prototype.seek,be.prototype.rewind=be.prototype.yf,be.prototype.skip=be.prototype.skip,be.prototype.readBytes=be.prototype.Lb,be.prototype.readUint64=be.prototype.xc,be.prototype.readInt32=be.prototype.wf,be.prototype.readUint32=be.prototype.T,be.prototype.readUint16=be.prototype.wc,be.prototype.readUint8=be.prototype.ra,be.prototype.getLength=be.prototype.og,be.prototype.getPosition=be.prototype.qa,be.prototype.hasMoreData=be.prototype.Ia;var Ex=1;be.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Ex};function Ve(){this.i=[],this.h=[],this.g=!1}g=Ve.prototype,g.box=function(e,t){var n=wx(e);return this.i[n]=Hk,this.h[n]=t,this},g.Z=function(e,t){var n=wx(e);return this.i[n]=Ix,this.h[n]=t,this},g.stop=function(){this.g=!0},g.parse=function(e,t,n){for(e=new be(e,0),this.g=!1;e.Ia()&&!this.g;)this.yd(0,e,t,n)},g.yd=function(e,t,n,o){var u=t.qa();if(o&&u+8>t.X.byteLength)this.g=!0;else{var l=t.T(),d=t.T(),f=!1;switch(l){case 0:l=t.X.byteLength-u;break;case 1:if(o&&t.qa()+8>t.X.byteLength){this.g=!0;return}l=t.xc(),f=!0}var p=this.h[d];if(p){var v=null,y=null;if(this.i[d]==Ix){if(o&&t.qa()+4>t.X.byteLength){this.g=!0;return}y=t.T(),v=y>>>24,y&=16777215}d=u+l,n&&d>t.X.byteLength&&(d=t.X.byteLength),o&&d>t.X.byteLength?this.g=!0:(o=d-t.qa(),t=0<o?t.Lb(o):new Uint8Array(0),t=new be(t,0),p({parser:this,partialOkay:n||!1,version:v,flags:y,reader:t,size:l,start:u+e,has64BitSize:f}))}else t.skip(Math.min(u+l-t.qa(),t.X.byteLength-t.qa()))}};function nt(e){for(var t=Yl(e);e.reader.Ia()&&!e.parser.g;)e.parser.yd(e.start+t,e.reader,e.partialOkay)}function Xl(e){var t=Yl(e),n=e.reader.T();n=x(zn(n));for(var o=n.next();!o.done&&(e.parser.yd(e.start+t,e.reader,e.partialOkay),!e.parser.g);o=n.next());}function ps(e){return function(t){e(t.reader.Lb(t.reader.X.byteLength-t.reader.qa()))}}function wx(e){var t=0;e=x(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Ax(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function Yl(e){return 8+(e.has64BitSize?8:0)+(e.flags!=null?4:0)}Y("shaka.util.Mp4Parser",Ve),Ve.headerSize=Yl,Ve.typeToString=Ax,Ve.allData=ps,Ve.sampleDescription=Xl,Ve.children=nt,Ve.prototype.parseNext=Ve.prototype.yd,Ve.prototype.parse=Ve.prototype.parse,Ve.prototype.stop=Ve.prototype.stop,Ve.prototype.fullBox=Ve.prototype.Z,Ve.prototype.box=Ve.prototype.box;var Hk=0,Ix=1;function Kk(e){function t(){o=!0}function n(v){l.push(v),nt(v)}e=Re(e);var o=!1,u,l=[],d=[];if(new Ve().box("moov",n).box("trak",n).box("mdia",n).box("minf",n).box("stbl",n).Z("stsd",function(v){u=v,l.push(v),Xl(v)}).Z("encv",t).Z("enca",t).Z("avc1",function(v){d.push({box:v,Sc:1701733238})}).Z("avc3",function(v){d.push({box:v,Sc:1701733238})}).Z("ac-3",function(v){d.push({box:v,Sc:1701733217})}).Z("ec-3",function(v){d.push({box:v,Sc:1701733217})}).Z("mp4a",function(v){d.push({box:v,Sc:1701733217})}).parse(e),o)return e;if(d.length==0||!u)throw ku(e),new O(2,3,3019);d.reverse();for(var f=x(d),p=f.next();!p.done;p=f.next())p=p.value,e=Wk(e,u,p.box,l,p.Sc);return e}function Wk(e,t,n,o,u){var l=$k.value(),d=e.subarray(n.start,n.start+n.size),f=pn(d),p=new Uint8Array(n.size+l.byteLength);for(p.set(d,0),d=pn(p),d.setUint32(4,u),p.set(l,n.size),u=f.getUint32(4),d.setUint32(n.size+16,u),Cx(p,0,p.byteLength),u=new Uint8Array(e.byteLength+p.byteLength),n=Jt("Xbox One")?n.start:n.start+n.size,l=e.subarray(n),u.set(e.subarray(0,n)),u.set(p,n),u.set(l,n+p.byteLength),e=x(o),o=e.next();!o.done;o=e.next())o=o.value,Cx(u,o.start,o.size+p.byteLength);return p=pn(u,t.start),t=Yl(t),e=p.getUint32(t),p.setUint32(t,e+1),u}function Cx(e,t,n){e=pn(e,t),t=e.getUint32(0),t!=0&&(t==1?(e.setUint32(8,n>>32),e.setUint32(12,n&4294967295)):e.setUint32(0,n))}var $k=new _u(function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])});function _x(e,t,n,o,u){if(o>=u)return null;for(var l=-1,d=-1,f=0;f<n.length;f++)if(n[f].some(function(j){return j!=null&&j.g.trim()!=""})){l=f;break}for(f=n.length-1;0<=f;f--)if(n[f].some(function(j){return j!=null&&j.g.trim()!=""})){d=f;break}if(l===-1||d===-1)return null;for(var p=f=!1,v="white",y="black",T=op(o,u,f,p,v,y);l<=d;l++){for(var E=n[l],I=-1,P=-1,L=0;L<E.length;L++)if(E[L]!=null&&E[L].g.trim()!==""){I=L;break}for(L=E.length-1;0<=L;L--)if(E[L]!=null&&E[L].g.trim()!==""){P=L;break}if(I===-1||P===-1)E=kx(o,u),e.nestedCues.push(E);else{for(;I<=P;I++)if(L=E[I]){var M=L.l,N=L.i,V=L.j,z=L.h;(M!=f||N!=p||V!=v||z!=y)&&(T.payload&&e.nestedCues.push(T),T=op(o,u,M,N,V,z),f=M,p=N,v=V,y=z),T.payload+=L.g}else T.payload+=" ";T.payload&&e.nestedCues.push(T),l!==d&&(T=kx(o,u),e.nestedCues.push(T)),T=op(o,u,f,p,v,y)}}return e.nestedCues.length?{cue:e,stream:t}:null}function op(e,t,n,o,u,l){return e=new Ge(e,t,""),n&&e.textDecoration.push("underline"),o&&(e.fontStyle="italic"),e.color=u,e.backgroundColor=l,e}function kx(e,t){var n=new Ge(e,t,"");return n.lineBreak=!0,n}function Px(e,t,n,o,u){this.g=e,this.l=t,this.i=n,this.h=o,this.j=u}function sp(e,t){this.i=[],this.g=1,this.h=0,this.G=e,this.C=t,this.j=this.s=!1,this.l="white",this.B="black",Fu(this)}function Ql(e,t,n){return _x(new Ge(t,n,""),"CC"+(e.G<<1|e.C+1),e.i,t,n)}function Fu(e){$i(e,0,15),e.g=1}function gs(e,t,n){if(!(32>n||127<n)){var o="";switch(t){case ju:o=bx.has(n)?bx.get(n):String.fromCharCode(n);break;case Nx:o=qk.get(n);break;case Mx:e.i[e.g].pop(),o=Xk.get(n);break;case Rx:e.i[e.g].pop(),o=Yk.get(n)}o&&e.i[e.g].push(new Px(o,e.s,e.j,e.B,e.l))}}function Lx(e,t,n,o){if(t>=n)for(--o;0<=o;o--)e.i[t+o]=e.i[n+o].map(function(l){return l});else for(var u=0;u<o;u++)e.i[t+u]=e.i[n+u].map(function(l){return l})}function $i(e,t,n){for(var o=0;o<=n;o++)e.i[t+o]=[]}var ju=0,Nx=1,Mx=2,Rx=3,bx=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),qk=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57,"⠀"],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),Xk=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),Yk=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]);function Jl(e,t){this.h=Qk,this.B=new sp(e,t),this.i=new sp(e,t),this.l=new sp(e,t),this.g=this.i,this.j=0,this.s=null}function up(e,t,n){e.g=e.i;var o=e.g,u=null;return e.h!==Zl&&e.h!==Bu&&(u=Ql(o,e.j,n),n=e.i,n.g=0<n.h?n.h:0,$i(n,0,15),n=e.l,n.g=0<n.h?n.h:0,$i(n,0,15),o.g=15),e.h=Zl,o.h=t,u}function Dx(e){e.h=Jk,e.g=e.l,e.g.h=0}function Ox(e){oo("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),e.g=e.B,e.h=Bu}var Qk=0,Jk=1,Zl=3,Bu=4,Zk="black green blue cyan red yellow magenta black".split(" "),Ux="white green blue cyan red yellow magenta white_italics".split(" ");function Fx(){this.l=!1,this.I=this.L=0,this.J=nP,this.i=[],this.g=this.h=this.j=0,this.G=this.B=!1,this.C="white",this.s="black",ap(this)}function ap(e){e.i=[];for(var t=0;15>t;t++)e.i.push(lp())}function lp(){for(var e=[],t=0;42>t;t++)e.push(null);return e}function So(e,t){jx(e)&&(e.i[e.h][e.g]=new Px(t,e.G,e.B,e.s,e.C),e.g++)}function jx(e){var t=e.g<e.I&&0<=e.g;return e.h<e.L&&0<=e.h&&t}Fx.prototype.isVisible=function(){return this.l};function To(e,t,n){var o=new Ge(e.j,t,"");return o.textAlign=e.J===eP?"left":e.J===tP?"right":Tr,(n=_x(o,"svc"+n,e.i,e.j,t))&&(e.j=t),n}var eP=0,tP=1,nP=2;function iP(){this.i=[],this.h=null,this.g=0}function rP(e,t){t.type===3?(e.g=2*(t.value&63)-1,e.h=[]):e.h&&(0<e.g&&(e.h.push(t),e.g--),e.g===0&&(e.i.push(new ec(e.h)),e.h=null,e.g=0))}function ec(e){this.g=0,this.h=e}ec.prototype.Ia=function(){return this.g<this.h.length},ec.prototype.qa=function(){return this.g};function Et(e){if(!e.Ia())throw new O(2,2,3e3);return e.h[e.g++]}ec.prototype.skip=function(e){if(this.g+e>this.h.length)throw new O(2,2,3e3);this.g+=e};function oP(e){this.i=e,this.h=[null,null,null,null,null,null,null,null],this.g=null}function sP(e,t,n,o){if(128<=n&&135>=n)o=n&7,e.h[o]&&(e.g=e.h[o]);else{if(n===136){n=Et(t).value,t=null,n=x(zu(e,n));for(var u=n.next();!u.done;u=n.next())u=e.h[u.value],u.isVisible()&&(t=To(u,o,e.i)),ap(u);return t}if(n===137)for(t=Et(t).value,t=x(zu(e,t)),n=t.next();!n.done;n=t.next())n=e.h[n.value],n.isVisible()||(n.j=o),n.l=!0;else{if(n===138){for(n=Et(t).value,t=null,n=x(zu(e,n)),u=n.next();!u.done;u=n.next())u=e.h[u.value],u.isVisible()&&(t=To(u,o,e.i)),u.l=!1;return t}if(n===139){for(n=Et(t).value,t=null,n=x(zu(e,n)),u=n.next();!u.done;u=n.next())u=e.h[u.value],u.isVisible()?t=To(u,o,e.i):u.j=o,u.l=!u.l;return t}if(n===140)return t=Et(t).value,Bx(e,t,o);if(n===143)return o=Bx(e,255,o),zx(e),o;if(n===144)t.skip(1),o=Et(t).value,e.g&&(e.g.B=0<(o&128),e.g.G=0<(o&64));else if(n===145)o=Et(t).value,n=Et(t).value,t.skip(1),e.g&&(t=Vx((n&48)>>4,(n&12)>>2,n&3),e.g.C=Vx((o&48)>>4,(o&12)>>2,o&3),e.g.s=t);else if(n===146)o=Et(t).value,t=Et(t).value,e.g&&(e=e.g,e.h=o&15,e.g=t&63);else if(n===151)t.skip(1),t.skip(1),o=Et(t).value,t.skip(1),e.g&&(e.g.J=o&3);else if(152<=n&&159>=n){if(n=(n&15)-8,u=e.h[n]!==null,!u){var l=new Fx;l.j=o,e.h[n]=l}o=Et(t).value,Et(t),Et(t),l=Et(t).value;var d=Et(t).value;t=Et(t).value,u&&!(t&7)||(t=e.h[n],t.h=0,t.g=0,t.G=!1,t.B=!1,t.C="white",t.s="black"),t=e.h[n],t.l=0<(o&32),t.L=(l&15)+1,t.I=(d&63)+1,e.g=e.h[n]}}}return null}var zu=function e(t,n){var o;return zi(e,function(u){return u.g==1&&(o=0),u.g!=5?8>o?(n&1)===1&&t.h[o]?C(u,o,5):u.D(5):u.D(0):(n>>=1,o++,u.D(2))})};function Bx(e,t,n){var o=null;t=x(zu(e,t));for(var u=t.next();!u.done;u=t.next()){u=u.value;var l=e.h[u];l.isVisible()&&(o=To(l,n,e.i)),e.h[u]=null}return o}function zx(e){e.g=null,e.h=[null,null,null,null,null,null,null,null]}function Vx(e,t,n){var o={0:0,1:0,2:1,3:1};return e=o[e],t=o[t],n=o[n],uP[e<<2|t<<1|n]}var Gx=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),uP="black blue green cyan red magenta yellow white".split(" ");function aP(){this.h=[],this.g=[],this.i=new iP,this.l=0,this.C=new Map([["CC1",new Jl(0,0)],["CC2",new Jl(0,1)],["CC3",new Jl(1,0)],["CC4",new Jl(1,1)]]),this.B=this.s=0,this.j=new Map,cp(this)}function cp(e){e.s=0,e.B=0,e=x(e.C.values());for(var t=e.next();!t.done;t=e.next())t=t.value,t.h=2,t.g=t.i,t.s=null,Fu(t.i),Fu(t.l),Fu(t.B)}function lP(e){function t(l,d){return l.pts-d.pts||l.order-d.order}var n=[];e.h.sort(t),e.g.sort(t);for(var o=x(e.h),u=o.next();!u.done;u=o.next())(u=cP(e,u.value))&&n.push(u);for(o=x(e.g),u=o.next();!u.done;u=o.next())rP(e.i,u.value);for(o=x(e.i.i),u=o.next();!u.done;u=o.next())u=dP(e,u.value),n.push.apply(n,b(u));return e.i.i=[],e.h=[],e.g=[],n}function cP(e,t){var n=t.type;if((t.Wa&112)===16){var o=t.Wa>>3&1;n===0?e.s=o:e.B=o}if(n=e.C.get("CC"+(n<<1|(n?e.B:e.s)+1)),t.Wa===255&&t.rb===255||!t.Wa&&!t.rb||!Hx(t.Wa)||!Hx(t.rb))return 45<=++e.l&&cp(e),null;if(e.l=0,t.Wa&=127,t.rb&=127,!t.Wa&&!t.rb)return null;if(o=null,(t.Wa&112)===16)e:{var u=t.Wa;if(o=t.rb,n.s===(u<<8|o))n.s=null;else if(n.s=u<<8|o,(u&240)===16&&(o&192)===64){u=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(u&7)<<1|o>>5&1];var l=(o&30)>>1,d="white",f=!1;if(7>l?d=Ux[l]:l===7&&(f=!0),o=(o&1)===1,n.h!==Bu){if(l=n.g,n.h===Zl&&u!==l.g){var p=1+u-l.h;Lx(l,p,1+l.g-l.h,l.h),$i(l,0,p-1),$i(l,u+1,15-u)}l.g=u,n.g.s=o,n.g.j=f,n.g.l=d,n.g.B="black"}}else if((u&247)===17&&(o&240)===32)n.g.s=!1,n.g.j=!1,n.g.l="white",gs(n.g,ju,32),d=!1,u=Ux[(o&14)>>1],u==="white_italics"&&(u="white",d=!0),n.g.s=(o&1)===1,n.g.j=d,n.g.l=u;else if((u&247)===16&&(o&240)===32||(u&247)===23&&(o&255)===45)d="black",!(u&7)&&(d=Zk[(o&14)>>1]),n.g.B=d;else if((u&247)===17&&(o&240)===48)gs(n.g,Nx,o);else if((u&246)===18&&(o&224)===32)gs(n.g,u&1?Rx:Mx,o);else if((u&246)===20&&(o&240)===32){switch(o=t.pts,u=null,t.rb){case 32:Dx(n);break;case 33:n=n.g,n.i[n.g].pop();break;case 37:u=up(n,2,o);break;case 38:u=up(n,3,o);break;case 39:u=up(n,4,o);break;case 40:gs(n.g,ju,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.j=o;break;case 42:Fu(n.B),Ox(n);break;case 43:Ox(n);break;case 44:u=n.i,d=null,n.h!==Bu&&(d=Ql(u,n.j,o)),$i(u,0,15),u=d;break;case 45:u=n.g,n.h!==Zl?u=null:(d=Ql(u,n.j,o),f=u.g-u.h+1,Lx(u,f-1,f,u.h),$i(u,0,f-1),$i(u,u.g,15-u.g),n.j=o,u=d);break;case 46:$i(n.l,0,15);break;case 47:u=null,n.h!==Bu&&(u=Ql(n.i,n.j,o)),d=n.l,n.l=n.i,n.i=d,Dx(n),n.j=o}o=u;break e}o=null}else u=t.rb,gs(n.g,ju,t.Wa),gs(n.g,ju,u);return o}function dP(e,t){var n=[];try{for(;t.Ia();){var o=Et(t).value,u=(o&224)>>5,l=o&31;if(u===7&&l!=0&&(u=Et(t).value&63),u!=0){e.j.has(u)||e.j.set(u,new oP(u));for(var d=e.j.get(u),f=t.qa();t.qa()-f<l;){u=t;var p=Et(u),v=p.value,y=p.pts;if(v===16){var T=Et(u);v=v<<16|T.value}if(0<=v&&31>=v){var E=y;if(d.g){var I=d.g;switch(u=null,v){case 8:!jx(I)||0>=I.g&&0>=I.h||(0>=I.g?(I.g=I.I-1,I.h--):I.g--,I.i[I.h][I.g]=null);break;case 13:if(I.isVisible()&&(u=To(I,E,d.i)),I.h+1>=I.L){E=I;for(var P=0,L=1;15>L;L++,P++)E.i[P]=E.i[L];for(L=0;1>L;L++,P++)E.i[P]=lp()}else I.h++;I.g=0;break;case 14:I.isVisible()&&(u=To(I,E,d.i)),I.i[I.h]=lp(),I.g=0;break;case 12:I.isVisible()&&(u=To(I,E,d.i)),ap(I),E=I,E.h=0,E.g=0}var M=u}else M=null}else if(128<=v&&159>=v)M=sP(d,u,v,y);else{if(4096<=v&&4127>=v)E=v&255,8<=E&&15>=E?u.skip(1):16<=E&&23>=E?u.skip(2):24<=E&&31>=E&&u.skip(3);else if(4224<=v&&4255>=v)E=v&255,128<=E&&135>=E?u.skip(4):136<=E&&143>=E&&u.skip(5);else if(32<=v&&127>=v)u=v,d.g&&(u===127?So(d.g,"♪"):So(d.g,String.fromCharCode(u)));else if(160<=v&&255>=v)d.g&&So(d.g,String.fromCharCode(v));else if(4128<=v&&4223>=v){if(u=v&255,d.g)if(Gx.has(u)){var N=Gx.get(u);So(d.g,N)}else So(d.g,"_")}else 4256<=v&&4351>=v&&d.g&&((v&255)!=160?So(d.g,"_"):So(d.g,"[CC]"));M=null}(u=M)&&n.push(u)}}}}catch(V){if(V instanceof O&&V.code===3e3)oo("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.");else throw V}return n}function Hx(e){for(var t=0;e;)t^=e&1,e>>=1;return t===1}function fP(){}var hP=function e(t,n){var o,u,l,d;return zi(e,function(f){if(f.g==1){for(var p=n,v=0,y=0;y<p.length;)v==2&&p[y]==3?(v=0,p=[].concat(b(p)),p.splice(y,1),p=new Uint8Array(p)):p[y]==0?v++:v=0,y++;o=p,u=0}if(f.g!=4){if(!(u<o.length))return f.D(0);for(l=0;o[u]==255;)l+=255,u++;for(l+=o[u++],d=0;o[u]==255;)d+=255,u++;return d+=o[u++],l!=4?f.D(4):C(f,o.subarray(u,u+d),4)}return u+=d,f.D(2)})};function Kx(e,t){var n=null,o=null,u=e.T();return t&1&&e.skip(8),t&2&&e.skip(4),t&8&&(n=e.T()),t&16&&(o=e.T()),{trackId:u,cf:n,Yf:o}}function dp(e,t){return{Xd:t==1?e.xc():e.T()}}function fp(e,t){return t==1?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4)),{timescale:e.T()}}function Wx(e,t,n){var o=e.T(),u=[];n&1&&e.skip(4),n&4&&e.skip(4);for(var l=x(zn(o)),d=l.next();!d.done;d=l.next())d={ye:null,sampleSize:null,Cd:null},n&256&&(d.ye=e.T()),n&512&&(d.sampleSize=e.T()),n&1024&&e.skip(4),n&2048&&(d.Cd=t==0?e.T():e.wf()),u.push(d);return{Vi:o,zf:u}}function hp(){this.j=new fP,this.i=new Map,this.h=this.g=0}hp.prototype.init=function(e){var t=this,n=[],o=[];if(new Ve().box("moov",nt).box("mvex",nt).Z("trex",function(u){var l=u.reader;l.skip(4),l.skip(4),u=l.T(),l=l.T(),t.g=u,t.h=l}).box("trak",nt).Z("tkhd",function(u){var l=u.reader;u.version==1?(l.skip(8),l.skip(8)):(l.skip(4),l.skip(4)),u=l.T(),n.push(u)}).box("mdia",nt).Z("mdhd",function(u){u=fp(u.reader,u.version),o.push(u.timescale)}).parse(e,!0),!n.length||!o.length||n.length!=o.length)throw new O(2,2,2010);n.forEach(function(u,l){t.i.set(u,o[l])})},hp.prototype.parse=function(e){var t=this,n=[],o=this.g,u=this.h,l=[],d=null,f=9e4;return new Ve().box("moof",nt).box("traf",nt).Z("trun",function(p){l=Wx(p.reader,p.version,p.flags).zf}).Z("tfhd",function(p){p=Kx(p.reader,p.flags),o=p.cf||t.g,u=p.Yf||t.h,p=p.trackId,t.i.has(p)&&(f=t.i.get(p))}).Z("tfdt",function(p){d=dp(p.reader,p.version).Xd}).box("mdat",function(p){if(d===null)throw new O(2,2,2010);p=p.reader;var v=d,y=f,T=o,E=u,I=l,P=0,L=E;for(I.length&&(L=I[0].sampleSize||E);p.Ia();){var M=p.T();if((p.ra()&31)==6){var N=0;I.length>P&&(N=I[P].Cd||0),N=(v+N)/y;for(var V=x(hP(t.j,p.Lb(M-1))),z=V.next();!z.done;z=V.next())n.push({Wg:z.value,pts:N})}else p.skip(M-1);L-=M+4,L==0&&(v=I.length>P?v+(I[P].ye||T):v+T,P++,L=I.length>P&&I[P].sampleSize||E)}}).parse(e,!1),n};function $x(){this.h=new hp,this.g=new aP}$x.prototype.init=function(e){this.h.init(e)};function pP(e,t){var n=e.h.parse(t);n=x(n);for(var o=n.next();!o.done;o=n.next()){var u=o.value,l=Re(u.Wg);if(0<l.length&&(o=e.g,u=u.pts,l=new be(l,0),l.ra()===181&&l.wc()===49&&l.T()===1195456820&&l.ra()===3)){var d=l.ra();if(d&64){d&=31,l.skip(1);for(var f=0;f<d;f++){var p=l.ra(),v=(p&4)>>2,y=l.ra(),T=l.ra();v&&(p&=3,p===0||p===1?o.h.push({pts:u,type:p,Wa:y,rb:T,order:o.h.length}):(o.g.push({pts:u,type:p,value:y,order:o.g.length}),o.g.push({pts:u,type:2,value:T,order:o.g.length})))}}}}return lP(e.g)}function pp(e){return!e||e.length==1&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function gp(e,t,n){return n=n===void 0?0:n,!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1)?!1:t+n>=e.start(0)}function qx(e,t){if(!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,o=x(Ir(e)),u=o.next();!u.done;u=o.next()){var l=u.value;u=l.start,l=l.end,l>t&&(n+=l-Math.max(u,t))}return n}function gP(e,t,n){return!e||!e.length||e.length==1&&1e-6>e.end(0)-e.start(0)?null:(e=Ir(e).findIndex(function(o,u,l){return o.start>t&&(u==0||l[u-1].end-t<=n)}),0<=e?e:null)}function Ir(e){if(!e)return[];for(var t=[],n=x(zn(e.length)),o=n.next();!o.done;o=n.next())o=o.value,t.push({start:e.start(o),end:e.end(o)});return t}function Xx(e,t,n,o){var u=this;this.g=e,this.s=n,this.j={},this.L={},this.i=null,this.M=o||function(){},this.l={},this.h=new Ue,this.C={},this.G=t,this.I=new Ke,this.B=mP(this,this.I),this.N=new vo(function(){return vP(u)}),this.J=""}function mP(e,t){var n=new MediaSource;return e.h.Qa(n,"sourceopen",function(){URL.revokeObjectURL(e.J),t.resolve()}),e.J=yp(n),e.g.src=e.J,n}g=Xx.prototype,g.destroy=function(){return this.N.destroy()};function vP(e){var t,n,o,u,l,d,f,p;return F(function(v){if(v.g==1){t=[];for(n in e.l)for(o=e.l[n],u=o[0],e.l[n]=o.slice(0,1),u&&t.push(u.p.catch(H_)),l=x(o.slice(1)),d=l.next();!d.done;d=l.next())f=d.value,f.p.reject(new O(2,7,7003,void 0));e.i&&t.push(e.i.destroy()),e.s&&t.push(e.s.destroy());for(p in e.C)t.push(e.C[p].destroy());return C(v,Promise.all(t),2)}e.h&&(e.h.release(),e.h=null),e.g&&(e.g.removeAttribute("src"),e.g.load(),e.g=null),e.B=null,e.i=null,e.s=null,e.j={},e.C={},e.G=null,e.l={},Z(v)})}g.init=function(e,t){var n=this,o,u,l,d,f,p,v;return F(function(y){if(y.g==1)return o=Qt,C(y,n.I,2);for(u={},l=x(e.keys()),d=l.next();!d.done;u={Oa:u.Oa},d=l.next())u.Oa=d.value,f=e.get(u.Oa),p=_i(f.mimeType,f.codecs),u.Oa==o.ua?Vu(n,p):(!t&&MediaSource.isTypeSupported(p)||!I1(p,u.Oa)||(n.C[u.Oa]=new A1,p=Lu(u.Oa,p)),v=n.B.addSourceBuffer(p),n.h.o(v,"error",function(T){return function(){n.l[T.Oa][0].p.reject(new O(2,3,3014,n.g.error?n.g.error.code:0))}}(u)),n.h.o(v,"updateend",function(T){return function(){return Eo(n,T.Oa)}}(u)),n.j[u.Oa]=v,n.L[u.Oa]=p,n.l[u.Oa]=[]);Z(y)})};function Vu(e,t){e.i||(e.i=new Gi(e.s)),t!="application/cea-608"&&t!="application/cea-708"&&(e.i.C=uo(Mt[t]))}function Yx(e){return e.B?e.B.readyState=="ended":!0}function Qx(e,t){if(t==Be)var n=e.i.g;else n=ms(e,t),n=!n||n.length==1&&1e-6>n.end(0)-n.start(0)?null:n.length==1&&0>n.start(0)?0:n.length?n.start(0):null;return n}function tc(e,t){return t==Be?e.i.h:pp(ms(e,t))}function yP(e,t,n){return t==Be?(e=e.i,e.h==null||e.h<n?0:e.h-Math.max(n,e.g)):(e=ms(e,t),qx(e,n))}g.Ib=function(){var e={total:Ir(this.g.buffered),audio:Ir(ms(this,"audio")),video:Ir(ms(this,"video")),text:[]};if(this.i){var t=this.i.g,n=this.i.h;t!=null&&n!=null&&e.text.push({start:t,end:n})}return e};function ms(e,t){try{return e.j[t].buffered}catch{return null}}function Jx(e,t,n,o,u,l){var d,f,p,v,y,T,E,I;return F(function(P){return P.g==1?(d=Qt,t==d.ua?C(P,Y_(e.i,n,o,u),0):e.C[t]?C(P,q_(e.C[t],n),10):l?(e.i||Vu(e,"text/vtt"),o==null&&u==null?e.G.init(n):(f=pP(e.G,n),f.length&&(p=e.j[d.mb].timestampOffset,P1(e.i,f,o,u,p))),n=vp(e,n,o,t),C(P,qi(e,t,function(){e.j[t].appendBuffer(n)}),0)):(n=vp(e,n,o,t),C(P,qi(e,t,function(){e.j[t].appendBuffer(n)}),0))):(v=P.h,e.i||Vu(e,"text/vtt"),v.metadata&&(y=e.j[t].timestampOffset,e.M(v.metadata,y,u)),v.captions&&v.captions.length&&(T=e.j[d.mb].timestampOffset,E=J_(v.captions),P1(e.i,E,o,u,T)),I=v.data,I=vp(e,I,o,t),C(P,qi(e,t,function(){e.j[t].appendBuffer(I)}),0))})}function xP(e,t){var n=tc(e,"video")||0;_1(e.i,t,n)}function SP(e){e.i&&_1(e.i,"",0)}g.remove=function(e,t,n){var o=this,u;return F(function(l){return u=Qt,e==u.ua?C(l,o.i.remove(t,n),0):C(l,qi(o,e,function(){n<=t?Eo(o,e):o.j[e].remove(t,n)}),0)})};function Zx(e,t){var n;return F(function(o){return n=Qt,t==n.ua?e.i?C(o,e.i.remove(0,1/0),0):o.return():C(o,qi(e,t,function(){var u=e.B.duration;0>=u?Eo(e,t):e.j[t].remove(0,u)}),0)})}g.flush=function(e){var t=this,n;return F(function(o){return n=Qt,e==n.ua?o.return():C(o,qi(t,e,function(){t.g.currentTime-=.001,Eo(t,e)}),0)})};function TP(e,t,n,o,u){var l;return F(function(d){return l=Qt,t==l.ua?(e.i.G=n,Q_(e.i,o,u),d.return()):C(d,Promise.all([qi(e,t,function(){var f=e.j[t].appendWindowStart,p=e.j[t].appendWindowEnd;e.j[t].abort(),e.j[t].appendWindowStart=f,e.j[t].appendWindowEnd=p,Eo(e,t)}),qi(e,t,function(){var f=n;0>f&&(f+=.001),e.j[t].timestampOffset=f,Eo(e,t)}),qi(e,t,function(){e.j[t].appendWindowStart=0,e.j[t].appendWindowEnd=u,e.j[t].appendWindowStart=o,Eo(e,t)})]),0)})}g.endOfStream=function(e){var t=this;return F(function(n){return C(n,eS(t,function(){Yx(t)||(e?t.B.endOfStream(e):t.B.endOfStream())}),0)})},g.ib=function(e){var t=this;return F(function(n){return C(n,eS(t,function(){t.B.duration=e}),0)})},g.getDuration=function(){return this.B.duration};function Eo(e,t){var n=e.l[t][0];n&&(n.p.resolve(),mp(e,t))}function qi(e,t,n){return We(e.N),n={start:n,p:new Ke},e.l[t].push(n),e.l[t].length==1&&tS(e,t),n.p}function eS(e,t){var n,o,u,l,d,f;return F(function(p){switch(p.g){case 1:We(e.N),n=[],o={};for(u in e.j)o.Dc=new Ke,l={start:function(v){return function(){return v.Dc.resolve()}}(o),p:o.Dc},e.l[u].push(l),n.push(o.Dc),e.l[u].length==1&&l.start(),o={Dc:o.Dc};return ae(p,2),C(p,Promise.all(n),4);case 4:Ae(p,3);break;case 2:throw d=ge(p),d;case 3:try{t()}catch(v){throw new O(2,3,3015,v)}finally{for(f in e.j)mp(e,f)}Z(p)}})}function mp(e,t){e.l[t].shift(),tS(e,t)}function tS(e,t){var n=e.l[t][0];if(n)try{n.start()}catch(o){o.name=="QuotaExceededError"?n.p.reject(new O(2,3,3017,t)):n.p.reject(new O(2,3,3015,o)),mp(e,t)}}function vp(e,t,n,o){var u=e.g.mediaKeys;return n==null&&u&&(po()||Jt("Xbox One"))&&e.L[o].split(";")[0].split("/")[1]=="mp4"&&(t=Kk(t)),t}var yp=c.URL.createObjectURL;function gn(e,t,n,o){this.Ma=e,this.Ka=t,this.Da=n,this.ge=o===void 0?null:o}gn.prototype.Oc=function(){return this.Ka},gn.prototype.Kc=function(){return this.Da};function EP(e,t){return e&&t?e.Oc()==t.Oc()&&e.Kc()==t.Kc()&&Uh(e.Ma(),t.Ma()):e==t}Y("shaka.media.InitSegmentReference",gn),gn.prototype.getEndByte=gn.prototype.Kc,gn.prototype.getStartByte=gn.prototype.Oc;function tt(e,t,n,o,u,l,d,f,p,v,y,T){v=v===void 0?[]:v,this.startTime=e,this.l=this.endTime=t,this.j=n,this.Ka=o,this.Da=u,this.g=l,this.timestampOffset=d,this.appendWindowStart=f,this.appendWindowEnd=p,this.h=v,this.tilesLayout=y===void 0?"":y,this.i=T===void 0?null:T}g=tt.prototype,g.Ma=function(){return this.j()},g.Bg=function(){return this.startTime},g.mg=function(){return this.endTime},g.Oc=function(){return this.Ka},g.Kc=function(){return this.Da},g.Hg=function(){return this.tilesLayout},g.Gg=function(){return this.i},Y("shaka.media.SegmentReference",tt),tt.prototype.getTileDuration=tt.prototype.Gg,tt.prototype.getTilesLayout=tt.prototype.Hg,tt.prototype.getEndByte=tt.prototype.Kc,tt.prototype.getStartByte=tt.prototype.Oc,tt.prototype.getEndTime=tt.prototype.mg,tt.prototype.getStartTime=tt.prototype.Bg,tt.prototype.getUris=tt.prototype.Ma;function he(e,t,n){this.j=e,this.zd=t,this.s=this.l=1/0,this.g=1,this.h=this.i=null,this.B=0,this.C=!0,this.G=0,this.I=n===void 0?!0:n,this.J=0}g=he.prototype,g.getDuration=function(){return this.l},g.vg=function(){return this.g},g.ib=function(e){this.l=e},g.zg=function(){return this.j},g.Cf=function(e){this.B=e},g.Zc=function(e){this.C=e},g.Ie=function(e){this.s=e},g.nh=function(e){this.zd=e},g.lg=function(){return this.zd},g.tc=function(e){if(e.length!=0){var t=e[e.length-1].endTime;this.me(e[0].startTime),this.g=e.reduce(function(n,o){return Math.max(n,o.endTime-o.startTime)},this.g),this.h=Math.max(this.h,t),this.j!=null&&this.I&&(this.j=(Date.now()+this.B)/1e3-this.h-this.g)}},g.me=function(e){this.i=this.i==null?e:Math.min(this.i,e)},g.le=function(e){this.g=Math.max(this.g,e)},g.offset=function(e){this.i!=null&&(this.i+=e),this.h!=null&&(this.h+=e)},g.W=function(){return this.l==1/0&&!this.C},g.Tb=function(){return this.l!=1/0&&!this.C},g.ub=function(){return Math.max(this.G,this.Qb()-this.s)},g.Ff=function(e){this.G=e},g.Qb=function(){return this.W()||this.Tb()?Math.min(Math.max(0,(Date.now()+this.B)/1e3-this.g-this.j)+this.J,this.l):this.h||this.l},g.Nc=function(e){var t=Math.max(this.i,this.G);return this.s==1/0?Math.ceil(1e3*t)/1e3:Math.max(t,Math.min(this.Qb()-this.s+e,this.sb()))},g.mc=function(){return this.Nc(0)},g.sb=function(){return Math.max(0,this.Qb()-(this.W()||this.Tb()?this.zd:0))},g.Kf=function(){return!(this.j==null||this.h!=null&&this.I)},g.Bf=function(e){this.J=e},Y("shaka.media.PresentationTimeline",he),he.prototype.setAvailabilityTimeOffset=he.prototype.Bf,he.prototype.usingPresentationStartTime=he.prototype.Kf,he.prototype.getSeekRangeEnd=he.prototype.sb,he.prototype.getSeekRangeStart=he.prototype.mc,he.prototype.getSafeSeekRangeStart=he.prototype.Nc,he.prototype.getSegmentAvailabilityEnd=he.prototype.Qb,he.prototype.setUserSeekStart=he.prototype.Ff,he.prototype.getSegmentAvailabilityStart=he.prototype.ub,he.prototype.isInProgress=he.prototype.Tb,he.prototype.isLive=he.prototype.W,he.prototype.offset=he.prototype.offset,he.prototype.notifyMaxSegmentDuration=he.prototype.le,he.prototype.notifyMinSegmentStartTime=he.prototype.me,he.prototype.notifySegments=he.prototype.tc,he.prototype.getDelay=he.prototype.lg,he.prototype.setDelay=he.prototype.nh,he.prototype.setSegmentAvailabilityDuration=he.prototype.Ie,he.prototype.setStatic=he.prototype.Zc,he.prototype.setClockOffset=he.prototype.Cf,he.prototype.getPresentationStartTime=he.prototype.zg,he.prototype.setDuration=he.prototype.ib,he.prototype.getMaxSegmentDuration=he.prototype.vg,he.prototype.getDuration=he.prototype.getDuration;function nS(e,t){this.j=e,this.s=iS(e),this.g=e.g.currentTime,this.l=Date.now()/1e3,this.h=!1,this.B=t,this.i=function(){}}nS.prototype.release=function(){this.j=null,this.i=function(){}};function wP(e,t){e.i=t}function AP(e){this.g=e}function iS(e){if(e.g.paused||e.g.playbackRate==0||e.g.buffered.length==0)var t=!1;else e:{t=e.g.currentTime,e=x(Ir(e.g.buffered));for(var n=e.next();!n.done;n=e.next())if(n=n.value,!(t<n.start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function xp(e,t,n,o,u){var l=this;this.g=e,this.G=t,this.m=n,this.C=u,this.h=new Ue,this.B=!1,this.I=e.readyState,this.j=!1,this.i=o,this.s=!1,this.h.o(e,"waiting",function(){return Sp(l)}),this.l=new fe(function(){Sp(l)}).na(.25)}xp.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.l!=null&&(this.l.stop(),this.l=null),this.i&&(this.i.release(),this.i=null),this.g=this.G=this.C=null},xp.prototype.qe=function(){this.s=!0,Sp(this)};function Sp(e){if(e.g.readyState!=0){if(e.g.seeking){if(!e.B)return}else e.B=!1;if(!e.g.paused||e.g.currentTime==0&&(e.g.autoplay||e.g.currentTime!=0)){e.g.readyState!=e.I&&(e.j=!1,e.I=e.g.readyState);var t;if(!(t=!e.i)){t=e.i;var n=t.j,o=iS(n),u=n.g.currentTime,l=Date.now()/1e3;(t.g!=u||t.s!=o)&&(t.l=l,t.g=u,t.s=o,t.h=!1),u=l-t.l,(o=u>=t.B&&o&&!t.h)&&(t.i(t.g,u),t.h=!0,t.g=n.g.currentTime),t=!o}if(t){u=e.m.smallGapLimit;var d=e.g.currentTime;if(t=e.g.buffered,n=gP(t,d,e.m.gapDetectionThreshold),!(n==null||n==0&&!e.s||(o=t.start(n),o>=e.G.sb()))){var f=o-d;u=f<=u,l=!1,.001>f||(u||e.j||(e.j=!0,d=new Map().set("currentTime",d).set("gapSize",f),d=new oe("largegap",d),d.cancelable=!0,e.C(d),e.m.jumpLargeGaps&&!d.defaultPrevented&&(l=!0)),!u&&!l)||(n!=0&&t.end(n-1),e.g.currentTime=o)}}}}}function wo(e,t,n,o){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?o():(t=IP.value().get(t),n.Qa(e,t,o))}var IP=new _u(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])});function rS(e,t,n){var o=this;this.g=e,this.l=t,this.j=n,this.s=!1,this.h=new Ue,this.i=new aS(e),wo(this.g,HTMLMediaElement.HAVE_METADATA,this.h,function(){sS(o,o.j)})}rS.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i!=null&&(this.i.release(),this.i=null),this.l=function(){},this.g=null};function Tp(e){return e.s?e.g.currentTime:e.j}function oS(e,t){0<e.g.readyState?lS(e.i,t):wo(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){sS(e,e.j)})}function sS(e,t){.001>Math.abs(e.g.currentTime-t)?uS(e):(e.h.Qa(e.g,"seeking",function(){uS(e)}),lS(e.i,e.g.currentTime==0?t:e.g.currentTime))}function uS(e){e.s=!0,e.h.o(e.g,"seeking",function(){return e.l()})}function aS(e){var t=this;this.h=e,this.s=10,this.l=this.j=this.i=0,this.g=new fe(function(){0>=t.i||t.h.currentTime!=t.j?t.g.stop():(t.h.currentTime=t.l,t.i--)})}aS.prototype.release=function(){this.g&&(this.g.stop(),this.g=null),this.h=null};function lS(e,t){e.j=e.h.currentTime,e.l=t,e.i=e.s,e.h.currentTime=t,e.g.na(.1)}function Gu(e){function t(){n.i==null||n.i==0?n.j=!0:(n.h.Qa(n.g,"seeking",function(){n.j=!0}),n.g.currentTime=Math.max(0,n.g.currentTime+n.i))}var n=this;this.g=e,this.j=!1,this.i=null,this.h=new Ue,wo(this.g,HTMLMediaElement.HAVE_CURRENT_DATA,this.h,function(){t()})}Gu.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.g=null},Gu.prototype.s=function(e){this.i=this.j?this.i:e},Gu.prototype.l=function(){return(this.j?this.g.currentTime:this.i)||0},Gu.prototype.I=function(){};function Hu(e,t,n,o,u,l){var d=this;this.i=e,this.g=t.presentationTimeline,this.J=t.minBufferTime||0,this.m=n,this.G=u,this.C=null,this.j=new xp(e,t.presentationTimeline,n,_P(e,n),l),this.h=new rS(e,function(){e:{var f=d.j;f.B=!0,f.s=!1,f.j=!1;var p=Tp(d.h);if(f=dS(d,p),.001<Math.abs(f-p)&&(p=Date.now()/1e3,!d.C||d.C<p-1)){d.C=p,oS(d.h,f),f=void 0;break e}d.G(),f=void 0}return f},CP(this,o)),this.B=new fe(function(){if(d.i.readyState!=0&&!d.i.paused){var f=Tp(d.h),p=d.g.mc(),v=d.g.sb();3>v-p&&(p=v-3),f<p&&(f=dS(d,f),d.i.currentTime=f)}}).na(.25)}Hu.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.j&&(this.j.release(),this.j=null),this.B&&(this.B.stop(),this.B=null),this.i=this.h=this.g=this.m=null,this.G=function(){}},Hu.prototype.s=function(e){oS(this.h,e)},Hu.prototype.l=function(){var e=Tp(this.h);return 0<this.i.readyState&&!this.i.paused?fS(this,e):e};function CP(e,t){return t==null?t=1/0>e.g.getDuration()?e.g.mc():e.g.sb():0>t&&(t=e.g.sb()+t),cS(e,fS(e,t))}Hu.prototype.I=function(){this.j.qe()};function cS(e,t){var n=e.g.getDuration();return t>=n?n-e.m.durationBackoff:t}function dS(e,t){var n=Math.max(e.J,e.m.rebufferingGoal),o=e.m.safeSeekOffset,u=e.g.mc(),l=e.g.sb(),d=e.g.getDuration();3>l-u&&(u=l-3);var f=e.g.Nc(n),p=e.g.Nc(o);return n=e.g.Nc(n+o),t>=d?cS(e,t):t>l?l:t<u?gp(e.i.buffered,p)?p:n:t>=f||gp(e.i.buffered,t)?t:n}function fS(e,t){var n=e.g.mc();return t<n?n:(n=e.g.sb(),t>n?n:t)}function _P(e,t){if(!t.stallEnabled)return null;var n=t.stallSkip,o=new nS(new AP(e),t.stallThreshold);return wP(o,function(){n?e.currentTime+=n:(e.pause(),e.play())}),o}function Le(e){this.R=e,this.g=null,this.h=0,this.i=!1}g=Le.prototype,g.destroy=function(){return un("shaka.media.SegmentIndex","Please use release() instead of destroy()."),this.release(),Promise.resolve()},g.release=function(){this.i||(this.R=[],this.g&&this.g.stop(),this.g=null)},g.Qg=function(){this.i=!0},g.find=function(e){for(var t=this.R.length-1,n=t;0<=n;--n){var o=this.R[n],u=n<t?this.R[n+1].startTime:o.endTime;if(e>=o.startTime&&e<u)return n+this.h}return this.R.length&&e<this.R[0].startTime?this.h:null},g.get=function(e){return this.R.length==0?null:(e-=this.h,0>e||e>=this.R.length?null:this.R[e])},g.offset=function(e){if(!this.i)for(var t=x(this.R),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.timestampOffset+=e},g.rc=function(e){!this.i&&e.length&&(this.R=this.R.filter(function(t){return t.startTime<e[0].startTime}),this.R.push.apply(this.R,b(e)))},g.sc=function(e,t){var n=this;e=e.filter(function(o){return o.endTime>t&&(n.R.length==0||o.endTime>n.R[0].startTime)}),this.rc(e),this.Ob(t)},g.Ob=function(e){if(!this.i){var t=this.R.length;this.R=this.R.filter(function(n){return n.endTime>e}),this.h+=t-this.R.length}},g.Hb=function(e,t,n){if(n=n===void 0?!1:n,!this.i){for(;this.R.length&&this.R[this.R.length-1].startTime>=t;)this.R.pop();for(;this.R.length&&this.R[0].endTime<=e;)this.R.shift(),n||this.h++;this.R.length!=0&&(e=this.R[this.R.length-1],this.R[this.R.length-1]=new tt(e.startTime,t,e.j,e.Ka,e.Da,e.g,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,e.h,e.tilesLayout,e.i))}},g.Ed=function(e,t){var n=this;this.i||(this.g&&this.g.stop(),this.g=new fe(function(){var o=t();o?n.R.push.apply(n.R,b(o)):(n.g.stop(),n.g=null)}),this.g.na(e))},Le.prototype[Symbol.iterator]=function(){return this.kc(0)},Le.prototype.kc=function(e){var t=this.find(e);if(t==null)return null;t--;var n=this.get(t+1),o=-1;if(n&&0<n.h.length)for(var u=n.h.length-1;0<=u;--u){var l=n.h[u];if(e>=l.startTime&&e<l.endTime){t++,o=u-1;break}}return new ui(this,t,o)};function nc(e,t,n){return new Le([new tt(e,e+t,function(){return n},0,null,null,e,e,e+t)])}Y("shaka.media.SegmentIndex",Le),Le.forSingleSegment=nc,Le.prototype.getIteratorForTime=Le.prototype.kc,Le.prototype.updateEvery=Le.prototype.Ed,Le.prototype.fit=Le.prototype.Hb,Le.prototype.evict=Le.prototype.Ob,Le.prototype.mergeAndEvict=Le.prototype.sc,Le.prototype.merge=Le.prototype.rc,Le.prototype.offset=Le.prototype.offset,Le.prototype.get=Le.prototype.get,Le.prototype.find=Le.prototype.find,Le.prototype.markImmutable=Le.prototype.Qg,Le.prototype.release=Le.prototype.release,Le.prototype.destroy=Le.prototype.destroy;function ui(e,t,n){this.i=e,this.h=t,this.g=n}ui.prototype.seek=function(e){return un("shaka.media.SegmentIterator","Please use SegmentIndex.getIteratorForTime instead of seek()."),(e=this.i.kc(e))?(this.h=e.h,this.g=e.g):(this.h=Number.MAX_VALUE,this.g=0),this.next().value},ui.prototype.current=function(){var e=this.i.get(this.h);return e&&0<e.h.length&&e.Ma().length&&this.g>=e.h.length&&(this.h++,this.g=0,e=this.i.get(this.h)),e&&0<e.h.length?e.h[this.g]:e},ui.prototype.next=function(){var e=this.i.get(this.h);return e&&0<e.h.length?(this.g++,e.Ma().length&&this.g==e.h.length&&(this.h++,this.g=0)):(this.h++,this.g=0),e=this.current(),{value:e,done:!e}},Y("shaka.media.SegmentIterator",ui),ui.prototype.next=ui.prototype.next,ui.prototype.current=ui.prototype.current,ui.prototype.seek=ui.prototype.seek;function ut(){Le.call(this,[]),this.j=[]}K(ut,Le),g=ut.prototype,g.clone=function(){var e=new ut;return e.j=this.j.slice(),e},g.release=function(){for(var e=x(this.j),t=e.next();!t.done;t=e.next())t.value.release();this.j=[]},g.find=function(e){for(var t=0,n=x(this.j),o=n.next();!o.done;o=n.next()){o=o.value;var u=o.find(e);if(u!=null)return u+t;t+=o.h+o.R.length}return null},g.get=function(e){for(var t=0,n=x(this.j),o=n.next();!o.done;o=n.next()){o=o.value;var u=o.get(e-t);if(u)return u;t+=o.h+o.R.length}return null},g.offset=function(){},g.rc=function(){},g.Ob=function(){},g.sc=function(){},g.Hb=function(){},g.Ed=function(){},Y("shaka.media.MetaSegmentIndex",ut),ut.prototype.updateEvery=ut.prototype.Ed,ut.prototype.fit=ut.prototype.Hb,ut.prototype.mergeAndEvict=ut.prototype.sc,ut.prototype.evict=ut.prototype.Ob,ut.prototype.merge=ut.prototype.rc,ut.prototype.offset=ut.prototype.offset,ut.prototype.get=ut.prototype.get,ut.prototype.find=ut.prototype.find,ut.prototype.release=ut.prototype.release;function Ku(e){var t=this;this.g=e,this.j=!1,this.i=this.g.sd(),this.h=new fe(function(){t.g.uf(.25*t.i)})}Ku.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},Ku.prototype.set=function(e){this.i=e,hS(this)},Ku.prototype.pd=function(){return this.g.pd()};function hS(e){e.h.stop();var t=e.j?0:e.i;if(0<=t)try{e.g.sd()!=t&&e.g.Ge(t);return}catch{}e.h.na(.25),e.g.sd()!=0&&e.g.Ge(0)}function pS(e){var t=this;this.h=e,this.g=new Set,this.i=new fe(function(){gS(t,!1)}).na(.25)}pS.prototype.release=function(){this.i.stop();for(var e=x(this.g),t=e.next();!t.done;t=e.next())t.value.release();this.g.clear()};function gS(e,t){for(var n=x(e.g),o=n.next();!o.done;o=n.next())o.value.j(e.h.currentTime,t)}function ic(e){Se.call(this),this.g=new Map,this.h=e}K(ic,Se),ic.prototype.release=function(){this.g.clear(),Se.prototype.release.call(this)};function kP(e,t){var n=e.g.get(t);return n||(n={Vc:[],$e:null,contentType:t},e.g.set(t,n)),n}function PP(e,t,n){var o=kP(e,t.contentType);LP(e,o),e={ge:t,position:n},o=o.Vc,t=o.findIndex(function(u){return u.position>=n}),0<=t?o.splice(t,o[t].position==n?1:0,e):o.push(e)}ic.prototype.j=function(e){for(var t=x(this.g.values()),n=t.next();!n.done;n=t.next()){n=n.value;e:{for(var o=n.Vc,u=o.length-1;0<=u;u--){var l=o[u];if(l.position<=e){o=l.ge;break e}}o=null}if((u=o)&&(u=n.$e,u=!(u===o||u&&o&&u.bandwidth==o.bandwidth&&u.audioSamplingRate==o.audioSamplingRate&&u.codecs==o.codecs&&u.contentType==o.contentType&&u.frameRate==o.frameRate&&u.height==o.height&&u.mimeType==o.mimeType&&u.channelsCount==o.channelsCount&&u.pixelAspectRatio==o.pixelAspectRatio&&u.width==o.width)),u)e:{if(u=e,l=o.contentType,(l=this.h()[l])&&0<l.length){var d=l[l.length-1].end;if(u>=l[0].start&&u<d){u=!0;break e}}u=!1}u&&(n.$e=o,JSON.stringify(o),n=new oe("qualitychange",new Map([["quality",o],["position",e]])),this.dispatchEvent(n))}};function LP(e,t){var n=e.h()[t.contentType];if(n&&0<n.length){var o=n[0].start,u=n[n.length-1].end,l=t.Vc;t.Vc=l.filter(function(d,f){return!(d.position<=o&&f+1<l.length&&l[f+1].position<=o||d.position>=u)})}else t.Vc=[]}function Ep(e){Se.call(this);var t=this;this.g=new Set,this.i=e,this.h=new fe(function(){for(var n=t.i(),o=x(t.g),u=o.next();!u.done;u=o.next())u=u.value,u.endTime<n.start&&(t.g.delete(u),u=new oe("regionremove",new Map([["region",u]])),t.dispatchEvent(u))}).na(2)}K(Ep,Se),Ep.prototype.release=function(){this.g.clear(),this.h.stop(),Se.prototype.release.call(this)};function rc(e){Se.call(this);var t=this;this.i=e,this.g=new Map,this.l=[{cc:null,bc:vs,Sb:function(n,o){return Ao(t,"enter",n,o)}},{cc:Wu,bc:vs,Sb:function(n,o){return Ao(t,"enter",n,o)}},{cc:$u,bc:vs,Sb:function(n,o){return Ao(t,"enter",n,o)}},{cc:vs,bc:Wu,Sb:function(n,o){return Ao(t,"exit",n,o)}},{cc:vs,bc:$u,Sb:function(n,o){return Ao(t,"exit",n,o)}},{cc:Wu,bc:$u,Sb:function(n,o){return Ao(t,"skip",n,o)}},{cc:$u,bc:Wu,Sb:function(n,o){return Ao(t,"skip",n,o)}}],this.h=new Ue,this.h.o(this.i,"regionremove",function(n){t.g.delete(n.region)})}K(rc,Se),rc.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,Se.prototype.release.call(this)},rc.prototype.j=function(e,t){for(var n=x(this.i.g),o=n.next();!o.done;o=n.next()){o=o.value;var u=this.g.get(o),l=e<o.startTime?Wu:e>o.endTime?$u:vs;this.g.set(o,l);for(var d=x(this.l),f=d.next();!f.done;f=d.next())f=f.value,f.cc==u&&f.bc==l&&f.Sb(o,t)}};function Ao(e,t,n,o){t=new oe(t,new Map([["region",n],["seeking",o]])),e.dispatchEvent(t)}var Wu=1,vs=2,$u=3;function qu(e,t,n,o,u){return e=si(e,o,u),(t!=0||n!=null)&&(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Xu(e,t){var n=this;this.F=t,this.H=e,this.m=null,this.l=1,this.i=this.h=null,this.g=new Map,this.s=!1,this.B=null,this.j=!1,this.N=new vo(function(){return NP(n)})}Xu.prototype.destroy=function(){return this.N.destroy()};function NP(e){var t,n,o,u;return F(function(l){if(l.g==1){for(t=[],n=x(e.g.values()),o=n.next();!o.done;o=n.next())u=o.value,sc(u),t.push(SS(u));return C(l,Promise.all(t),2)}e.g.clear(),e.F=null,e.H=null,e.m=null,Z(l)})}Xu.prototype.configure=function(e){this.m=e,this.B=new J1({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0)},Xu.prototype.start=function(){var e=this;return F(function(t){if(t.g==1)return C(t,OP(e),2);We(e.N),e.s=!0,Z(t)})};function MP(e,t){var n,o,u,l,d;F(function(f){switch(f.g){case 1:return n=Qt,ae(f,2),C(f,Zx(e.F.Y,n.ua),4);case 4:Ae(f,3);break;case 2:o=ge(f),e.F&&e.F.onError(o);case 3:u=_i(t.mimeType,t.codecs),Vu(e.F.Y,u),l=e.F.Y.s,(l.isTextVisible()||e.m.alwaysStreamText)&&(d=yS(t),e.g.set(n.ua,d),Wn(e,d,0)),Z(f)}})}function RP(e){var t=e.g.get(Be);t&&(sc(t),SS(t).catch(function(){}),e.g.delete(Be)),e.i=null}function mS(e,t){var n=e.g.get("video");if(n){var o=n.stream;if(o)if(t){var u=o.trickModeVideo;u&&!n.Zb&&(ys(e,u,!1,0,!1),n.Zb=o)}else(o=n.Zb)&&(n.Zb=null,ys(e,o,!0,0,!1))}}function vS(e,t,n,o,u){n=n===void 0?!1:n,o=o===void 0?0:o,u=u===void 0?!1:u,e.h=t,e.s&&(t.video&&ys(e,t.video,n,o,u),t.audio&&ys(e,t.audio,n,o,u))}function oc(e,t){e.i=t,e.s&&ys(e,t,!0,0,!1)}function ys(e,t,n,o,u){var l=e.g.get(t.type);l||t.type!=Be?l&&(l.Zb&&(t.trickModeVideo?(l.Zb=t,t=t.trickModeVideo):l.Zb=null),l.stream!=t||u)&&(t.type==Be&&Vu(e.F.Y,_i(t.mimeType,t.codecs)),l.stream.closeSegmentIndex&&l.stream.closeSegmentIndex(),l.stream=t,l.za=null,n&&(l.Ic?l.Hd=!0:l.hb?(l.ac=!0,l.md=o,l.Hd=!0):(sc(l),Ip(e,l,!0,o).catch(function(d){e.F&&e.F.onError(d)}))),bP(e,l).catch(function(d){e.F&&e.F.onError(d)})):MP(e,t)}function bP(e,t){var n,o;return F(function(u){if(u.g==1)return t.Ra?(n=t.stream,o=t.Ra,n.segmentIndex?u.D(2):C(u,n.createSegmentIndex(),2)):u.return();if(t.Ra!=o||t.stream!=n)return u.return();var l=e.F.rd(),d=tc(e.F.Y,t.type),f=t.stream.segmentIndex.find(t.Xa?t.Xa.endTime:l),p=f==null?null:t.stream.segmentIndex.get(f);f=p&&p.Da?p.Da-p.Ka:null,p&&!f&&(f=(p.endTime-p.startTime)*(t.stream.bandwidth||0)/8),f?((p=p.g)&&(f+=(p.Da?p.Da-p.Ka:null)||0),p=e.F.getBandwidthEstimate(),l=8*f/p<(d||0)-l-Math.max(e.H.minBufferTime||0,e.m.rebufferingGoal)||t.Ra.h.g>f):l=!1,l&&t.Ra.abort(),Z(u)})}function DP(e,t){t.Ic||t.ac||(t.hb?(t.ac=!0,t.md=0):Qx(e.F.Y,t.type)==null?t.kb==null&&Wn(e,t,0):(sc(t),Ip(e,t,!1,0).catch(function(n){e.F&&e.F.onError(n)})))}function OP(e){var t,n,o,u,l,d,f,p,v,y;return F(function(T){if(T.g==1){if(t=Qt,!e.h)throw new O(2,5,5006);return n=new Map,o=new Set,e.h.audio&&(n.set(t.Nb,e.h.audio),o.add(e.h.audio)),e.h.video&&(n.set(t.mb,e.h.video),o.add(e.h.video)),e.i&&(n.set(t.ua,e.i),o.add(e.i)),u=e.F.Y,l=e.m.forceTransmuxTS,C(T,u.init(n,l),2)}We(e.N);var E=e.H.presentationTimeline.getDuration();for(1/0>E?e.F.Y.ib(E):e.F.Y.ib(Math.pow(2,32)),d=x(n.keys()),f=d.next();!f.done;f=d.next())p=f.value,v=n.get(p),e.g.has(p)||(y=yS(v),e.g.set(p,y),Wn(e,y,0));Z(T)})}function yS(e){return{stream:e,type:e.type,za:null,Xa:null,td:null,ee:null,ce:null,be:null,Zb:null,endOfStream:!1,hb:!1,kb:null,ac:!1,md:0,Hd:!1,Ic:!1,ve:!1,Pc:!1,Ra:null}}Xu.prototype.Tc=function(e){var t=this,n,o,u,l,d;return F(function(f){switch(f.g){case 1:if(We(t.N),e.hb||e.kb==null||e.Ic)return f.return();if(e.kb=null,!e.ac){f.D(2);break}return C(f,Ip(t,e,e.Hd,e.md),3);case 3:return f.return();case 2:if(e.stream.segmentIndex){f.D(4);break}return n=e.stream,C(f,e.stream.createSegmentIndex(),5);case 5:if(n!=e.stream)return n.closeSegmentIndex&&n.closeSegmentIndex(),e.kb==null&&Wn(t,e,0),f.return();case 4:ae(f,6),o=UP(t,e),o!=null&&(Wn(t,e,o),e.Pc=!1),Ae(f,7);break;case 6:return u=ge(f),C(f,TS(t,u),8);case 8:return f.return();case 7:if(l=Array.from(t.g.values()),!t.s||!l.every(function(p){return p.endOfStream})){f.D(0);break}return C(f,t.F.Y.endOfStream(),10);case 10:We(t.N),d=t.F.Y.getDuration(),d!=0&&d<t.H.presentationTimeline.getDuration()&&t.H.presentationTimeline.ib(d),Z(f)}})};function UP(e,t){if(wp(t))return xP(e.F.Y,t.stream.originalId||""),null;t.type==Be&&SP(e.F.Y);var n=e.F.rd(),o=t.Xa?t.Xa.endTime:n,u=yP(e.F.Y,t.type,n),l=Math.max(e.H.minBufferTime||0,e.m.rebufferingGoal,e.m.bufferingGoal)*e.l;if(1e-6>e.H.presentationTimeline.getDuration()-o)return t.endOfStream=!0,t.type=="video"&&(n=e.g.get(Be))&&wp(n)&&(n.endOfStream=!0),null;if(t.endOfStream=!1,u>=l)return e.m.updateIntervalSeconds/2;if(u=tc(e.F.Y,t.type),u=FP(e,t,n,u),!u)return e.m.updateIntervalSeconds;l=1/0;var d=Array.from(e.g.values());d=x(d);for(var f=d.next();!f.done;f=d.next())f=f.value,wp(f)||f.za&&!f.za.current()||(l=Math.min(l,f.Xa?f.Xa.endTime:n));return o>=l+e.H.presentationTimeline.g?e.m.updateIntervalSeconds:(jP(e,t,n,u).catch(function(){}),null)}function FP(e,t,n,o){if(t.za)return t.za.current();if(t.Xa||o)return t.za=t.stream.segmentIndex.kc(t.Xa?t.Xa.endTime:o),t.za&&t.za.next().value;e=e.m.inaccurateManifestTolerance,o=Math.max(n-e,0);var u=null;return e&&(t.za=t.stream.segmentIndex.kc(o),u=t.za&&t.za.next().value),u||(t.za=t.stream.segmentIndex.kc(n),u=t.za&&t.za.next().value),u}function jP(e,t,n,o){var u,l,d,f,p,v,y,T,E,I,P,L;return F(function(M){switch(M.g){case 1:return u=Qt,l=t.stream,d=t.za,t.hb=!0,ae(M,2),C(M,VP(e,t,o),4);case 4:return We(e.N),e.j?M.return():(f=l.mimeType=="video/mp4"||l.mimeType=="audio/mp4",p=c.ReadableStream,e.m.lowLatencyMode&&p&&f?(T=new Uint8Array(0),E=function(N){var V,z,j;return F(function(H){return We(e.N),e.j?H.return():(T=BP(T,N),V=!1,z=0,new Ve().box("mdat",function(q){z=q.size+q.start,V=!0}).parse(T,!1,!0),V?(j=T.subarray(0,z),T=T.subarray(z),C(H,xS(e,t,n,l,o,j),0)):H.D(0))})},C(M,Ap(e,t,o,E),6)):(v=Ap(e,t,o),C(M,v,7)));case 7:return y=M.h,We(e.N),e.j?M.return():t.ac?(t.hb=!1,Wn(e,t,0),M.return()):C(M,xS(e,t,n,l,o,y),6);case 6:if(We(e.N),e.j)return M.return();t.Xa=o,d.next(),t.hb=!1,t.ve=!1,I=e.F.Y.Ib(),P=I[t.type],JSON.stringify(P),t.ac||e.F.qe(),Wn(e,t,0),Ae(M,0);break;case 2:if(L=ge(M),We(e.N,L),e.j)return M.return();if(t.hb=!1,L.code==7001)t.hb=!1,t.kb=null,Wn(e,t,0),M.D(0);else if(t.type==u.ua&&e.m.ignoreTextStreamFailures)e.g.delete(u.ua),M.D(0);else if(L.code==3017)zP(e,t,L),M.D(0);else if(L.code==1001&&L.data&&L.data[1]==404)t.hb=!1,t.kb=null,Wn(e,t,1),M.D(0);else return t.Pc=!0,L.severity=2,C(M,TS(e,L),0)}})}function BP(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function zP(e,t,n){if(!Array.from(e.g.values()).some(function(u){return u!=t&&u.ve})){var o=Math.round(100*e.l);if(20<o)e.l-=.2;else if(4<o)e.l-=.04;else{t.Pc=!0,e.j=!0,e.F.onError(n);return}t.ve=!0}Wn(e,t,4)}function VP(e,t,n){var o,u,l,d,f,p,v;return F(function(y){return o=[],u=Math.max(0,n.appendWindowStart-.1),l=n.appendWindowEnd+.01,d=n.timestampOffset,(d!=t.ee||u!=t.ce||l!=t.be)&&(f=function(){var T;return F(function(E){if(E.g==1)return ae(E,2),t.ce=u,t.be=l,t.ee=d,C(E,TP(e.F.Y,t.type,d,u,l),4);if(E.g!=2)return Ae(E,0);throw T=ge(E),t.ce=null,t.be=null,t.ee=null,T})},o.push(f())),!EP(n.g,t.td)&&(t.td=n.g)&&(p=Ap(e,t,n.g),v=function(){var T,E,I;return F(function(P){switch(P.g){case 1:return ae(P,2),C(P,p,4);case 4:return T=P.h,We(e.N),E=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,C(P,Jx(e.F.Y,t.type,T,null,null,E),5);case 5:Ae(P,0);break;case 2:throw I=ge(P),t.td=null,I}})},e.F.Ug(n.startTime,n.g),o.push(v())),C(y,Promise.all(o),0)})}function xS(e,t,n,o,u,l){var d;return F(function(f){if(f.g==1)return d=o.closedCaptions&&0<o.closedCaptions.size,(o.emsgSchemeIdUris!=null&&0<o.emsgSchemeIdUris.length||e.m.dispatchAllEmsgBoxes)&&new Ve().Z("emsg",function(p){var v=o.emsgSchemeIdUris;if(p.version===0)var y=p.reader.Wc(),T=p.reader.Wc(),E=p.reader.T(),I=p.reader.T(),P=p.reader.T(),L=p.reader.T(),M=u.startTime+I/E;else E=p.reader.T(),M=p.reader.xc()/E+u.timestampOffset,I=M-u.startTime,P=p.reader.T(),L=p.reader.T(),y=p.reader.Wc(),T=p.reader.Wc();p=p.reader.Lb(p.reader.X.byteLength-p.reader.qa()),(v&&v.includes(y)||e.m.dispatchAllEmsgBoxes)&&(y=="urn:mpeg:dash:event:2012"?e.F.Vg():(v=new Map().set("detail",{startTime:M,endTime:M+P/E,schemeIdUri:y,value:T,timescale:E,presentationTimeDelta:I,eventDuration:P,id:L,messageData:p}),v=new oe(aT,v),e.F.onEvent(v)))}).parse(l),C(f,GP(e,t,n),2);if(f.g!=3)return We(e.N),C(f,Jx(e.F.Y,t.type,l,u.startTime,u.endTime,d),3);We(e.N),Z(f)})}function GP(e,t,n){var o,u,l,d;return F(function(f){if(f.g==1)return o=Math.max(e.m.bufferBehind,e.H.presentationTimeline.g),u=Qx(e.F.Y,t.type),u==null?f.return():(l=n-u,d=l-o,.01>=d?f.return():C(f,e.F.Y.remove(t.type,u,u+d),2));We(e.N),Z(f)})}function wp(e){return e&&e.type==Be&&(e.stream.mimeType=="application/cea-608"||e.stream.mimeType=="application/cea-708")}function Ap(e,t,n,o){var u,l,d,f,p;return F(function(v){return v.g==1?(u=Ki,l=qu(n.Ma(),n.Ka,n.Da,e.m.retryParameters,o),d=t.stream,e.F.modifySegmentRequest(l,{type:d.type,init:n instanceof gn,duration:n.endTime-n.startTime,mimeType:d.mimeType,codecs:d.codecs,bandwidth:d.bandwidth}),f=e.F.Wb.request(u,l),t.Ra=f,C(v,f.promise,2)):(p=v.h,t.Ra=null,v.return(p.data))})}function Ip(e,t,n,o){var u,l;return F(function(d){if(d.g==1)return t.ac=!1,t.Hd=!1,t.md=0,t.Ic=!0,t.Xa=null,t.td=null,t.za=null,o?(u=e.F.rd(),l=e.F.Y.getDuration(),C(d,e.F.Y.remove(t.type,u+o,l),3)):C(d,Zx(e.F.Y,t.type),4);if(d.g!=3)return We(e.N),n?C(d,e.F.Y.flush(t.type),3):d.D(3);We(e.N),t.Ic=!1,t.endOfStream=!1,Wn(e,t,0),Z(d)})}function Wn(e,t,n){var o=t.type;(o!=Be||e.g.has(o))&&(t.kb=new Mu(function(){var u;return F(function(l){if(l.g==1)return ae(l,2),C(l,e.Tc(t),4);if(l.g!=2)return Ae(l,0);u=ge(l),e.F&&e.F.onError(u),Z(l)})}).U(n))}function sc(e){e.kb!=null&&(e.kb.stop(),e.kb=null)}function SS(e){return F(function(t){return e.Ra?C(t,e.Ra.abort(),0):t.D(0)})}function TS(e,t){return F(function(n){if(n.g==1)return C(n,Z1(e.B),2);We(e.N),e.F.onError(t),t.handled||e.m.failureCallback(t),Z(n)})}function ES(e,t){var n=As(),o=this;this.j=t,this.i=e,this.l=n,this.B=null,this.s=[],this.h=this.g=null,this.C=Promise.resolve().then(function(){return KP(o)}),this.N=new vo(function(){return HP(o)})}ES.prototype.destroy=function(){return this.N.destroy()};function HP(e){var t,n,o;return F(function(u){if(u.g==1)return e.h&&e.h.abort(),wS(e),C(u,e.C,2);for(e.g&&e.g.gb.Xb(),t=x(e.s),n=t.next();!n.done;n=t.next())o=n.value,o.gb.Xb();e.g=null,e.s=[],e.j=null,Z(u)})}function Yu(e,t){var n={uc:function(){},vd:function(){},Xb:function(){},onError:function(){},xd:function(){},Ui:function(){}};return e.s.push({create:t,gb:n}),e.h&&e.h.abort(),wS(e),n}function KP(e){return F(function(t){if(e.N.g)t=t.D(0);else{if(e.s.length==0||e.g&&!e.g.Rb)var n=!1;else{e.g&&(e.g.gb.Xb(),e.g=null),n=e.s.shift();var o=n.create(e.l);o?(n.gb.uc(),e.g={node:o.node,payload:o.payload,Rb:o.Rb,gb:n.gb}):n.gb.xd(),n=!0}n?n=Promise.resolve():e.g?n=WP(e):(e.j.Tg(e.i),e.B=new Ke,n=e.B),t=C(t,n,1)}return t})}function WP(e){var t,n;return F(function(o){switch(o.g){case 1:return e.i=e.j.xg(e.i,e.l,e.g.node,e.g.payload),ae(o,2),e.h=e.j.$f(e.i,e.l,e.g.payload),C(o,e.h.promise,4);case 4:e.h=null,e.i==e.g.node&&(e.g.gb.vd(),e.g=null),Ae(o,0);break;case 2:return t=ge(o),t.code==7001?e.g.gb.Xb():e.g.gb.onError(t),e.g=null,e.h=null,n=e,C(o,e.j.handleError(e.l,t),5);case 5:n.i=o.h,Z(o)}})}function wS(e){e.B&&(e.B.resolve(),e.B=null)}function _n(e){this.g=null;for(var t=x(Array.from(e.textTracks)),n=t.next();!n.done;n=t.next())n=n.value,n.mode="disabled",n.label=="Shaka Player TextTrack"&&(this.g=n);this.g||(this.g=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.g.mode="hidden"}g=_n.prototype,g.remove=function(e,t){return this.g?(AS(this.g,function(n){return n.startTime<t&&n.endTime>e}),!0):!1},g.append=function(e){function t(d){var f=[],p=700<=d.fontWeight,v=d.fontStyle=="italic",y=d.textDecoration.includes("underline");return p&&f.push("b"),v&&f.push("i"),y&&f.push("u"),p=f.reduce(function(T,E){return T+"<"+E+">"},""),f=f.reduceRight(function(T,E){return T+"</"+E+">"},""),d.lineBreak||d.spacer?(d.spacer&&un("shaka.extern.Cue","Please use lineBreak instead of spacer."),`
`):d.nestedCues.length?d.nestedCues.map(t).join(""):p+d.payload+f}var n=e.map(function(d){if(d.nestedCues.length){var f=d.clone();return f.nestedCues=[],f.payload=t(d),f}return d}),o=[];e=this.g.cues?Array.from(this.g.cues):[];var u={};n=x(n);for(var l=n.next();!l.done;u={dc:u.dc},l=n.next())u.dc=l.value,e.some(function(d){return function(f){return f.startTime==d.dc.startTime&&f.endTime==d.dc.endTime&&f.text==d.dc.payload}}(u))||(l=$P(u.dc))&&o.push(l);for(e=o.slice().sort(function(d,f){return d.startTime!=f.startTime?d.startTime-f.startTime:d.endTime!=f.endTime?d.endTime-f.startTime:"line"in VTTCue.prototype?o.indexOf(f)-o.indexOf(d):o.indexOf(d)-o.indexOf(f)}),e=x(e),u=e.next();!u.done;u=e.next())this.g.addCue(u.value)},g.destroy=function(){return this.g&&(AS(this.g,function(){return!0}),this.g.mode="disabled"),this.g=null,Promise.resolve()},g.isTextVisible=function(){return this.g.mode=="showing"},g.setTextVisibility=function(e){this.g.mode=e?"showing":"hidden"};function $P(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch{}return e.textAlign=="center"&&t.align!="center"&&(t.align="middle"),e.writingMode=="vertical-lr"?t.vertical="lr":e.writingMode=="vertical-rl"&&(t.vertical="rl"),e.lineInterpretation==1&&(t.snapToLines=!1),e.line!=null&&(t.line=e.line),e.position!=null&&(t.position=e.position),t}function AS(e,t){var n=e.mode;e.mode=n=="showing"?"showing":"hidden";for(var o=x(Array.from(e.cues)),u=o.next();!u.done;u=o.next())(u=u.value)&&t(u)&&e.removeCue(u);e.mode=n}Y("shaka.text.SimpleTextDisplayer",_n),_n.prototype.setTextVisibility=_n.prototype.setTextVisibility,_n.prototype.isTextVisible=_n.prototype.isTextVisible,_n.prototype.destroy=_n.prototype.destroy,_n.prototype.append=_n.prototype.append,_n.prototype.remove=_n.prototype.remove;function IS(){}function le(e){return document.createElement(e)}function wt(){return document.createElement("button")}function xs(e){for(;e.firstChild;)e.removeChild(e.firstChild)}Y("shaka.util.Dom",IS),IS.removeAllChildren=xs;function kn(e,t){var n=this;this.s=!1,this.l=[],this.g=e,this.C=t,this.i=le("div"),this.i.classList.add("shaka-text-container"),this.i.style.textAlign="center",this.i.style.display="flex",this.i.style.flexDirection="column",this.i.style.alignItems="center",this.i.style.justifyContent="flex-end",this.C.appendChild(this.i),this.G=new fe(function(){Qu(n)}).na(.25),this.j=new Map,this.h=new Ue,this.h.o(document,"fullscreenchange",function(){Qu(n,!0)}),this.B=null,"ResizeObserver"in c&&(this.B=new ResizeObserver(function(){Qu(n,!0)}),this.B.observe(this.i))}g=kn.prototype,g.append=function(e){var t=[].concat(b(this.l)),n={};e=x(e);for(var o=e.next();!o.done;n={$c:n.$c},o=e.next())n.$c=o.value,t.some(function(u){return function(l){return h1(l,u.$c)}}(n))||this.l.push(n.$c);Qu(this)},g.destroy=function(){this.C.removeChild(this.i),this.i=null,this.s=!1,this.l=[],this.G&&this.G.stop(),this.j.clear(),this.h&&(this.h.release(),this.h=null),this.B&&(this.B.disconnect(),this.B=null)},g.remove=function(e,t){if(!this.i)return!1;var n=this.l.length;return this.l=this.l.filter(function(o){return o.startTime<e||o.endTime>=t}),Qu(this,n>this.l.length),!0},g.isTextVisible=function(){return this.s},g.setTextVisibility=function(e){this.s=e};function CS(e,t,n,o,u){var l=!1,d=[],f=[];t=x(t);for(var p=t.next();!p.done;p=t.next()){p=p.value,u.push(p);var v=e.j.get(p),y=p.startTime<=o&&p.endTime>o,T=v?v.Mf:null;v&&(d.push(v.Ze),y||(l=!0,e.j.delete(p),v=null)),y&&(f.push(p),v||(qP(e,p,u),v=e.j.get(p),T=v.Mf,l=!0)),0<p.nestedCues.length&&T&&CS(e,p.nestedCues,T,o,u),u.pop()}if(l){for(o=x(d),u=o.next();!u.done;u=o.next())n.removeChild(u.value);for(f.sort(function(E,I){return E.startTime!=I.startTime?E.startTime-I.startTime:E.endTime-I.endTime}),f=x(f),p=f.next();!p.done;p=f.next())o=e.j.get(p.value),n.appendChild(o.Ze)}}function Qu(e,t){if(e.i){var n=e.g.currentTime;if((!e.s||t!==void 0&&t)&&0<e.j.size&&(xs(e.i),e.j.clear()),e.s){for(var o=new Map,u=x(e.j.keys()),l=u.next();!l.done;l=u.next())l=l.value,o.set(l,e.j.get(l));CS(e,e.l,e.i,n,[])}}}function qP(e,t,n){var o=1<n.length,u=o?"span":"div";(t.lineBreak||t.spacer)&&(t.spacer&&un("shaka.extern.Cue","Please use lineBreak instead of spacer."),u="br"),o=!o&&0<t.nestedCues.length;var l=le(u);u!="br"&&XP(e,l,t,n,o),n=l,o&&(n=le("span"),n.classList.add("shaka-text-wrapper"),n.style.backgroundColor=t.backgroundColor,l.appendChild(n)),e.j.set(t,{Ze:l,Mf:n})}function XP(e,t,n,o,u){var l=t.style,d=n.nestedCues.length==0,f=1<o.length;l.whiteSpace="pre-wrap";var p=n.payload.replace(/\s+$/g,function(y){return" ".repeat(y.length)});if(l.webkitTextStrokeColor=n.textStrokeColor,l.webkitTextStrokeWidth=n.textStrokeWidth,l.color=n.color,l.direction=n.direction,l.opacity=n.opacity,l.paddingLeft=Cp(n.linePadding,n,e.C),l.paddingRight=Cp(n.linePadding,n,e.C),n.backgroundImage)l.backgroundImage="url('"+n.backgroundImage+"')",l.backgroundRepeat="no-repeat",l.backgroundSize="contain",l.backgroundPosition="center";else{if(n.nestedCues.length)var v=t;else v=le("span"),t.appendChild(v);n.border&&(v.style.border=n.border),u||((t=YP(o,function(y){return y.backgroundColor}))?v.style.backgroundColor=t:p&&(v.style.backgroundColor="rgba(0, 0, 0, 0.8)")),p&&(v.textContent=p)}f&&!o[o.length-1].isContainer?l.display="inline":(l.display="flex",l.flexDirection="column",l.alignItems="center",l.justifyContent=n.displayAlign=="before"?"flex-start":n.displayAlign=="center"?"center":"flex-end"),d||(l.margin="0"),l.fontFamily=n.fontFamily,l.fontWeight=n.fontWeight.toString(),l.fontStyle=n.fontStyle,l.letterSpacing=n.letterSpacing,l.fontSize=Cp(n.fontSize,n,e.C),n.line?n.lineInterpretation==1&&(l.position="absolute",l.left="0",l.top="0",n.writingMode==Au?(l.width="100%",n.lineAlign==co?l.top=n.line+"%":n.lineAlign=="end"&&(l.bottom=n.line+"%")):n.writingMode=="vertical-lr"?(l.height="100%",n.lineAlign==co?l.left=n.line+"%":n.lineAlign=="end"&&(l.right=n.line+"%")):(l.height="100%",n.lineAlign==co?l.right=n.line+"%":n.lineAlign=="end"&&(l.left=n.line+"%"))):n.region&&n.region.id&&(e=n.region.widthUnits==Er?"%":"px",o=n.region.viewportAnchorUnits==Er?"%":"px",l.height=n.region.height+(n.region.heightUnits==Er?"%":"px"),l.width=n.region.width+e,l.position="absolute",l.top=n.region.viewportAnchorY+o,l.left=n.region.viewportAnchorX+o),l.lineHeight=n.lineHeight,n.position&&(n.writingMode==Au?l.paddingLeft=n.position:l.paddingTop=n.position),n.positionAlign=="line-left"?l.cssFloat="left":n.positionAlign=="line-right"&&(l.cssFloat="right"),l.textAlign=n.textAlign,l.textDecoration=n.textDecoration.join(" "),l.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&l.writingMode==n.writingMode||(l.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==Au?l.width=n.size+"%":l.height=n.size+"%")}function Cp(e,t,n){var o=(o=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(o[1]),ph:o[2]}:null;if(!o)return e;var u=o.value;switch(o.ph){case"%":return u/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*u/t.cellResolution.rows+"px";default:return e}}function YP(e,t){for(var n=e.length-1;0<=n;n--){var o=t(e[n]);if(o||o===0)return o}return null}Y("shaka.text.UITextDisplayer",kn),kn.prototype.setTextVisibility=kn.prototype.setTextVisibility,kn.prototype.isTextVisible=kn.prototype.isTextVisible,kn.prototype.remove=kn.prototype.remove,kn.prototype.destroy=kn.prototype.destroy,kn.prototype.append=kn.prototype.append;function QP(e,t){function n(f){for(var p=f,v=x(t),y=v.next();!y.done;y=v.next())y=y.value,y.end&&y.start<f&&(p+=y.end-y.start);return f=Math.floor(p/3600),v=Math.floor(p/60%60),y=Math.floor(p%60),p=Math.floor(1e3*p%1e3),(10>f?"0":"")+f+":"+(10>v?"0":"")+v+":"+(10>y?"0":"")+y+"."+(100>p?10>p?"00":"0":"")+p}function o(f){var p=[],v=700<=f.fontWeight,y=f.fontStyle=="italic",T=f.textDecoration.includes("underline");return v&&p.push("b"),y&&p.push("i"),T&&p.push("u"),v=p.reduce(function(E,I){return E+"<"+I+">"},""),p=p.reduceRight(function(E,I){return E+"</"+I+">"},""),f.lineBreak||f.spacer?(f.spacer&&un("shaka.text.Cue","Please use lineBreak instead of spacer."),`
`):f.nestedCues.length?f.nestedCues.map(o).join(""):v+f.payload+p}var u=e.map(function(f){if(f.nestedCues.length){var p=f.clone();return p.nestedCues=[],p.payload=o(f),p}return f}),l=`WEBVTT

`;u=x(u);for(var d=u.next();!d.done;d=u.next())d=d.value,l+=n(d.startTime)+" --> "+n(d.endTime)+function(f){var p=[];switch(f.textAlign){case"left":p.push("align:left");break;case"right":p.push("align:right");break;case Tr:p.push("align:middle");break;case"start":p.push("align:start");break;case"end":p.push("align:end")}switch(f.writingMode){case"vertical-lr":p.push("vertical:lr");break;case"vertical-rl":p.push("vertical:rl")}return p.length?" "+p.join(" "):""}(d)+`
`,l+=d.payload+`

`;return l}Y("shaka.text.WebVttGenerator",function(){});function JP(e,t){this.F=e,this.m=t,this.h="",this.l=void 0,this.g=!1,this.j=!0,this.i=!1}function _S(e,t,n){try{if(e.m.enabled){var o={d:1e3*n.duration,st:e.F.W()?sL:oL};o.ot=eL(n);var u=o.ot===ac||o.ot===Lp||o.ot===lc||o.ot===Mp;u&&(o.bl=tL(e,n.type)),n.bandwidth&&(o.br=n.bandwidth/1e3),u&&o.ot!==Mp&&(o.tb=nL(e,o.ot)/1e3),kp(e,t,o)}}catch(l){oo("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",l)}}function ZP(e,t,n){try{if(!e.m.enabled)return t;var o=_p(e);e:{switch(n){case"video/webm":case"video/mp4":var u=lc;break e;case"application/x-mpegurl":u=PS;break e}u=void 0}o.ot=u,o.su=!0;var l=uc(o);return Pp(t,l)}catch(d){return oo("CMCD_SRC_ERROR","Could not generate src CMCD data.",d),t}}function kS(e,t){try{if(!e.m.enabled)return t;var n=_p(e);n.ot=Np,n.su=!0;var o=uc(n);return Pp(t,o)}catch(u){return oo("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",u),t}}function _p(e){return e.h||(e.h=e.m.sessionId||c.crypto.randomUUID()),{v:1,sf:e.l,sid:e.h,cid:e.m.contentId,mtp:e.F.getBandwidthEstimate()/1e3}}function kp(e,t,n){n=n===void 0?{}:n;var o=o===void 0?e.m.useHeaders:o;if(e.m.enabled){Object.assign(n,_p(e)),n.pr=e.F.Jb();var u=n.ot===ac||n.ot===lc;if(e.i&&u&&(n.bs=!0,n.su=!0,e.i=!1),n.su==null&&(n.su=e.j),o)e=iL(n),Object.keys(e).length&&Object.assign(t.headers,e);else{var l=uc(n);l&&(t.uris=t.uris.map(function(d){return Pp(d,l)}))}}}function eL(e){var t=e.type;if(e.init)return rL;if(t=="video")return e.codecs.includes(",")?lc:ac;if(t=="audio")return Lp;if(t=="text")return e.mimeType==="application/mp4"?Mp:Np}function tL(e,t){var n=e.F.Ib()[t];if(!n.length)return NaN;var o=e.F.kg();return(n=n.find(function(u){return u.start<=o&&u.end>=o}))?1e3*(n.end-o):NaN}function nL(e,t){var n=e.F.fb();if(!n.length)return NaN;var o=n[0];n=x(n);for(var u=n.next();!u.done;u=n.next())u=u.value,u.type==="variant"&&u.bandwidth>o.bandwidth&&(o=u);switch(t){case ac:return o.videoBandwidth||NaN;case Lp:return o.audioBandwidth||NaN;default:return o.bandwidth}}function uc(e){function t(T){return 100*n(T/100)}function n(T){return Math.round(T)}function o(T){return!Number.isNaN(T)&&T!=null&&T!==""&&T!==!1}var u=[],l={br:n,d:n,bl:t,dl:t,mtp:t,nor:function(T){return encodeURIComponent(T)},rtp:t,tb:n},d=Object.keys(e||{}).sort();d=x(d);for(var f=d.next();!f.done;f=d.next()){f=f.value;var p=e[f];if(o(p)&&(f!=="v"||p!==1)&&(f!="pr"||p!==1)){var v=l[f];v&&(p=v(p)),v=typeof p;var y=void 0;y=v==="string"&&f!=="ot"&&f!=="sf"&&f!=="st"?f+"="+JSON.stringify(p):v==="boolean"?f:v==="symbol"?f+"="+p.description:f+"="+p,u.push(y)}}return u.join(",")}function iL(e){var t=Object.keys(e),n={},o=["Object","Request","Session","Status"],u=[{},{},{},{}],l={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};t=x(t);for(var d=t.next();!d.done;d=t.next())d=d.value,u[l[d]!=null?l[d]:1][d]=e[d];for(e=0;e<u.length;e++)(l=uc(u[e]))&&(n["CMCD-"+o[e]]=l);return n}function Pp(e,t){if(!t||e.includes("offline:"))return e;var n=new Vn(e);return n.g.set("CMCD",t),n.toString()}var PS="m",Lp="a",ac="v",lc="av",rL="i",Np="c",Mp="tt",oL="v",sL="l";Y("shaka.util.CmcdManager.StreamingFormat",{Hh:"d",Vh:"h",Ci:"s",ki:"o"});function Rp(){}function Ju(e,t,n,o,u){var l=u in o,d=!0,f;for(f in t){var p=u+"."+f,v=l?o[u]:n[f];l||f in n?t[f]===void 0?v===void 0||l?delete e[f]:e[f]=ds(v):v.constructor==Object&&t[f]&&t[f].constructor==Object?(e[f]||(e[f]=ds(v)),p=Ju(e[f],t[f],v,o,p),d=d&&p):typeof t[f]!=typeof v||t[f]==null||typeof t[f]!="function"&&t[f].constructor!=v.constructor?(mu("Invalid config, wrong type for "+p),d=!1):(typeof n[f]=="function"&&n[f].length!=t[f].length&&je("Unexpected number of arguments for "+p),e[f]=t[f]):(mu("Invalid config, unrecognized key "+p),d=!1)}return d}function cc(e,t){for(var n={},o=n,u=0,l=0;u=e.indexOf(".",u),!(0>u);)(u==0||e[u-1]!="\\")&&(l=e.substring(l,u).replace(/\\\./g,"."),o[l]={},o=o[l],l=u+1),u+=1;return o[e.substring(l).replace(/\\\./g,".")]=t,n}Y("shaka.util.ConfigUtils",Rp),Rp.convertToConfigObject=cc,Rp.mergeConfigObjects=Ju;function LS(){}function Zu(){var e=1/0;navigator.connection&&navigator.connection.saveData&&(e=360);var t={retryParameters:ls(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:Rk,logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[]},n={retryParameters:ls(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,defaultPresentationDelay:0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,disableXlinkProcessing:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},manifestPreprocessor:function(d){return d}},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,useFullSegmentsForStartTime:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E"}},o={retryParameters:ls(),failureCallback:function(d){return[d]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2,lowLatencyMode:!1,autoLowLatencyMode:!1,forceHTTPS:!1,preferNativeHls:!1,updateIntervalSeconds:1,dispatchAllEmsgBoxes:!1,observeQualityChanges:!1};(navigator.userAgent.match(/Edge\//)||po()||Ru())&&(o.gapDetectionThreshold=.5),(Jt("Web0S")||po()||Ru())&&(o.stallSkip=0);var u={trackSelectionCallback:function(d){return F(function(f){return f.return(d)})},downloadSizeCallback:function(d){var f;return F(function(p){return p.g==1?navigator.storage&&navigator.storage.estimate?C(p,navigator.storage.estimate(),3):p.return(!0):(f=p.h,p.return(f.usage+d<.95*f.quota))})},progressCallback:function(d,f){return[d,f]},usePersistentLicense:!0},l={drm:t,manifest:n,streaming:o,offline:u,abrFactory:function(){return new ft},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoCodecs:[],preferredAudioCodecs:[],preferForcedSubs:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",useHeaders:!1}};return u.trackSelectionCallback=function(d){return F(function(f){return f.return(uL(d,l.preferredAudioLanguage))})},l}function Ss(e,t,n){var o={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:""}};return Ju(e,t,n||Zu(),o,"")}function uL(e,t){var n=e.filter(function(f){return f.type=="variant"}),o=[],u=Dl(t,n.map(function(f){return f.language}));u&&(o=n.filter(function(f){return Pe(f.language)==u})),o.length==0&&(o=n.filter(function(f){return f.primary})),o.length==0&&(n.map(function(f){return f.language}),o=n);var l=o.filter(function(f){return f.height&&480>=f.height});if(l.length&&(l.sort(function(f,p){return p.height-f.height}),o=l.filter(function(f){return f.height==l[0].height})),n=[],o.length){var d=Math.floor(o.length/2);o.sort(function(f,p){return f.bandwidth-p.bandwidth}),n.push(o[d])}for(o=x(e),d=o.next();!d.done;d=o.next())d=d.value,d.type!=Be&&d.type!="image"||n.push(d);return n}Y("shaka.util.PlayerConfiguration",LS),LS.mergeConfigObjects=Ss;function aL(){this.g=null,this.h=[]}function dc(e,t){if(e.g==null)e.g={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.g.duration=n-e.g.timestamp,e.g.state!=t&&(e.h.push(e.g),e.g={timestamp:n,state:t,duration:0})}}function bp(e,t){var n=0;e.g&&e.g.state==t&&(n+=e.g.duration);for(var o=x(e.h),u=o.next();!u.done;u=o.next())u=u.value,n+=u.state==t?u.duration:0;return n}function lL(e){function t(l){return{timestamp:l.timestamp,state:l.state,duration:l.duration}}for(var n=[],o=x(e.h),u=o.next();!u.done;u=o.next())n.push(t(u.value));return e.g&&n.push(t(e.g)),n}function cL(){this.i=this.h=null,this.g=[]}function Dp(e,t,n){e.i!=t&&(e.i=t,e.g.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function NS(){this.B=this.C=this.L=this.I=this.s=this.j=this.J=this.l=this.i=this.M=this.P=this.S=this.G=this.ea=NaN,this.g=new aL,this.h=new cL}function G(e,t){Se.call(this);var n=this;this.l=Wp,this.Db=this.g=null,this.ha=!1,this.h=new Ue,this.nc=this.B=this.bb=this.H=this.Eb=this.C=this.i=this.ia=this.P=this.Gb=this.L=this.zb=this.J=this.Ca=this.I=this.M=this.s=this.V=null,this.se=1e9,this.m=Ts(this),this.oe={width:1/0,height:1/0},this.j=null,this.sa=new us(this.m.preferredAudioLanguage,this.m.preferredVariantRole,this.m.preferredAudioChannelCount),this.Aa=this.m.preferredTextLanguage,this.ob=this.m.preferredTextRole,this.cb=this.m.preferForcedSubs,this.Zd=[],this.pb=null,t&&t(this),this.V=AL(this),this.V.Ee(this.m.streaming.forceHTTPS),this.G=null,xc&&(this.G=uo(xc)),this.h.o(c,"online",function(){n.we()}),this.Pa={name:"detach"},this.qb={name:"attach"},this.$={name:"unload"},this.ue={name:"manifest-parser"},this.ke={name:"manifest"},this.Ba={name:"media-source"},this.ae={name:"drm-engine"},this.S={name:"load"},this.xe={name:"src-equals-drm-engine"},this.Ua={name:"src-equals"};var o=new Map;o.set(this.qb,function(u,l){return ki(fL(n,u,l))}),o.set(this.Pa,function(u){return u.K&&(n.h.Ta(u.K,"error"),u.K=null),n.G&&n.G.release(),n.g=null,u=Promise.resolve(),ki(u)}),o.set(this.$,function(u){return ki(RS(n,u))}),o.set(this.Ba,function(u){return u=hL(n,u),ki(u)}),o.set(this.ue,function(u,l){var d=pL(n,u,l);return ki(d)}),o.set(this.ke,function(u){return gL(n,u)}),o.set(this.ae,function(u){return u=mL(n,u),ki(u)}),o.set(this.S,function(u,l){return ki(vL(n,u,l))}),o.set(this.xe,function(u,l){var d=yL(n,u,l);return ki(d)}),o.set(this.Ua,function(u,l){return xL(n,u,l)}),this.ka=new ES(this.Pa,{xg:function(u,l,d,f){var p=null;return u==n.Pa&&(p=d==n.Pa?n.Pa:n.qb),u==n.qb&&(p=d==n.Pa||l.K!=f.K?n.Pa:d==n.qb?n.qb:d==n.Ba||d==n.S?n.Ba:d==n.Ua?n.xe:null),u==n.Ba&&(p=d==n.S&&l.K==f.K?n.ue:n.$),u==n.ue&&(p=Bp(n.S,n.ke,n.$,d,l,f)),u==n.ke&&(p=Bp(n.S,n.ae,n.$,d,l,f)),u==n.ae&&(p=Bp(n.S,n.S,n.$,d,l,f)),u==n.xe&&(p=d==n.Ua&&l.K==f.K?n.Ua:n.$),(u==n.S||u==n.Ua)&&(p=n.$),u==n.$&&(p=f.K&&l.K==f.K?n.qb:n.Pa),p},$f:function(u,l,d){return n.dispatchEvent(ht(gT,new Map().set("state",u.name))),o.get(u)(l,d)},handleError:function(u){return F(function(l){return l.g==1?C(l,RS(n,u),2):l.return(u.K?n.qb:n.Pa)})},Tg:function(u){n.dispatchEvent(ht(mT,new Map().set("state",u.name)))}}),e&&this.Hc(e,!0)}K(G,Se);function ht(e,t){return new oe(e,t)}g=G.prototype,g.destroy=function(){var e=this,t;return F(function(n){switch(n.g){case 1:return e.l==ai?n.return():(e.l=ai,t=Yu(e.ka,function(){return{node:e.Pa,payload:As(),Rb:!1}}),C(n,new Promise(function(o){t.uc=function(){},t.vd=function(){o()},t.Xb=function(){o()},t.onError=function(){o()},t.xd=function(){o()}}),2));case 2:return C(n,e.ka.destroy(),3);case 3:if(e.h&&(e.h.release(),e.h=null),e.nc=null,e.B=null,e.m=null,e.j=null,e.Db=null,e.P=null,!e.V){n.D(4);break}return C(n,e.V.destroy(),5);case 5:e.V=null;case 4:Se.prototype.release.call(e),Z(n)}})};function MS(){if(c.Promise||je("A Promise implementation or polyfill is required"),c.TextDecoder&&c.TextEncoder||je("A TextDecoder/TextEncoder implementation or polyfill is required"),!(c.Promise&&c.Uint8Array&&c.TextDecoder&&c.TextEncoder&&Array.prototype.forEach)||Jt("Trident/"))return!1;var e=L1();return e&&12>e||!(c.MediaKeys&&c.navigator&&c.navigator.requestMediaKeySystemAccess&&c.MediaKeySystemAccess&&c.MediaKeySystemAccess.prototype.getConfiguration)?!1:oi()?!0:os("application/x-mpegurl")}g.Hc=function(e,t){if(t=t===void 0?!0:t,this.l==ai)return Promise.reject(Co());var n=As();n.K=e,oi()||(t=!1);var o=t?this.Ba:this.qb,u=Yu(this.ka,function(){return{node:o,payload:n,Rb:!1}});return u.uc=function(){},zp(u)},g.detach=function(){var e=this;if(this.l==ai)return Promise.reject(Co());var t=Yu(this.ka,function(){return{node:e.Pa,payload:As(),Rb:!1}});return t.uc=function(){},zp(t)},g.Qe=function(e){var t=this;if(e=e===void 0?!0:e,this.l==ai)return Promise.reject(Co());oi()||(e=!1);var n=As(),o=Yu(this.ka,function(u){var l=u.K&&e?t.Ba:u.K?t.qb:t.Pa;return n.K=u.K,{node:l,payload:n,Rb:!1}});return o.uc=function(){},zp(o)},g.vh=function(e){this.pb=e},g.load=function(e,t,n){var o=this;if(this.pb=null,this.l==ai)return Promise.reject(Co());this.dispatchEvent(ht(dT));var u=As();u.uri=e,u.Le=Date.now()/1e3,n&&(u.mimeType=n),t!==void 0&&(u.startTime=t);var l=dL(this,u)?this.Ua:this.S,d=Yu(this.ka,function(f){return f.K==null?null:(u.K=f.K,{node:l,payload:u,Rb:!0})});return this.j=new NS,this.P=kL(this),d.uc=function(){},new Promise(function(f,p){d.xd=function(){return p(new O(2,7,7002))},d.vd=function(){f(),o.dispatchEvent(ht(cT))},d.Xb=function(){return p(Co())},d.onError=function(v){return p(v)}})};function dL(e,t){if(!oi())return!0;var n=t.mimeType,o=t.uri||"";if(n||(n=yo(o),n=qp[n]),n){if((t.K||N1()).canPlayType(n)=="")return!1;if(!oi()||!(n in Kn||yo(o)in xo)||e.m.streaming.preferNativeHls)return!0;if(bu())return e.m.streaming.useNativeHlsOnSafari}return!1}function fL(e,t,n){return t.K==null&&(t.K=n.K,e.h.o(t.K,"error",function(){var o=jp(e);o&&Io(e,o)})),e.g=t.K,Promise.resolve()}function RS(e,t){var n,o,u,l,d,f,p,v,y;return F(function(T){switch(T.g){case 1:return e.l!=ai&&(e.l=Wp),n=e.Zd.map(function(E){return E()}),e.Zd=[],C(T,Promise.all(n),2);case 2:if(e.dispatchEvent(ht(ET)),t.mimeType=null,t.startTime=null,t.uri=null,t.K&&(e.h.Ta(t.K,"loadedmetadata"),e.h.Ta(t.K,"playing"),e.h.Ta(t.K,"pause"),e.h.Ta(t.K,"ended"),e.h.Ta(t.K,"ratechange")),e.Ca&&(e.Ca.release(),e.Ca=null),e.zb&&(e.zb.stop(),e.zb=null),!e.C){T.D(3);break}return C(T,e.C.stop(),4);case 4:e.C=null,e.Eb=null;case 3:if(!e.B){T.D(5);break}return C(T,e.B.stop(),5);case 5:if(!e.i){T.D(7);break}return C(T,e.i.destroy(),8);case 8:e.i=null;case 7:if(e.J&&(e.J.release(),e.J=null),e.I&&(e.I.release(),e.I=null),!e.M){T.D(9);break}return C(T,e.M.destroy(),10);case 10:e.M=null;case 9:if(e.G&&e.G.onAssetUnload(),!t.K||!t.K.src){T.D(11);break}return C(T,new Promise(function(E){return new fe(E).U(.1)}),12);case 12:for(t.K.removeAttribute("src"),t.K.load();t.K.lastChild;)t.K.removeChild(t.K.firstChild);case 11:if(!e.s){T.D(13);break}return C(T,e.s.destroy(),14);case 14:e.s=null;case 13:if(e.bb=null,e.L=null,e.H){for(o=x(e.H.variants),u=o.next();!u.done;u=o.next())for(l=u.value,d=x([l.audio,l.video]),f=d.next();!f.done;f=d.next())(p=f.value)&&p.segmentIndex&&p.segmentIndex.release();for(v=x(e.H.textStreams),f=v.next();!f.done;f=v.next())y=f.value,y.segmentIndex&&y.segmentIndex.release()}e.H=null,e.j=new NS,e.fe=null,Up(e),Z(T)}})}function hL(e,t){var n,o,u,l;return F(function(d){if(d.g==1)return n=new $x,o=e.m.textDisplayFactory,u=uo(o),e.fe=o,l=_L(t.K,n,u,function(f,p,v){f=x(f);for(var y=f.next();!y.done;y=f.next())if(y=y.value,y.data&&y.cueTime&&y.frames){for(var T=y.cueTime+p,E=v,I=x(y.frames),P=I.next();!P.done;P=I.next())bS(e,T,E,"ID3",P.value);e.G&&e.G.onHlsTimedMetadata(y,T)}}),C(d,l.I,2);e.M=l,Z(d)})}function pL(e,t,n){var o,u,l,d;return F(function(f){if(f.g==1)return t.mimeType=n.mimeType,t.uri=n.uri,o=t.uri,u=e.V,e.bb=o,l=e,C(f,Sx(o,u,e.m.manifest.retryParameters,t.mimeType),2);l.Eb=f.h,e.C=uo(e.Eb),d=ds(e.m.manifest),n.K&&n.K.nodeName==="AUDIO"&&(d.disableVideo=!0),e.C.configure(d),Z(f)})}function gL(e,t){var n=t.uri,o=e.V;e.Gb=new Ep(function(){return e.Na()}),e.Gb.addEventListener("regionadd",function(d){d=d.region,ta(e,ST,d),e.G&&e.G.onDashTimedMetadata(d)}),e.ia=null,e.m.streaming.observeQualityChanges&&(e.ia=new ic(function(){return e.Ib()}),e.ia.addEventListener("qualitychange",function(d){var f=d.quality;d=d.position,f=new Map().set("mediaQuality",{bandwidth:f.bandwidth,audioSamplingRate:f.audioSamplingRate,codecs:f.codecs,contentType:f.contentType,frameRate:f.frameRate,height:f.height,mimeType:f.mimeType,channelsCount:f.channelsCount,pixelAspectRatio:f.pixelAspectRatio,width:f.width}).set("position",d),e.dispatchEvent(ht(hT,f))}));var u={networkingEngine:o,modifyManifestRequest:function(d,f){var p=e.P;try{p.m.enabled&&(p.l=f.format,kp(p,d,{ot:PS,su:!p.g}))}catch(v){oo("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",v)}},modifySegmentRequest:function(d,f){_S(e.P,d,f)},filter:function(d){return GS(e,d)},makeTextStreamsForClosedCaptions:function(d){return NL(e,d)},onTimelineRegionAdded:function(d){var f=e.Gb;e:{for(var p=x(f.g),v=p.next();!v.done;v=p.next())if(v=v.value,v.schemeIdUri==d.schemeIdUri&&v.id==d.id&&v.startTime==d.startTime&&v.endTime==d.endTime){p=v;break e}p=null}p==null&&(f.g.add(d),d=new oe("regionadd",new Map([["region",d]])),f.dispatchEvent(d))},onEvent:function(d){return e.dispatchEvent(d)},onError:function(d){return Io(e,d)},isLowLatencyMode:function(){return e.m.streaming.lowLatencyMode},isAutoLowLatencyMode:function(){return e.m.streaming.autoLowLatencyMode},enableLowLatencyMode:function(){e.configure("streaming.lowLatencyMode",!0)}},l=Date.now()/1e3;return new Je(function(){var d,f,p,v;return F(function(y){if(y.g==1)return d=e,C(y,e.C.start(n,u),2);if(d.H=y.h,f=ht(fT),e.dispatchEvent(f),e.H.variants.length==0)throw new O(2,4,4036);wL(e.H),p=Date.now()/1e3,v=p-l,e.j.J=v,Z(y)})}(),function(){return e.C.stop()})}function mL(e,t){var n,o;return F(function(u){return u.g==1?(n=Date.now()/1e3,o=!0,e.s=OS(e,{Wb:e.V,onError:function(l){Io(e,l)},wd:function(l){YS(e,l)},onExpirationUpdated:function(l,d){QS(e,l,d)},onEvent:function(l){e.dispatchEvent(l),l.type==Vp&&o&&(o=!1,e.j.j=Date.now()/1e3-n)}}),e.s.configure(e.m.drm),C(u,lx(e.s,e.H.variants,e.H.offlineSessionIds),2)):u.g!=3?C(u,e.s.Hc(t.K),3):C(u,GS(e,e.H),0)})}function vL(e,t,n){var o,u,l,d,f,p,v,y,T,E,I;return F(function(P){switch(P.g){case 1:if(t.startTime=n.startTime,e.pb!=null&&(t.startTime=e.pb,e.pb=null),o=t.K,u=t.uri,e.bb=u,e.J=new Ku({sd:function(){return t.K.playbackRate},pd:function(){return t.K.defaultPlaybackRate},Ge:function(L){t.K.playbackRate=L},uf:function(L){t.K.currentTime+=L}}),l=function(){return hc(e)},d=function(){return KS(e)},e.h.o(o,"playing",l),e.h.o(o,"pause",l),e.h.o(o,"ended",l),e.h.o(o,"ratechange",d),f=e.m.abrFactory,e.B&&e.nc==f||(e.nc=f,e.B=uo(f),typeof e.B.playbackRateChanged!="function"&&(un("AbrManager","Please use an AbrManager with playbackRateChanged function."),e.B.playbackRateChanged=function(){}),e.B.configure(e.m.abr)),e.sa=new us(e.m.preferredAudioLanguage,e.m.preferredVariantRole,e.m.preferredAudioChannelCount),e.Aa=e.m.preferredTextLanguage,e.ob=e.m.preferredTextRole,e.cb=e.m.preferForcedSubs,JS(e.H.presentationTimeline,e.m.playRangeStart,e.m.playRangeEnd),e.B.init(function(L,M,N){e.i&&L!=e.i.h&&gc(e,L,!0,M===void 0?!1:M,N===void 0?0:N)}),e.I=IL(e,t.startTime),e.Ca=CL(e),p=Math.max(e.H.minBufferTime,e.m.streaming.rebufferingGoal),US(e,p),M1(e.H,e.m.preferredVideoCodecs,e.m.preferredAudioCodecs,e.m.preferredAudioChannelCount,e.m.preferredDecodingAttributes),e.i=PL(e),e.i.configure(e.m.streaming),e.l=Ln,e.dispatchEvent(ht(Gp)),v=null,e.fb().find(function(L){return L.active})){P.D(2);break}if(v=Es(e)?e.B.chooseVariant():null,gc(e,v,!0,!1,0),!e.m.streaming.startAtSegmentBoundary){P.D(3);break}return y=e.I.l(),C(P,RL(v,y),4);case 4:T=P.h,e.I.s(T);case 3:WS(e,null,go(v));case 2:return E=e.vb().find(function(L){return L.active}),E||((I=Qh(e.H.textStreams,e.Aa,e.ob,e.cb)[0]||null)&&Dp(e.j.h,I,!0),v&&(I?(v.audio&&bL(e,v.audio,I)&&(e.ha=!0),e.ha&&e.M.s.setTextVisibility(!0),qS(e)):e.ha=!1),I&&(e.m.streaming.alwaysStreamText||e.Vb())&&oc(e.i,I)),C(P,e.i.start(),5);case 5:e.m.abr.enabled&&(e.B.enable(),XS(e)),U1(e.i?e.i.h:null,e.H),eT(e.H),Pn(e),Es(e),e.H.variants.some(function(L){return L.primary}),e.h.Qa(o,"loadedmetadata",function(){e.j.l=Date.now()/1e3-n.Le}),Z(P)}})}function yL(e,t,n){var o,u,l,d,f,p,v;return F(function(y){return y.g==1?(o=Qt,u=Date.now()/1e3,l=!0,e.s=OS(e,{Wb:e.V,onError:function(T){Io(e,T)},wd:function(T){YS(e,T)},onExpirationUpdated:function(T,E){QS(e,T,E)},onEvent:function(T){e.dispatchEvent(T),T.type==Vp&&l&&(l=!1,e.j.j=Date.now()/1e3-u)}}),e.s.configure(e.m.drm),d=n.uri||"",f=yo(d),p=qp[f],p=="application/x-mpegurl"&&bu()&&(p="application/vnd.apple.mpegurl"),p||(p="video/mp4"),v={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:n.mimeType?n.mimeType.split(";")[0]:p,codecs:n.mimeType?X_(n.mimeType):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:o.mb,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},e.s.S=!0,C(y,lx(e.s,[v],[]),2)):C(y,e.s.Hc(t.K),0)})}function xL(e,t,n){function o(){return hc(e)}t.uri=n.uri,t.startTime=n.startTime,e.bb=t.uri,e.I=new Gu(t.K),t.startTime!=null&&e.I.s(t.startTime),e.J=new Ku({sd:function(){return t.K.playbackRate},pd:function(){return t.K.defaultPlaybackRate},Ge:function(f){t.K.playbackRate=f},uf:function(f){t.K.currentTime+=f}}),US(e,e.m.streaming.rebufferingGoal),e.h.o(t.K,"playing",o),e.h.o(t.K,"pause",o),e.h.o(t.K,"ended",o),e.h.o(t.K,"ratechange",function(){return KS(e)}),e.g.preload!="none"&&e.h.Qa(e.g,"loadedmetadata",function(){e.j.l=Date.now()/1e3-n.Le}),e.g.audioTracks&&(e.h.o(e.g.audioTracks,"addtrack",function(){return Pn(e)}),e.h.o(e.g.audioTracks,"removetrack",function(){return Pn(e)}),e.h.o(e.g.audioTracks,"change",function(){return Pn(e)})),e.g.textTracks&&(e.h.o(e.g.textTracks,"addtrack",function(f){if(f.track)switch(f=f.track,f.kind){case"metadata":EL(e,f);break;case"chapters":DS(e,f);break;default:Pn(e)}}),e.h.o(e.g.textTracks,"removetrack",function(){return Pn(e)}),e.h.o(e.g.textTracks,"change",function(){return Pn(e)}));var u=yo(t.uri);t.K.src=ZP(e.P,t.uri,qp[u]),(po()||Jt("Web0S"))&&t.K.load(),e.l=$n,e.dispatchEvent(ht(Gp));var l=new Ke;wo(e.g,HTMLMediaElement.HAVE_METADATA,e.h,function(){l.resolve()});var d=!1;return e.Zd.push(function(){d=!0}),wo(e.g,HTMLMediaElement.HAVE_CURRENT_DATA,e.h,function(){var f;return F(function(p){if(p.g==1)return d?p.return():(SL(e),f=ea(e),f.find(function(v){return v.mode!="disabled"})?p.D(2):C(p,new Promise(function(v){e.h.Qa(e.g.textTracks,"change",v),new fe(v).U(1)}),2));if(d)return p.return();TL(e),Z(p)})}),e.g.error?l.reject(jp(e)):e.g.preload=="none"&&(je('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),l.resolve()),e.h.Qa(e.g,"error",function(){l.reject(jp(e))}),new Je(l,function(){return l.reject(new O(2,7,7001)),Promise.resolve()})}function SL(e){var t=e.m.preferredAudioLanguage;if(t!=""){e.Dd(t);var n=e.m.preferredVariantRole;n!=""&&e.Dd(t,n)}}function TL(e){var t=e.m.preferredTextLanguage,n=e.m.preferForcedSubs;if(t!=""){e.ze(t,"",n);var o=e.m.preferredTextRole;o!=""&&e.ze(t,o,n)}}function EL(e,t){t.kind=="metadata"&&(t.mode="hidden",e.h.o(t,"cuechange",function(){if(t.activeCues)for(var n=x(t.activeCues),o=n.next();!o.done;o=n.next())o=o.value,bS(e,o.startTime,o.endTime,o.type,o.value),e.G&&e.G.onCueMetadataChange(o.value)}),new fe(function(){var n=LL(e);n=x(n);for(var o=n.next();!o.done;o=n.next())o.value.mode="hidden"}).Ga().U(.5))}function bS(e,t,n,o,u){t=new Map().set("startTime",t).set("endTime",n).set("metadataType",o).set("payload",u),e.dispatchEvent(ht(pT,t))}function DS(e,t){t&&t.kind=="chapters"&&(t.mode="hidden",new fe(function(){var n=fc(e);n=x(n);for(var o=n.next();!o.done;o=n.next())o.value.mode="hidden"}).Ga().U(.5))}function wL(e){function t(n){return n.video&&n.audio||n.video&&n.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}function OS(e,t){return new Kl(t,e.m.drm.updateExpirationTime)}function AL(e){return new ze(function(t,n){e.B&&e.B.segmentDownloaded(t,n)},function(t,n,o){t=new Map().set("headers",t).set("request",n).set("requestType",o),e.dispatchEvent(ht(uT,t))},function(t,n,o,u){t=new Map().set("request",t).set("error",n).set("httpResponseCode",o).set("aborted",u),e.dispatchEvent(ht(sT,t))})}function IL(e,t){return new Hu(e.g,e.H,e.m.streaming,t,function(){if(e.Ca&&gS(e.Ca,!0),e.i)for(var n=e.i,o=n.F.rd(),u=n.m.smallGapLimit,l=x(n.g.keys()),d=l.next();!d.done;d=l.next()){d=d.value;var f=n.g.get(d);f.za=null;var p=n.F.Y;if(d==Be?(p=p.i,p=p.g==null||p.h==null?!1:o>=p.g&&o<p.h):(p=ms(p,d),p=gp(p,o,u)),!p&&((tc(n.F.Y,d)!=null||f.hb)&&DP(n,f),f.Ra&&(f.Ra.abort(),f.Ra=null),d===Be))for(d=n.F.Y.G.g,d.l=0,d.h=[],d.g=[],f=d.i,f.i=[],f.h=[],f.g=0,cp(d),d=x(d.j.values()),f=d.next();!f.done;f=d.next())zx(f.value)}e.L&&Op(e)},function(n){return e.dispatchEvent(n)})}function CL(e){var t=new rc(e.Gb);t.addEventListener("enter",function(o){ta(e,Hp,o.region)}),t.addEventListener("exit",function(o){ta(e,Kp,o.region)}),t.addEventListener("skip",function(o){var u=o.region;o.seeking||(ta(e,Hp,u),ta(e,Kp,u))});var n=new pS(e.g);return n.g.add(t),e.ia&&n.g.add(e.ia),n}function US(e,t){e.L=new yk,e.L.g=as,Q1(e.L,t,Math.min(.5,t/2)),Up(e),e.zb=new fe(function(){Op(e)}).na(.25)}function Op(e){switch(e.l){case $n:if(e.g.ended)var t=!0;else{var n=pp(e.g.buffered);t=n!=null&&n>=e.g.duration-1}break;case Ln:e:if(e.g.ended||Yx(e.M))t=!0;else{if(e.H.presentationTimeline.W()){n=e.H.presentationTimeline.Qb();var o=pp(e.g.buffered);if(o!=null&&o>=n){t=!0;break e}}t=!1}break;default:t=!1}o=qx(e.g.buffered,e.g.currentTime),n=e.L;var u=t,l=n.h.get(n.g);t=n.g,o=u||o>=l?zl:as,n.g=o,t!=o&&Up(e)}function _L(e,t,n,o){return new Xx(e,t,n,o)}function kL(e){return new JP({getBandwidthEstimate:function(){return e.B?e.B.getBandwidthEstimate():NaN},Ib:function(){return e.Ib()},kg:function(){return e.g?e.g.currentTime:0},fb:function(){return e.fb()},Jb:function(){return e.Jb()},W:function(){return e.W()}},e.m.cmcd)}function PL(e){return new Xu(e.H,{rd:function(){return e.I.l()},getBandwidthEstimate:function(){return e.B.getBandwidthEstimate()},modifySegmentRequest:function(t,n){_S(e.P,t,n)},Y:e.M,Wb:e.V,onError:function(t){return Io(e,t)},onEvent:function(t){return e.dispatchEvent(t)},Vg:function(){e.C&&e.C.update&&e.C.update()},qe:function(){e.I&&e.I.I(),Op(e)},Ug:function(t,n){var o=n.ge;o&&e.ia&&PP(e.ia,o,t)}})}g.configure=function(e,t){arguments.length==2&&typeof e=="string"&&(e=cc(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(un("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),e.streaming&&e.streaming.lowLatencyMode&&(e.streaming.inaccurateManifestTolerance==null&&(e.streaming.inaccurateManifestTolerance=0),e.streaming.rebufferingGoal==null&&(e.streaming.rebufferingGoal=.01));var n=Ss(this.m,e,Ts(this));return FS(this),n};function FS(e){if(e.C){var t=ds(e.m.manifest);e.g&&e.g.nodeName==="AUDIO"&&(t.disableVideo=!0),e.C.configure(t)}if(e.s&&e.s.configure(e.m.drm),e.i){e.i.configure(e.m.streaming);try{HS(e,e.H)}catch(l){Io(e,l)}e.B&&Es(e),t=e.i.h,!t||t.allowedByApplication&&t.allowedByKeySystem||pc(e)}if(e.V&&e.V.Ee(e.m.streaming.forceHTTPS),e.M&&(t=e.m.textDisplayFactory,e.fe!=t)){var n=uo(t),o=e.M,u=o.s;o.s=n,u&&(n.setTextVisibility(u.isTextVisible()),u.destroy()),o.i&&(o.i.i=n),e.fe=t,e.i&&(t=e.i,(n=t.g.get(Be))&&ys(t,n.stream,!0,0,!0))}e.B&&(e.B.configure(e.m.abr),e.m.abr.enabled?e.B.enable():e.B.disable(),XS(e)),e.L&&(t=e.m.streaming.rebufferingGoal,e.H&&(t=Math.max(t,e.H.minBufferTime)),Q1(e.L,t,Math.min(.5,t/2))),e.H&&JS(e.H.presentationTimeline,e.m.playRangeStart,e.m.playRangeEnd)}g.getConfiguration=function(){var e=Ts(this);return Ss(e,this.m,Ts(this)),e},g.dg=function(){if(this.g){var e=this.g.buffered.length;e=e?this.g.buffered.end(e-1):0;var t=this.getConfiguration().streaming.bufferingGoal;if(t=Math.min(this.g.currentTime+t,this.Na().end),e>=t)return 1;if(!(e<=this.g.currentTime)&&e<t)return(e-this.g.currentTime)/(t-this.g.currentTime)}return 0},g.gh=function(){for(var e in this.m)delete this.m[e];Ss(this.m,Ts(this),Ts(this)),FS(this)},g.kf=function(){return this.l},g.wg=function(){return this.g},g.Mc=function(){return this.V},g.Yd=function(){return this.bb},g.od=function(){return this.G?this.G:null},g.W=function(){return this.H?this.H.presentationTimeline.W():this.g&&this.g.src?this.g.duration==1/0:!1},g.Tb=function(){return this.H?this.H.presentationTimeline.Tb():!1},g.pf=function(){if(this.H){var e=this.H.variants;return e.length?!e[0].video:!1}return this.g&&this.g.src?this.g.videoTracks?this.g.videoTracks.length==0:this.g.videoHeight==0:!1},g.Na=function(){if(this.H){var e=this.H.presentationTimeline;return{start:e.mc(),end:e.sb()}}return this.g&&this.g.src&&(e=this.g.seekable,e.length)?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},g.Jg=function(){this.W()&&(this.g.currentTime=this.Na().end)},g.keySystem=function(){var e=this.drmInfo();return e?e.keySystem:""},g.drmInfo=function(){return this.s?this.s.i:null},g.Lc=function(){return this.s?this.s.Lc():1/0},g.qd=function(){return this.s?this.s.qd():{}},g.Rc=function(){return this.L?this.L.g==as:!1},g.Jb=function(){return this.g?this.J?this.J.i:1:0},g.Pe=function(e){e==0?je("A trick play rate of 0 is unsupported!"):(this.g.paused&&this.g.play(),this.J.set(e),this.l==Ln&&(this.B.playbackRateChanged(e),mS(this.i,1<Math.abs(e))))},g.Ue=function(){var e=this.J.pd();this.l==$n&&this.J.set(e),this.l==Ln&&(this.J.set(e),this.B.playbackRateChanged(e),mS(this.i,!1))},g.fb=function(){if(this.H){for(var e=this.i?this.i.h:null,t=[],n=0,o=x(this.H.variants),u=o.next();!u.done;u=o.next())if(u=u.value,Ou(u)){var l=go(u);l.active=u==e,l.active||n==1||e==null||u.video!=e.video||u.audio!=e.audio||(l.active=!0),l.active&&n++,t.push(l)}return t}return this.g&&this.g.audioTracks?Array.from(this.g.audioTracks).map(function(d){return jl(d)}):[]},g.vb=function(){if(this.H){for(var e=this.i?this.i.i:null,t=[],n=x(this.H.textStreams),o=n.next();!o.done;o=n.next()){o=o.value;var u=Du(o);u.active=o==e,t.push(u)}return t}return this.g&&this.g.src&&this.g.textTracks?ea(this).map(function(l){return B1(l)}):[]},g.ng=function(){return this.H?this.H.imageStreams.map(function(e){return j1(e)}):[]},g.Fg=function(e,t){var n=this,o,u,l,d,f,p,v,y,T,E,I,P,L,M,N,V,z,j;return F(function(H){return H.g==1?n.H?(o=n.H.imageStreams.find(function(q){return q.id==e}))?o.segmentIndex?H.D(3):C(H,o.createSegmentIndex(),3):H.return(null):H.D(2):H.g!=2?(u=o.segmentIndex.find(t),u==null||(l=o.segmentIndex.get(u),d=l.tilesLayout||o.tilesLayout,f=/(\d+)x(\d+)/.exec(d),!f)?H.return(null):(p=o.width||0,v=o.height||0,y=parseInt(f[1],10),T=parseInt(f[2],10),E=p/y,I=v/T,P=y*T,L=l.l-l.startTime,M=l.i||L/P,N=l.startTime,z=V=0,1<P&&(j=Math.floor((t-l.startTime)/M),N=l.startTime+j*M,V=j%y*E,z=Math.floor(j/y)*I),H.return({imageHeight:v,imageWidth:p,height:I,positionX:V,positionY:z,startTime:N,duration:M,uris:l.Ma(),width:E}))):H.return(null)})},g.Ae=function(e){if(this.H&&this.i){var t=this.H.textStreams.find(function(o){return o.id==e.id});t&&t!=this.i.i&&(Dp(this.j.h,t,!1),oc(this.i,t),mc(this),this.Aa=t.language)}else if(this.g&&this.g.src&&this.g.textTracks){t=ea(this),t=x(t);for(var n=t.next();!n.done;n=t.next())n=n.value,Yh(n)==e.id?n.mode=this.ha?"showing":"hidden":n.mode="disabled";mc(this)}},g.Be=function(e,t,n){if(t=t===void 0?!1:t,n=n===void 0?0:n,this.H&&this.i){this.m.abr.enabled&&je("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var o=this.H.variants.find(function(u){return u.id==e.id});o&&Ou(o)&&(gc(this,o,!1,t,n),this.sa=new Y1(o),Es(this))}else if(this.g&&this.g.audioTracks){for(t=Array.from(this.g.audioTracks),t=x(t),n=t.next();!n.done;n=t.next())if(n=n.value,Yh(n)==e.id){Fp(this,n);break}}},g.cg=function(){return nT(this.fb())},g.Eg=function(){return nT(this.vb())},g.ag=function(){return Array.from(tT(this.fb()))},g.Dg=function(){return Array.from(tT(this.vb()))},g.Dd=function(e,t){if(this.H&&this.I){this.sa=new us(e,t||"",0,"");var n=function(p,v){return p.video||v.video?p.video&&v.video?Math.abs((p.video.height||0)-(v.video.height||0))+Math.abs((p.video.width||0)-(v.video.width||0)):1/0:0},o=this.i.h,u=this.sa.create(this.H.variants),l=null;u=x(u.values());for(var d=u.next();!d.done;d=u.next())d=d.value,(!l||n(l,o)>n(d,o))&&(l=d);l?(n=go(l),this.Be(n,!0)):pc(this)}else if(this.g&&this.g.audioTracks){for(u=Array.from(this.g.audioTracks),n=Pe(e),l=o=null,u=x(u),d=u.next();!d.done;d=u.next()){d=d.value;var f=jl(d);Pe(f.language)==n&&(o=d,t?f.roles.includes(t)&&(l=d):f.roles.length==0&&(l=d))}l?Fp(this,l):o&&Fp(this,o)}},g.ze=function(e,t,n){if(n=n===void 0?!1:n,this.H&&this.I)this.Aa=e,this.ob=t||"",this.cb=n,(e=Qh(this.H.textStreams,this.Aa,this.ob,this.cb)[0]||null)&&e!=this.i.i&&(Dp(this.j.h,e,!1),this.m.streaming.alwaysStreamText||this.Vb())&&(oc(this.i,e),mc(this));else{var o=Pe(e);(e=this.vb().find(function(u){return Pe(u.language)==o&&(!t||u.roles.includes(t))&&u.forced==n}))&&this.Ae(e)}},g.ih=function(e){if(this.H&&this.I){for(var t=null,n=x(this.H.variants),o=n.next();!o.done;o=n.next())if(o=o.value,o.audio.label==e){t=o;break}t!=null&&(this.sa=new us(t.language,"",0,e),pc(this))}},g.Vb=function(){var e=this.ha;return this.M?this.M.s.isTextVisible():this.g&&this.g.src&&this.g.textTracks?ea(this).some(function(t){return t.mode=="showing"}):e},g.hf=function(){return this.g&&this.g.src&&this.g.textTracks?fc(this).map(function(e){return B1(e)}):[]},g.fg=function(e){var t=Pe(e),n=fc(this).filter(function(l){return Pe(l.language)==t});if(!n||!n.length)return[];e=[],n=x(n);for(var o=n.next();!o.done;o=n.next())if((o=o.value)&&o.cues){o=x(o.cues);for(var u=o.next();!u.done;u=o.next())u=u.value,e.push({title:u.text,startTime:u.startTime,endTime:u.endTime})}return e};function ea(e){return Array.from(e.g.textTracks).filter(function(t){return t.kind!="metadata"&&t.kind!="chapters"&&t.label!="Shaka Player TextTrack"})}function LL(e){return Array.from(e.g.textTracks).filter(function(t){return t.kind=="metadata"})}function fc(e){return Array.from(e.g.textTracks).filter(function(t){return t.kind=="chapters"})}g.Je=function(e){if(e=!!e,this.ha!=e){if(this.ha=e,this.l==Ln)this.M.s.setTextVisibility(e),this.m.streaming.alwaysStreamText||(e?this.i.i||(e=Qh(this.H.textStreams,this.Aa,this.ob,this.cb),0<e.length&&(oc(this.i,e[0]),mc(this))):RP(this.i));else if(this.g&&this.g.src&&this.g.textTracks){var t=ea(this);t=x(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n.mode!="disabled"&&(n.mode=e?"showing":"hidden")}qS(this)}},g.yg=function(){if(!this.W())return null;var e=this.ka.l,t=0;if(this.I)t=this.I.l();else if(e){if(e.startTime==null)return new Date;t=e.startTime}return this.H?new Date(1e3*(this.H.presentationTimeline.j+t)):this.g&&this.g.getStartDate?(e=this.g.getStartDate(),isNaN(e.getTime())?null:new Date(e.getTime()+1e3*t)):null},g.lf=function(){if(!this.W())return null;if(this.H)return new Date(1e3*this.H.presentationTimeline.j);if(this.g&&this.g.getStartDate){var e=this.g.getStartDate();return isNaN(e.getTime())?null:e}return null},g.Ib=function(){if(this.l==Ln)return this.M.Ib();var e={total:[],audio:[],video:[],text:[]};return this.l==$n&&(e.total=Ir(this.g.buffered)),e},g.getStats=function(){if(this.l!=Ln&&this.l!=$n)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};hc(this);var e=this.g,t=e.currentTime/e.duration;if(!isNaN(t)){var n=this.j;t=Math.round(100*t),n.i=isNaN(n.i)?t:Math.max(n.i,t)}e.getVideoPlaybackQuality&&(e=e.getVideoPlaybackQuality(),n=this.j,t=Number(e.totalVideoFrames),n.S=Number(e.droppedVideoFrames),n.P=t,this.j.M=Number(e.corruptedVideoFrames)),this.s?(e=this.s,e=e.I?e.I:NaN):e=NaN,this.j.s=e,this.l==Ln&&((e=this.i.h)&&(this.j.C=(this.J?this.J.i:1)*e.bandwidth),e&&e.video&&(n=this.j,t=e.video.height||NaN,n.ea=e.video.width||NaN,n.G=t),this.W()&&(e=this.lf().valueOf()+1e3*this.Na().end,this.j.I=(Date.now()-e)/1e3),this.H&&this.H.presentationTimeline&&(this.j.L=this.H.presentationTimeline.g),e=this.B.getBandwidthEstimate(),this.j.B=e);var o=this.j;e=o.ea,n=o.G,t=o.C;var u=o.P,l=o.S,d=o.M,f=o.B,p=o.i,v=o.l,y=o.J,T=o.j,E=bp(o.g,"playing"),I=bp(o.g,"paused"),P=bp(o.g,"buffering"),L=o.s,M=o.I,N=o.L,V=lL(o.g),z=[];o=x(o.h.g);for(var j=o.next();!j.done;j=o.next())j=j.value,z.push({timestamp:j.timestamp,id:j.id,type:j.type,fromAdaptation:j.fromAdaptation,bandwidth:j.bandwidth});return{width:e,height:n,streamBandwidth:t,decodedFrames:u,droppedFrames:l,corruptedFrames:d,estimatedBandwidth:f,completionPercent:p,loadLatency:v,manifestTimeSeconds:y,drmTimeSeconds:T,playTime:E,pauseTime:I,bufferingTime:P,licenseTime:L,liveLatency:M,maxSegmentDuration:N,stateHistory:V,switchHistory:z}},g.addTextTrack=function(e,t,n,o,u,l,d){if(d=d===void 0?!1:d,un("addTextTrack","Please use an addTextTrackAsync."),this.l!=Ln&&this.l!=$n)throw new O(1,7,7004);if(!o){var f=yo(e);if(o=CT[f],!o)throw new O(1,2,2011,f)}if(this.l==$n){if(o!="text/vtt")throw new O(1,2,2013,o);if(d&&(n="forced"),o=document.createElement("track"),o.src=kS(this.P,e),o.label=l||"",o.kind=n,o.srclang=t,this.g.getAttribute("crossorigin")||this.g.setAttribute("crossorigin","anonymous"),this.g.appendChild(o),e=this.vb().find(function(p){return p.language==t&&p.label==(l||"")&&p.kind==n}))return Pn(this),e;throw new O(1,2,2012)}if(f=this.H.presentationTimeline.getDuration(),f==1/0)throw new O(1,4,4033);if(e={id:this.se++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:nc(0,f,[e]),mimeType:o||"",codecs:u||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:l||null,type:Be,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!d,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},!Nu(_i(e.mimeType,e.codecs)))throw new O(2,2,2014,o);return this.H.textStreams.push(e),Pn(this),Du(e)},g.Rf=function(e,t,n,o,u,l,d){d=d===void 0?!1:d;var f=this,p,v,y,T,E,I,P,L,M,N,V;return F(function(z){switch(z.g){case 1:if(f.l!=Ln&&f.l!=$n)throw new O(1,7,7004);if(o){z.D(2);break}return C(z,jS(f,e),3);case 3:o=z.h;case 2:if(p=[],f.G)try{p=f.G.getServerSideCuePoints()}catch{}if(f.l!=$n){z.D(4);break}return d&&(n="forced"),C(z,BS(f,e,t,n,o,l||"",p),5);case 5:if(v=f.vb(),y=v.find(function(j){return j.language==t&&j.label==(l||"")&&j.kind==n}))return Pn(f),z.return(y);throw new O(1,2,2012);case 4:if(T=Qt,E=f.H.presentationTimeline.getDuration(),E==1/0)throw new O(1,4,4033);if(!p.length){z.D(6);break}return C(z,zS(f,e,f.V,f.m.streaming.retryParameters),7);case 7:I=z.h,P=VS(f,I,o,p),L=new Blob([P],{type:"text/vtt"}),e=yp(L),o="text/vtt";case 6:if(M={id:f.se++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:nc(0,E,[e]),mimeType:o||"",codecs:u||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:l||null,type:T.ua,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!!d,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},N=_i(M.mimeType,M.codecs),V=Nu(N),!V)throw new O(2,2,2014,o);return f.H.textStreams.push(M),Pn(f),z.return(Du(M))}})},g.Qf=function(e,t,n){var o=this,u,l,d,f,p,v,y;return F(function(T){switch(T.g){case 1:if(o.l!=Ln&&o.l!=$n)throw new O(1,7,7004);if(n){T.D(2);break}return C(T,jS(o,e),3);case 3:n=T.h;case 2:if(u=[],o.G)try{u=o.G.getServerSideCuePoints()}catch{}return C(T,BS(o,e,t,"chapters",n,"",u),4);case 4:if(l=o.hf(),d=l.find(function(E){return E.language==t})){for(f=fc(o),p=x(f),v=p.next();!v.done;v=p.next())y=v.value,DS(o,y);return T.return(d)}throw new O(1,2,2012)}})};function jS(e,t){var n,o;return F(function(u){switch(u.g){case 1:return n=yo(t),(o=CT[n])?u.return(o):(ae(u,2),C(u,Tx(t,e.V,e.m.streaming.retryParameters),4));case 4:o=u.h,Ae(u,3);break;case 2:ge(u);case 3:if(o)return u.return(o);throw new O(1,2,2011,n)}})}function BS(e,t,n,o,u,l,d){var f,p,v,y;return F(function(T){if(T.g==1)return u!="text/vtt"||d.length?C(T,zS(e,t,e.V,e.m.streaming.retryParameters),3):T.D(2);T.g!=2&&(f=T.h,p=VS(e,f,u,d),v=new Blob([p],{type:"text/vtt"}),t=yp(v),u="text/vtt"),y=document.createElement("track"),y.src=kS(e.P,t),y.label=l,y.kind=o,y.srclang=n,e.g.getAttribute("crossorigin")||e.g.setAttribute("crossorigin","anonymous"),e.g.appendChild(y),Z(T)})}function zS(e,t,n,o){var u,l,d;return F(function(f){if(f.g==1){u=Ki,l=si([t],o),l.method="GET";var p=e.P;try{p.m.enabled&&kp(p,l,{ot:Np,su:!0})}catch(v){oo("CMCD_TEXT_ERROR","Could not generate text CMCD data.",v)}return C(f,n.request(u,l).promise,2)}return d=f.h,f.return(d.data)})}function VS(e,t,n,o){var u=Mt[n];if(u)return n=u(),e={periodStart:0,segmentStart:0,segmentEnd:e.g.duration},t=Re(t),t=n.parseMedia(t,e),QP(t,o);throw new O(2,2,2014,n)}g.Fe=function(e,t){this.oe.width=e,this.oe.height=t},g.we=function(){if(this.l==Ln){var e=this.i;if(e.N.g)e=!1;else if(e.j)e=!1;else{for(var t=x(e.g.values()),n=t.next();!n.done;n=t.next())n=n.value,n.Pc&&(n.Pc=!1,Wn(e,n,.1));e=!0}}else e=!1;return e},g.sg=function(){return je("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.H},g.ug=function(){return this.Eb};function Ts(e){var t=Zu();return t.streaming.failureCallback=function(n){var o=[1001,1002,1003];e.W()&&o.includes(n.code)&&(n.severity=1,e.we())},t.textDisplayFactory=function(){return e.Db?new kn(e.g,e.Db):new _n(e.g)},t}g.Ke=function(e){this.Db=e};function NL(e,t){for(var n=new Set,o=x(t.textStreams),u=o.next();!u.done;u=o.next())u=u.value,u.mimeType!="application/cea-608"&&u.mimeType!="application/cea-708"||n.add(u.originalId);for(o=x(t.variants),u=o.next();!u.done;u=o.next())if((u=u.value.video)&&u.closedCaptions){for(var l=x(u.closedCaptions.keys()),d=l.next();!d.done;d=l.next())if(d=d.value,!n.has(d)){var f=d.startsWith("CC")?"application/cea-608":"application/cea-708",p=new ut;f={id:e.se++,originalId:d,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:p,mimeType:f,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:u.closedCaptions.get(d),label:null,type:Be,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:u.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null},t.textStreams.push(f),n.add(d)}}}function GS(e,t){return F(function(n){if(n.g==1)return C(n,ML(e,t),2);HS(e,t),Z(n)})}function ML(e,t){var n;return F(function(o){if(o.g==1)return n=e.i?e.i.h:null,C(o,sk(n,t),2);eT(t),Z(o)})}function HS(e,t){if(e.l!=ai){for(var n=e.m.restrictions,o=e.oe,u=!1,l=x(t.variants),d=l.next();!d.done;d=l.next()){d=d.value;var f=d.allowedByApplication;d.allowedByApplication=qh(d,n,o),f!=d.allowedByApplication&&(u=!0)}if(u&&e.i&&Pn(e),(n=e.s?e.s.i:null)&&e.s.s){for(o=x(t.variants),u=o.next();!u.done;u=o.next())for(u=u.value,u=x((u.video?u.video.drmInfos:[]).concat(u.audio?u.audio.drmInfos:[])),l=u.next();!l.done;l=u.next())if(l=l.value,l.keySystem==n.keySystem)for(l=x(l.initData||[]),d=l.next();!d.done;d=l.next())d=d.value,Wl(e.s,d.initDataType,d.initData)}ZS(e,t)}}function RL(e,t){var n,o,u,l,d;return F(function(f){return f.g==1?(n=e.audio,o=e.video,u=function(p,v){var y,T;return F(function(E){return E.g==1?p?C(E,p.createSegmentIndex(),2):E.return(null):(y=p.segmentIndex[Symbol.iterator]().seek(v),y?(T=y.startTime,E.return(T)):E.return(null))})},C(f,u(n,t),2)):f.g!=3?(l=f.h,C(f,u(o,t),3)):(d=f.h,d!=null&&l!=null?f.return(Math.max(d,l)):d!=null?f.return(d):l!=null?f.return(l):f.return(t))})}function Up(e){var t=e.Rc();if(e.j&&e.L&&e.I){var n=e.J;n.j=t,hS(n),e.P&&(n=e.P,t||n.g||(n.g=!0),n.g&&t&&(n.i=!0),n.j=t),hc(e)}t=new Map().set("buffering",t),e.dispatchEvent(ht(oT,t))}function KS(e){var t=e.g.playbackRate;t!=0&&(e.J&&e.J.set(t),t=ht(vT),e.dispatchEvent(t))}function hc(e){if(e.j&&e.L){var t=e.j.g;e.L.g==as?dc(t,"buffering"):e.g.paused?dc(t,"paused"):e.g.ended?dc(t,"ended"):dc(t,"playing")}}function Es(e){try{ZS(e,e.H)}catch(n){return Io(e,n),!1}var t=e.H.variants.filter(function(n){return Ou(n)});return t=e.sa.create(t),e.B.setVariants(Array.from(t.values())),!0}function pc(e){var t;(t=Es(e)?e.B.chooseVariant():null)&&gc(e,t,!0,!0,0)}function gc(e,t,n,o,u){var l=e.i.h;if(t==l)o&&vS(e.i,t,o,u,!0);else{var d=e.j.h;d.h!=t&&(d.h=t,d.g.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})),vS(e.i,t,o,u),o=null,l&&(o=go(l)),t=go(t),n?WS(e,o,t):$S(e,o,t)}}function Fp(e,t){var n=Array.from(e.g.audioTracks).find(function(u){return u.enabled});t.enabled=!0,t.id!==n.id&&(n.enabled=!1),n=jl(n);var o=jl(t);$S(e,n,o)}function bL(e,t,n){return e=Pe(e.m.preferredTextLanguage),t=Pe(t.language),n=Pe(n.language),Lh(n,e)&&!Lh(t,n)}function WS(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),t=ht(rT,t),ws(e,t)}function Pn(e){var t=ht(TT);ws(e,t)}function $S(e,t,n){t=new Map().set("oldTrack",t).set("newTrack",n),t=ht(wT,t),ws(e,t)}function mc(e){var t=ht(yT);ws(e,t)}function qS(e){var t=ht(xT);ws(e,t)}function XS(e){var t=new Map().set("newStatus",e.m.abr.enabled);ws(e,ht(iT,t))}function Io(e,t){if(e.l!=ai){var n=ht(vc,new Map().set("detail",t));e.dispatchEvent(n),n.defaultPrevented&&(t.handled=!0)}}function ta(e,t,n){n=new Map().set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}),e.dispatchEvent(ht(t,n))}function jp(e){if(!e.g.error)return null;var t=e.g.error.code;if(t==1)return null;var n=e.g.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new O(2,3,3016,t,n,e.g.error.message)}function YS(e,t){if(e.i){var n=Object.keys(t),o=n.length==1&&n[0]=="00",u=!1;if(n.length){n=x(e.H.variants);for(var l=n.next();!l.done;l=n.next()){l=l.value;var d=[];l.audio&&d.push(l.audio),l.video&&d.push(l.video),d=x(d);for(var f=d.next();!f.done;f=d.next()){var p=f.value;if(f=l.allowedByKeySystem,p.keyIds.size){l.allowedByKeySystem=!0,p=x(p.keyIds);for(var v=p.next();!v.done;v=p.next())v=v.value,v=t[o?"00":v],l.allowedByKeySystem=l.allowedByKeySystem&&!!v&&!IT.includes(v)}f!=l.allowedByKeySystem&&(u=!0)}}}u&&Es(e),(o=e.i.h)&&!o.allowedByKeySystem&&pc(e),u&&Pn(e)}}function QS(e,t,n){e.C&&e.C.onExpirationUpdated&&e.C.onExpirationUpdated(t,n),t=ht(lT),e.dispatchEvent(t)}function JS(e,t,n){0<t&&(e.W()||e.Ff(t)),t=e.getDuration(),n<t&&(e.W()||e.ib(n))}function ZS(e,t){var n=e.s?e.s.qd():{},o=Object.keys(n);o=o.length&&o[0]=="00";for(var u=!1,l=!1,d=new Set,f=new Set,p=x(t.variants),v=p.next();!v.done;v=p.next()){v=v.value;var y=[];v.audio&&y.push(v.audio),v.video&&y.push(v.video),y=x(y);for(var T=y.next();!T.done;T=y.next())if(T=T.value,T.keyIds.size){T=x(T.keyIds);for(var E=T.next();!E.done;E=T.next()){E=E.value;var I=n[o?"00":E];I?IT.includes(I)&&f.add(I):d.add(E)}}v.allowedByApplication?v.allowedByKeySystem&&(u=!0):l=!0}if(!u)throw n={hasAppRestrictions:l,missingKeys:Array.from(d),restrictedKeyStatuses:Array.from(f)},new O(2,4,4012,n)}function eT(e){if(!e.variants.some(Ou))throw new O(2,4,4032)}function ws(e,t){F(function(n){if(n.g==1)return C(n,Promise.resolve(),2);e.l!=ai&&e.dispatchEvent(t),Z(n)})}function tT(e){var t=new Set;e=x(e);for(var n=e.next();!n.done;n=e.next())n=n.value,n.language?t.add(Pe(n.language)):t.add("und");return t}function nT(e){var t=new Map,n=new Map;e=x(e);for(var o=e.next();!o.done;o=e.next()){o=o.value;var u="und",l=[];o.language&&(u=Pe(o.language)),o.type=="variant"?l=o.audioRoles:l=o.roles,l&&l.length||(l=[""]),t.has(u)||t.set(u,new Set),l=x(l);for(var d=l.next();!d.done;d=l.next())d=d.value,t.get(u).add(d),o.label&&(n.has(u)||n.set(u,new Map),n.get(u).set(d,o.label))}var f=[];return t.forEach(function(p,v){for(var y=x(p),T=y.next();!T.done;T=y.next()){T=T.value;var E=null;n.has(v)&&n.get(v).has(T)&&(E=n.get(v).get(T)),f.push({language:v,role:T,label:E})}}),f}function Co(){return new O(2,7,7e3)}function Bp(e,t,n,o,u,l){return o==e&&u.K==l.K&&u.uri==l.uri&&u.mimeType==l.mimeType?t:n}function As(){return{K:null,mimeType:null,startTime:null,Le:NaN,uri:null}}function zp(e){return new Promise(function(t,n){e.Xb=function(){return n(Co())},e.vd=function(){return t()},e.onError=function(o){return n(o)},e.xd=function(){return n(Co())}})}Y("shaka.Player",G),G.prototype.setVideoContainer=G.prototype.Ke,G.prototype.getManifestParserFactory=G.prototype.ug,G.prototype.getManifest=G.prototype.sg,G.prototype.retryStreaming=G.prototype.we,G.prototype.setMaxHardwareResolution=G.prototype.Fe,G.prototype.addChaptersTrack=G.prototype.Qf,G.prototype.addTextTrackAsync=G.prototype.Rf,G.prototype.addTextTrack=G.prototype.addTextTrack,G.prototype.getStats=G.prototype.getStats,G.prototype.getBufferedInfo=G.prototype.Ib,G.prototype.getPresentationStartTimeAsDate=G.prototype.lf,G.prototype.getPlayheadTimeAsDate=G.prototype.yg,G.prototype.setTextTrackVisibility=G.prototype.Je,G.prototype.getChapters=G.prototype.fg,G.prototype.getChaptersTracks=G.prototype.hf,G.prototype.isTextTrackVisible=G.prototype.Vb,G.prototype.selectVariantsByLabel=G.prototype.ih,G.prototype.selectTextLanguage=G.prototype.ze,G.prototype.selectAudioLanguage=G.prototype.Dd,G.prototype.getTextLanguages=G.prototype.Dg,G.prototype.getAudioLanguages=G.prototype.ag,G.prototype.getTextLanguagesAndRoles=G.prototype.Eg,G.prototype.getAudioLanguagesAndRoles=G.prototype.cg,G.prototype.selectVariantTrack=G.prototype.Be,G.prototype.selectTextTrack=G.prototype.Ae,G.prototype.getThumbnails=G.prototype.Fg,G.prototype.getImageTracks=G.prototype.ng,G.prototype.getTextTracks=G.prototype.vb,G.prototype.getVariantTracks=G.prototype.fb,G.prototype.cancelTrickPlay=G.prototype.Ue,G.prototype.trickPlay=G.prototype.Pe,G.prototype.getPlaybackRate=G.prototype.Jb,G.prototype.isBuffering=G.prototype.Rc,G.prototype.getKeyStatuses=G.prototype.qd,G.prototype.getExpiration=G.prototype.Lc,G.prototype.drmInfo=G.prototype.drmInfo,G.prototype.keySystem=G.prototype.keySystem,G.prototype.goToLive=G.prototype.Jg,G.prototype.seekRange=G.prototype.Na,G.prototype.isAudioOnly=G.prototype.pf,G.prototype.isInProgress=G.prototype.Tb,G.prototype.isLive=G.prototype.W,G.prototype.getAdManager=G.prototype.od,G.prototype.getAssetUri=G.prototype.Yd,G.prototype.getNetworkingEngine=G.prototype.Mc,G.prototype.getMediaElement=G.prototype.wg,G.prototype.getLoadMode=G.prototype.kf,G.prototype.resetConfiguration=G.prototype.gh,G.prototype.getBufferFullness=G.prototype.dg,G.prototype.getConfiguration=G.prototype.getConfiguration,G.prototype.configure=G.prototype.configure,G.prototype.load=G.prototype.load,G.prototype.updateStartTime=G.prototype.vh,G.prototype.unload=G.prototype.Qe,G.prototype.detach=G.prototype.detach,G.prototype.attach=G.prototype.Hc,G.probeSupport=function(e){e=e===void 0?!0:e;var t,n,o,u,l,d;return F(function(f){if(f.g==1)return t={},e?C(f,Ok(),3):f.D(2);f.g!=2&&(t=f.h);var p={};if(oi()){for(var v in Kn)p[v]=!0;for(var y in xo)p[y]=!0}v={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"},y=x(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var T=y.next();!T.done;T=y.next())T=T.value,p[T]=oi()?!!Kn[T]:os(T);for(var E in v)p[E]=oi()?!!xo[E]:os(v[E]);for(n=p,p={},E=x('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),v=E.next();!v.done;v=E.next())v=v.value,p[v]=oi()?Nu(v)?!0:MediaSource.isTypeSupported(v)||I1(v):os(v),y=v.split(";")[0],p[y]=p[y]||p[v];o=p,u={manifest:n,media:o,drm:t},l=$p;for(d in l)u[d]=l[d]();return f.return(u)})},G.isBrowserSupported=MS,G.setAdManagerFactory=function(e){xc=e},G.registerSupportPlugin=function(e,t){$p[e]=t},G.prototype.destroy=G.prototype.destroy;var iT="abrstatuschanged",rT="adaptation",oT="buffering",sT="downloadfailed",uT="downloadheadersreceived",Vp="drmsessionupdate",aT="emsg",vc="error",lT="expirationupdated",cT="loaded",dT="loading",fT="manifestparsed",hT="mediaqualitychanged",pT="metadata",gT="onstatechange",mT="onstateidle",vT="ratechange",Gp="streaming",yT="textchanged",xT="texttrackvisibility",ST="timelineregionadded",Hp="timelineregionenter",Kp="timelineregionexit",TT="trackschanged",ET="unloading",wT="variantchanged",yc={Ch:iT,Dh:rT,Eh:oT,Ih:sT,Jh:uT,Kh:Vp,Rh:aT,Error:vc,Sh:lT,Yh:"largegap",Zh:cT,$h:dT,di:fT,ei:hT,Metadata:pT,li:gT,mi:mT,xi:vT,Ei:"sessiondata",Fi:Gp,Gi:yT,Hi:xT,Ii:ST,Ji:Hp,Ki:Kp,Li:TT,Pi:ET,Ri:wT},ai=0,Wp=1,Ln=2,$n=3;G.LoadMode={DESTROYED:ai,NOT_LOADED:Wp,MEDIA_SOURCE:Ln,SRC_EQUALS:$n},G.version="v3.3.2";var AT=["3","3"];a1=new function(e){this.g=e,this.i=V_,this.h=G_}(new kh(Number(AT[0]),Number(AT[1])));var IT=["output-restricted","internal-error"],$p={},xc=null,qp={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"},CT={sbv:"text/x-subviewer",srt:"text/srt",vtt:"text/vtt",webvtt:"text/vtt",ttml:"application/ttml+xml",lrc:"application/x-subtitle-lrc",ssa:"text/x-ssa",ass:"text/x-ssa"};function _T(){this.h=[],this.j=this.i=this.g=0}function Ie(e,t){var n=this;this.i=e,this.g=t,this.j=!1,this.l=this.g.getVolume(),this.h=new Ue,this.h.o(this.g,google.ima.AdEvent.Type.PAUSED,function(){n.j=!0}),this.h.o(this.g,google.ima.AdEvent.Type.RESUMED,function(){n.j=!1})}g=Ie.prototype,g.getDuration=function(){return this.i.getDuration()},g.getMinSuggestedDuration=function(){return this.i.getMinSuggestedDuration()},g.getRemainingTime=function(){return this.g.getRemainingTime()},g.isPaused=function(){return this.j},g.isSkippable=function(){return 0<=this.i.getSkipTimeOffset()},g.getTimeUntilSkippable=function(){var e=this.i.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},g.canSkipNow=function(){return this.g.getAdSkippableState()},g.skip=function(){return this.g.skip()},g.pause=function(){return this.g.pause()},g.play=function(){return this.g.resume()},g.getVolume=function(){return this.g.getVolume()},g.setVolume=function(e){return this.g.setVolume(e)},g.isMuted=function(){return this.g.getVolume()==0},g.isLinear=function(){return this.i.isLinear()},g.resize=function(e,t){this.g.resize(e,t,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},g.setMuted=function(e){e?(this.l=this.getVolume(),this.setVolume(0)):this.setVolume(this.l)},g.getSequenceLength=function(){var e=this.i.getAdPodInfo();return e==null?1:e.getTotalAds()},g.getPositionInSequence=function(){var e=this.i.getAdPodInfo();return e==null?1:e.getAdPosition()},g.release=function(){this.g=this.i=null},Y("shaka.ads.ClientSideAd",Ie),Ie.prototype.release=Ie.prototype.release,Ie.prototype.getPositionInSequence=Ie.prototype.getPositionInSequence,Ie.prototype.getSequenceLength=Ie.prototype.getSequenceLength,Ie.prototype.setMuted=Ie.prototype.setMuted,Ie.prototype.resize=Ie.prototype.resize,Ie.prototype.isLinear=Ie.prototype.isLinear,Ie.prototype.isMuted=Ie.prototype.isMuted,Ie.prototype.setVolume=Ie.prototype.setVolume,Ie.prototype.getVolume=Ie.prototype.getVolume,Ie.prototype.play=Ie.prototype.play,Ie.prototype.pause=Ie.prototype.pause,Ie.prototype.skip=Ie.prototype.skip,Ie.prototype.canSkipNow=Ie.prototype.canSkipNow,Ie.prototype.getTimeUntilSkippable=Ie.prototype.getTimeUntilSkippable,Ie.prototype.isSkippable=Ie.prototype.isSkippable,Ie.prototype.isPaused=Ie.prototype.isPaused,Ie.prototype.getRemainingTime=Ie.prototype.getRemainingTime,Ie.prototype.getMinSuggestedDuration=Ie.prototype.getMinSuggestedDuration,Ie.prototype.getDuration=Ie.prototype.getDuration;function Xp(e,t,n,o){var u=this;this.B=e,this.g=t,this.C=null,this.G=NaN,this.j=o,this.s=null,this.h=new Ue,google.ima.settings.setLocale(n),e=new google.ima.AdDisplayContainer(this.B,this.g),e.initialize(),this.l=new google.ima.AdsLoader(e),this.l.getSettings().setPlayerType("shaka-player"),this.l.getSettings().setPlayerVersion("v3.3.2"),this.i=null,this.h.Qa(this.l,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(l){DL(u,l)}),this.h.o(this.l,google.ima.AdErrorEvent.Type.AD_ERROR,function(l){kT(u,l)}),this.g.onended=function(){u.l.contentComplete()}}Xp.prototype.stop=function(){this.i&&this.i.stop(),this.B&&xs(this.B)},Xp.prototype.release=function(){this.stop(),this.C&&this.C.disconnect(),this.h&&this.h.release(),this.i&&this.i.destroy(),this.l.destroy()};function kT(e,t){t.getError(),Sc(e,null),e.j(new oe("ad-cue-points-changed",new Map().set("cuepoints",[])))}function DL(e,t){e.j(new oe("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.G))),e.i=t.getAdsManager(e.g),e.j(new oe("ima-ad-manager-loaded",new Map().set("imaAdManager",e.i)));var n=e.i.getCuePoints();if(n.length){var o=[];n=x(n);for(var u=n.next();!u.done;u=n.next())o.push({start:u.value,end:null});e.j(new oe("ad-cue-points-changed",new Map().set("cuepoints",o)))}OL(e);try{e.i.init(e.g.offsetWidth,e.g.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.h.o(e.g,"loadeddata",function(){e.i.resize(e.g.offsetWidth,e.g.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),"ResizeObserver"in c&&(e.C=new ResizeObserver(function(){e.i.resize(e.g.offsetWidth,e.g.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),e.C.observe(e.g)),e.i.start()}catch{Sc(e,null)}}function OL(e){function t(n,o){var u=new Map().set("originalEvent",n);e.j(new oe(o,u))}e.h.o(e.i,google.ima.AdErrorEvent.Type.AD_ERROR,function(n){kT(e,n)}),e.h.o(e.i,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(n){PT(e,n)}),e.h.o(e.i,google.ima.AdEvent.Type.STARTED,function(n){PT(e,n)}),e.h.o(e.i,google.ima.AdEvent.Type.FIRST_QUARTILE,function(n){t(n,"ad-first-quartile")}),e.h.o(e.i,google.ima.AdEvent.Type.MIDPOINT,function(n){t(n,"ad-midpoint")}),e.h.o(e.i,google.ima.AdEvent.Type.THIRD_QUARTILE,function(n){t(n,"ad-third-quartile")}),e.h.o(e.i,google.ima.AdEvent.Type.COMPLETE,function(n){t(n,"ad-complete")}),e.h.o(e.i,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(n){Sc(e,n)}),e.h.o(e.i,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){Sc(e,n)}),e.h.o(e.i,google.ima.AdEvent.Type.SKIPPED,function(n){t(n,"ad-skipped")}),e.h.o(e.i,google.ima.AdEvent.Type.VOLUME_CHANGED,function(n){t(n,"ad-volume-changed")}),e.h.o(e.i,google.ima.AdEvent.Type.VOLUME_MUTED,function(n){t(n,"ad-muted")}),e.h.o(e.i,google.ima.AdEvent.Type.PAUSED,function(n){e.s.j=!0,t(n,"ad-paused")}),e.h.o(e.i,google.ima.AdEvent.Type.RESUMED,function(n){e.s.j=!1,t(n,"ad-resumed")}),e.h.o(e.i,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(n){t(n,"ad-skip-state-changed")}),e.h.o(e.i,google.ima.AdEvent.Type.CLICK,function(n){t(n,"ad-clicked")}),e.h.o(e.i,google.ima.AdEvent.Type.AD_PROGRESS,function(n){t(n,"ad-progress")}),e.h.o(e.i,google.ima.AdEvent.Type.AD_BUFFERING,function(n){t(n,"ad-buffering")}),e.h.o(e.i,google.ima.AdEvent.Type.IMPRESSION,function(n){t(n,"ad-impression")}),e.h.o(e.i,google.ima.AdEvent.Type.DURATION_CHANGE,function(n){t(n,"ad-duration-changed")}),e.h.o(e.i,google.ima.AdEvent.Type.USER_CLOSE,function(n){t(n,"ad-closed")}),e.h.o(e.i,google.ima.AdEvent.Type.LOADED,function(n){t(n,"ad-loaded")}),e.h.o(e.i,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(n){t(n,"all-ads-completed")}),e.h.o(e.i,google.ima.AdEvent.Type.LINEAR_CHANGED,function(n){t(n,"ad-linear-changed")}),e.h.o(e.i,google.ima.AdEvent.Type.AD_METADATA,function(n){t(n,"ad-metadata")}),e.h.o(e.i,google.ima.AdEvent.Type.LOG,function(n){t(n,"ad-recoverable-error")}),e.h.o(e.i,google.ima.AdEvent.Type.AD_BREAK_READY,function(n){t(n,"ad-break-ready")}),e.h.o(e.i,google.ima.AdEvent.Type.INTERACTION,function(n){t(n,"ad-interaction")})}function PT(e,t){var n=t.getAd();e.s=new Ie(n,e.i),n=new Map().set("ad",e.s).set("sdkAdObject",n).set("originalEvent",t),e.j(new oe("ad-started",n)),e.s.isLinear()&&(e.B.setAttribute("ad-active","true"),e.g.pause())}function Sc(e,t){e.j(new oe("ad-stopped",new Map().set("originalEvent",t))),e.s.isLinear()&&(e.B.removeAttribute("ad-active"),e.g.play())}function Ce(e,t){this.i=e,this.h=null,this.g=t}g=Ce.prototype,g.getDuration=function(){return this.h?this.h.duration:-1},g.getMinSuggestedDuration=function(){return this.getDuration()},g.getRemainingTime=function(){return this.h?this.h.duration-this.h.currentTime:-1},g.isPaused=function(){return this.g.paused},g.isSkippable=function(){return this.i.isSkippable()},g.getTimeUntilSkippable=function(){var e=this.i.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},g.canSkipNow=function(){return this.getTimeUntilSkippable()==0},g.skip=function(){this.g.currentTime+=this.getRemainingTime()},g.pause=function(){return this.g.pause()},g.play=function(){return this.g.play()},g.getVolume=function(){return this.g.volume},g.setVolume=function(e){this.g.volume=e},g.isMuted=function(){return this.g.muted},g.isLinear=function(){return!0},g.resize=function(){},g.setMuted=function(e){this.g.muted=e},g.getSequenceLength=function(){var e=this.i.getAdPodInfo();return e==null?1:e.getTotalAds()},g.getPositionInSequence=function(){var e=this.i.getAdPodInfo();return e==null?1:e.getAdPosition()},g.release=function(){this.g=this.h=this.i=null},Y("shaka.ads.ServerSideAd",Ce),Ce.prototype.release=Ce.prototype.release,Ce.prototype.getPositionInSequence=Ce.prototype.getPositionInSequence,Ce.prototype.getSequenceLength=Ce.prototype.getSequenceLength,Ce.prototype.setMuted=Ce.prototype.setMuted,Ce.prototype.resize=Ce.prototype.resize,Ce.prototype.isLinear=Ce.prototype.isLinear,Ce.prototype.isMuted=Ce.prototype.isMuted,Ce.prototype.setVolume=Ce.prototype.setVolume,Ce.prototype.getVolume=Ce.prototype.getVolume,Ce.prototype.play=Ce.prototype.play,Ce.prototype.pause=Ce.prototype.pause,Ce.prototype.skip=Ce.prototype.skip,Ce.prototype.canSkipNow=Ce.prototype.canSkipNow,Ce.prototype.getTimeUntilSkippable=Ce.prototype.getTimeUntilSkippable,Ce.prototype.isSkippable=Ce.prototype.isSkippable,Ce.prototype.isPaused=Ce.prototype.isPaused,Ce.prototype.getRemainingTime=Ce.prototype.getRemainingTime,Ce.prototype.getMinSuggestedDuration=Ce.prototype.getMinSuggestedDuration,Ce.prototype.getDuration=Ce.prototype.getDuration;function Tc(e,t,n,o){var u=this;this.C=e,this.g=t,this.l=null,this.M=NaN,this.j=o,this.L=!1,this.G=this.s=this.B=null,this.I="",this.J=[],this.h=new Ue,e=new google.ima.dai.api.UiSettings,e.setLocale(n),this.i=new google.ima.dai.api.StreamManager(this.g,this.C,e),this.j(new oe("ima-stream-manager-loaded",new Map().set("imaStreamManager",this.i))),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.LOADED,function(l){UL(u,l)}),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.ERROR,function(){u.I.length?u.l.resolve(u.I):u.l.reject("IMA Stream request returned an error and there was no backup asset uri provided."),u.l=null}),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){}),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.STARTED,function(l){l=l.getAd(),u.s=new Ce(l,u.g),u.G&&(u.s.h=u.G),u.j(new oe("ad-started",new Map().set("ad",u.s))),u.C.setAttribute("ad-active","true")}),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){u.C.removeAttribute("ad-active");var l=u.g.currentTime;u.B&&u.B>l&&(u.g.currentTime=u.B,u.B=null)}),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,function(l){u.G=l.getStreamData().adProgressData,u.s&&(u.s.h=u.G)}),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){u.j(new oe("ad-first-quartile"))}),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){u.j(new oe("ad-midpoint"))}),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){u.j(new oe("ad-third-quartile"))}),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){u.j(new oe("ad-complete")),u.j(new oe("ad-stopped")),u.C.removeAttribute("ad-active"),u.s=null}),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){u.j(new oe("ad-skipped")),u.j(new oe("ad-stopped"))}),this.h.o(this.i,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(l){var d=l.getStreamData();l=[],d=x(d.cuepoints);for(var f=d.next();!f.done;f=d.next())f=f.value,l.push({start:f.start,end:f.end});u.J=l,u.j(new oe("ad-cue-points-changed",new Map().set("cuepoints",l)))})}Tc.prototype.stop=function(){this.I="",this.B=null,this.J=[]},Tc.prototype.release=function(){this.stop(),this.h&&this.h.release()},Tc.prototype.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.i.onTimedMetadata(t)}};function UL(e,t){e.j(new oe("ads-loaded",new Map().set("loadTime",Date.now()/1e3-e.M)));var n=t.getStreamData().url;e.l.resolve(n),e.l=null,e.L||e.h.o(e.g,"seeked",function(){var o=e.g.currentTime;if(o!=0){e.i.streamTimeForContentTime(o);var u=e.i.previousCuePointForStreamTime(o);u&&!u.played&&(e.B=o,e.g.currentTime=u.start)}})}function de(){Se.call(this),this.g=this.h=null,this.j=new _T,this.i=navigator.language}K(de,Se),g=de.prototype,g.setLocale=function(e){this.i=e},g.initClientSide=function(e,t){var n=this;if(!c.google||!google.ima||!google.ima.AdsLoader)throw new O(2,10,1e4);this.h&&this.h.release(),this.h=new Xp(e,t,this.i,function(o){if(o&&o.type)switch(o.type){case"ads-loaded":n.j.h.push(o.loadTime);break;case"ad-started":n.j.g++;break;case"ad-complete":n.j.i++;break;case"ad-skipped":n.j.j++}n.dispatchEvent(o)})},g.release=function(){this.h&&(this.h.release(),this.h=null),this.g&&(this.g.release(),this.g=null),Se.prototype.release.call(this)},g.onAssetUnload=function(){this.h&&this.h.stop(),this.g&&this.g.stop(),this.dispatchEvent(new oe("ad-stopped")),this.j=new _T},g.requestClientSideAds=function(e){if(!this.h)throw new O(1,10,10001);var t=this.h;t.G=Date.now()/1e3,t.l.requestAds(e)},g.initServerSide=function(e,t){var n=this;if(!c.google||!google.ima||!google.ima.dai)throw new O(2,10,10002);this.g&&this.g.release(),this.g=new Tc(e,t,this.i,function(o){if(o&&o.type)switch(o.type){case"ads-loaded":n.j.h.push(o.loadTime);break;case"ad-started":n.j.g++;break;case"ad-complete":n.j.i++;break;case"ad-skipped":n.j.j++}n.dispatchEvent(o)})},g.requestServerSideStream=function(e,t){if(t=t===void 0?"":t,!this.g)throw new O(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;(n.mpt||n.mpv)&&je('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="shaka-player",e.adTagParameters.mpv="v3.3.2",n=this.g;var o=t;return n.l?n=Promise.reject(new O(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.L=!0),n.l=new Ke,n.i.requestStream(e),n.I=o||"",n.M=Date.now()/1e3,n=n.l),n},g.replaceServerSideAdTagParameters=function(e){if(!this.g)throw new O(1,10,10003);(e.mpt||e.mpv)&&je('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v3.3.2",this.g.i.replaceAdTagParameters(e)},g.getServerSideCuePoints=function(){if(!this.g)throw new O(1,10,10003);return this.g.J},g.getStats=function(){var e=this.j;return{loadTimes:e.h,started:e.g,playedCompletely:e.i,skipped:e.j}},g.onDashTimedMetadata=function(e){if(this.g&&e.schemeIdUri=="urn:google:dai:2018"){var t=e.schemeIdUri,n=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.g.i.processMetadata(t,n,e.startTime)}},g.onHlsTimedMetadata=function(e,t){this.g&&this.g.i.processMetadata("ID3",e.data,t)},g.onCueMetadataChange=function(e){this.g&&this.g.onCueMetadataChange(e)},Y("shaka.ads.AdManager",de),de.prototype.onCueMetadataChange=de.prototype.onCueMetadataChange,de.prototype.onHlsTimedMetadata=de.prototype.onHlsTimedMetadata,de.prototype.onDashTimedMetadata=de.prototype.onDashTimedMetadata,de.prototype.getStats=de.prototype.getStats,de.prototype.getServerSideCuePoints=de.prototype.getServerSideCuePoints,de.prototype.replaceServerSideAdTagParameters=de.prototype.replaceServerSideAdTagParameters,de.prototype.requestServerSideStream=de.prototype.requestServerSideStream,de.prototype.initServerSide=de.prototype.initServerSide,de.prototype.requestClientSideAds=de.prototype.requestClientSideAds,de.prototype.onAssetUnload=de.prototype.onAssetUnload,de.prototype.release=de.prototype.release,de.prototype.initClientSide=de.prototype.initClientSide,de.prototype.setLocale=de.prototype.setLocale,de.ADS_LOADED="ads-loaded",de.AD_STARTED="ad-started",de.AD_FIRST_QUARTILE="ad-first-quartile",de.AD_MIDPOINT="ad-midpoint",de.AD_THIRD_QUARTILE="ad-third-quartile",de.AD_COMPLETE="ad-complete",de.AD_STOPPED="ad-stopped",de.AD_SKIPPED="ad-skipped",de.AD_VOLUME_CHANGED="ad-volume-changed",de.AD_MUTED="ad-muted",de.AD_PAUSED="ad-paused",de.AD_RESUMED="ad-resumed",de.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",de.CUEPOINTS_CHANGED="ad-cue-points-changed",de.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",de.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",de.AD_CLICKED="ad-clicked",de.AD_PROGRESS="ad-progress",de.AD_BUFFERING="ad-buffering",de.AD_IMPRESSION="ad-impression",de.AD_DURATION_CHANGED="ad-duration-changed",de.AD_CLOSED="ad-closed",de.AD_LOADED="ad-loaded",de.ALL_ADS_COMPLETED="all-ads-completed",de.AD_LINEAR_CHANGED="ad-linear-changed",de.AD_METADATA="ad-metadata",de.AD_RECOVERABLE_ERROR="ad-recoverable-error",de.AD_BREAK_READY="ad-break-ready",de.AD_INTERACTION="ad-interaction",xc=function(){return new de};function LT(e){return JSON.stringify(e,function(t,n){if(typeof n!="function"){if(n instanceof Event||n instanceof oe){var o={};for(l in n){var u=n[l];u&&typeof u=="object"?l=="detail"&&(o[l]=u):l in Event||(o[l]=u)}return o}if(n instanceof Error){var l=new Set(["name","message","stack"]);for(o in n)l.add(o);for(u=x(Object.getOwnPropertyNames(n)),o=u.next();!o.done;o=u.next())l.add(o.value);for(u={},l=x(l),o=l.next();!o.done;o=l.next())o=o.value,u[o]=n[o];l={__type__:"Error",contents:u}}else if(n instanceof TimeRanges)for(l={__type__:"TimeRanges",length:n.length,start:[],end:[]},o=x(Ir(n)),u=o.next();!u.done;u=o.next()){u=u.value;var d=u.end;l.start.push(u.start),l.end.push(d)}else l=n instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(n)}:typeof n=="number"?isNaN(n)?"NaN":isFinite(n)?n:0>n?"-Infinity":"Infinity":n;return l}})}function Yp(e){return JSON.parse(e,function(t,n){if(n=="NaN")var o=NaN;else if(n=="-Infinity")o=-1/0;else if(n=="Infinity")o=1/0;else if(n&&typeof n=="object"&&n.__type__=="TimeRanges")o=FL(n);else if(n&&typeof n=="object"&&n.__type__=="Uint8Array")o=new Uint8Array(n.entries);else if(n&&typeof n=="object"&&n.__type__=="Error"){o=n.contents;var u=Error(o.message),l;for(l in o)u[l]=o[l];o=u}else o=n;return o})}function FL(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}var NT="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),jL="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Qp=["loop","playbackRate"],BL=["pause","play"],Ec={getAssetUri:2,getAudioLanguages:4,getAudioLanguagesAndRoles:4,getBufferFullness:1,getBufferedInfo:2,getConfiguration:4,getExpiration:2,getKeyStatuses:2,getPlaybackRate:2,getTextLanguages:4,getTextLanguagesAndRoles:4,getTextTracks:2,getStats:5,getVariantTracks:2,getImageTracks:2,getThumbnails:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},Jp={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},MT=[["getConfiguration","configure"]],RT=[["isTextTrackVisible","setTextTrackVisibility"]],zL="addChaptersTrack addTextTrack addTextTrackAsync cancelTrickPlay configure getChapters getChaptersTracks resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay updateStartTime goToLive".split(" "),VL=["attach","detach","load","unload"];function Zp(e,t,n,o,u,l){var d=this;this.M=e,this.j=new fe(t),this.$=n,this.G=!1,this.C=o,this.L=u,this.S=l,this.h=this.s=!1,this.ea="",this.B=null,this.I=function(){return t0(d)},this.J=function(f,p){var v=Yp(p);switch(v.type){case"event":var y=v.targetName;v=n1(v.event),d.C(y,v);break;case"update":y=v.update;for(var T in y){v=d.g[T]||{};for(var E in y[T])v[E]=y[T][E]}d.G&&(d.$(),d.G=!1);break;case"asyncComplete":if(T=v.id,v=v.error,E=d.i[T],delete d.i[T],E)if(v){T=new O(v.severity,v.category,v.code);for(y in v)T[y]=v[y];E.reject(T)}else E.resolve()}},this.g={video:{},player:{}},this.P=0,this.i={},this.l=null,ia.add(this)}g=Zp.prototype,g.destroy=function(){return ia.delete(this),n0(this),qn&&OT(this),this.j&&(this.j.stop(),this.j=null),this.L=this.C=null,this.h=this.s=!1,this.J=this.I=this.l=this.i=this.g=this.B=null,Promise.resolve()},g.xa=function(){return this.h},g.Bd=function(){return this.ea},g.init=function(){if(this.M.length)if(c.chrome&&chrome.cast&&chrome.cast.isAvailable){this.s=!0,this.j.Ga();var e=new chrome.cast.SessionRequest(this.M);e=new chrome.cast.ApiConfig(e,function(t){for(var n=x(ia),o=n.next();!o.done;o=n.next())DT(o.value,t)},function(t){for(var n=x(ia),o=n.next();!o.done;o=n.next())o=o.value,wc=t=="available",o.j.Ga()},"origin_scoped"),chrome.cast.initialize(e,function(){},function(){}),wc&&this.j.U(HL),(e=qn)&&e.status!=chrome.cast.SessionStatus.STOPPED?DT(this,e):qn=null}else c.__onGCastApiAvailable||(c.__onGCastApiAvailable=UT),c.__onGCastApiAvailable!=UT&&je("A global Cast SDK hook is already installed! Shaka Player will be unable to receive a notification when the Cast SDK is ready.")},g.Ce=function(e){this.B=e,this.h&&na(this,{type:"appData",appData:this.B})},g.cast=function(e){var t=this;return F(function(n){if(!t.s)throw new O(1,8,8e3);if(!wc)throw new O(1,8,8001);if(t.h)throw new O(1,8,8002);return t.l=new Ke,chrome.cast.requestSession(function(o){return e0(t,e,o)},function(o){return bT(t,o)}),C(n,t.l,0)})};function GL(e){if(e.h){var t=e.S();chrome.cast.requestSession(function(n){return e0(e,t,n)},function(n){return bT(e,n)})}}g.ic=function(){if(this.h){if(n0(this),qn){OT(this);try{qn.stop(function(){},function(){})}catch{}qn=null}t0(this)}},g.get=function(e,t){var n=this;if(e=="video"){if(BL.includes(t))return function(o){for(var u=[],l=0;l<arguments.length;++l)u[l]=arguments[l];return n.xf.apply(n,[e,t].concat(b(u)))}}else if(e=="player"){if(Jp[t]&&!this.get("player","isLive")())return function(){};if(zL.includes(t))return function(o){for(var u=[],l=0;l<arguments.length;++l)u[l]=arguments[l];return n.xf.apply(n,[e,t].concat(b(u)))};if(VL.includes(t))return function(o){for(var u=[],l=0;l<arguments.length;++l)u[l]=arguments[l];return n.dh.apply(n,[e,t].concat(b(u)))};if(Ec[t])return function(){return n.g[e][t]}}return this.g[e][t]},g.set=function(e,t,n){this.g[e][t]=n,na(this,{type:"set",targetName:e,property:t,value:n})};function e0(e,t,n){qn=n,n.addUpdateListener(e.I),n.addMessageListener("urn:x-cast:com.google.shaka.v2",e.J),t0(e),na(e,{type:"init",initState:t,appData:e.B}),e.l.resolve()}function bT(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.l.reject(new O(2,8,n,t))}g.xf=function(e,t,n){for(var o=[],u=2;u<arguments.length;++u)o[u-2]=arguments[u];na(this,{type:"call",targetName:e,methodName:t,args:o})},g.dh=function(e,t,n){for(var o=[],u=2;u<arguments.length;++u)o[u-2]=arguments[u];u=new Ke;var l=this.P.toString();this.P++,this.i[l]=u;try{na(this,{type:"asyncCall",targetName:e,methodName:t,args:o,id:l})}catch(d){u.reject(d)}return u};function DT(e,t){var n=e.S();e.l=new Ke,e.G=!0,e0(e,n,t)}function OT(e){var t=qn;t.removeUpdateListener(e.I),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.J)}function t0(e){var t=qn?qn.status=="connected":!1;if(e.h&&!t){e.L();for(var n in e.g)e.g[n]={};n0(e)}e.h=t,e.ea=t?qn.receiver.friendlyName:"",e.j.Ga()}function n0(e){for(var t in e.i){var n=e.i[t];delete e.i[t],n.reject(new O(1,7,7e3))}}function na(e,t){var n=LT(t),o=qn;try{o.sendMessage("urn:x-cast:com.google.shaka.v2",n,function(){},R_)}catch(u){throw n=new O(2,8,8005,u),o=new oe("error",new Map().set("detail",n)),e.C("player",o),e.ic(),n}}var HL=.02,wc=!1,qn=null,ia=new Set;function UT(e){if(e){e=x(ia);for(var t=e.next();!t.done;t=e.next())t.value.init()}}function it(e,t,n){Se.call(this);var o=this;this.j=e,this.i=t,this.h=this.B=this.l=this.C=this.s=null,this.I=n,this.G=new Map,this.g=new Zp(n,function(){return jT(o)},function(){return BT(o)},function(u,l){return VT(o,u,l)},function(){return zT(o)},function(){return i0(o)}),KL(this)}K(it,Se),g=it.prototype,g.destroy=function(e){return e&&this.g.ic(),this.h&&(this.h.release(),this.h=null),e=[],this.i&&(e.push(this.i.destroy()),this.i=null),this.g&&(e.push(this.g.destroy()),this.g=null),this.C=this.s=this.j=null,Se.prototype.release.call(this),Promise.all(e)},g.Kb=function(){return this.s},g.lc=function(){return this.C},g.Te=function(){return this.g.s&&wc},g.xa=function(){return this.g.xa()},g.Bd=function(){return this.g.Bd()},g.cast=function(){var e=this,t;return F(function(n){return n.g==1?(t=i0(e),C(n,e.g.cast(t),2)):e.i?C(n,e.i.Qe(),0):n.return()})},g.Ce=function(e){this.g.Ce(e)},g.Hf=function(){GL(this.g)},g.ic=function(){this.g.ic()},g.Xe=function(e){var t=this;return F(function(n){if(n.g==1)return e==t.I?n.return():(t.I=e,t.g.ic(),C(n,t.g.destroy(),2));t.g=null,t.g=new Zp(e,function(){return jT(t)},function(){return BT(t)},function(o,u){return VT(t,o,u)},function(){return zT(t)},function(){return i0(t)}),t.g.init(),Z(n)})};function KL(e){e.g.init(),e.h=new Ue;for(var t=x(NT),n=t.next();!n.done;n=t.next())e.h.o(e.j,n.value,function(l){e.g.xa()||(l=n1(l),e.l.dispatchEvent(l))});for(var o in yc)e.h.o(e.i,yc[o],function(l){e.g.xa()||e.B.dispatchEvent(l)});e.s={},t={};for(var u in e.j)t.zc=u,Object.defineProperty(e.s,t.zc,{configurable:!1,enumerable:!0,get:function(l){return function(){return $L(e,l.zc)}}(t),set:function(l){return function(d){var f=l.zc;e.g.xa()?e.g.set("video",f,d):e.j[f]=d}}(t)}),t={zc:t.zc};e.C={},FT(e,function(l){Object.defineProperty(e.C,l,{configurable:!1,enumerable:!0,get:function(){return qL(e,l)}})}),WL(e),e.l=new Se,e.l.hd=e.s,e.B=new Se,e.B.hd=e.C}function WL(e){var t=new Map;FT(e,function(n,o){if(t.has(o)){var u=t.get(o);n.length<u.length?e.G.set(n,u):e.G.set(u,n)}else t.set(o,n)})}function FT(e,t){function n(v){return v=="constructor"||typeof o[v]!="function"?!1:!u.has(v)}var o=e.i,u=new Set;for(l in o)n(l)&&(u.add(l),t(l,o[l]));for(var l=Object.getPrototypeOf(o),d=Object.getPrototypeOf({});l&&l!=d;){for(var f=x(Object.getOwnPropertyNames(l)),p=f.next();!p.done;p=f.next())p=p.value,n(p)&&(u.add(p),t(p,o[p]));l=Object.getPrototypeOf(l)}}function i0(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.i.Yd(),startTime:null};e.j.pause();for(var n=x(Qp),o=n.next();!o.done;o=n.next())o=o.value,t.video[o]=e.j[o];for(e.j.ended||(t.startTime=e.j.currentTime),n=x(MT),o=n.next();!o.done;o=n.next()){var u=o.value;o=u[1],u=e.i[u[0]](),t.player[o]=u}for(n=x(RT),o=n.next();!o.done;o=n.next())u=o.value,o=u[1],u=e.i[u[0]](),t.playerAfterLoad[o]=u;return t}function jT(e){var t=new oe("caststatuschanged");e.dispatchEvent(t)}function BT(e){var t=new oe(e.s.paused?"pause":"play");e.l.dispatchEvent(t)}function zT(e){for(var t=x(MT),n=t.next();!n.done;n=t.next()){var o=n.value;n=o[1],o=e.g.get("player",o[0])(),e.i[n](o)}var u=e.g.get("player","getAssetUri")();n=e.g.get("video","ended"),t=Promise.resolve();var l=e.j.autoplay;o=null,n||(o=e.g.get("video","currentTime")),u&&(e.j.autoplay=!1,t=e.i.load(u,o));var d={};for(n=x(Qp),o=n.next();!o.done;o=n.next())o=o.value,d[o]=e.g.get("video",o);t.then(function(){if(e.j){for(var f=x(Qp),p=f.next();!p.done;p=f.next())p=p.value,e.j[p]=d[p];for(f=x(RT),p=f.next();!p.done;p=f.next()){var v=p.value;p=v[1],v=e.g.get("player",v[0])(),e.i[p](v)}e.j.autoplay=l,u&&e.j.play()}},function(f){f=new Map().set("detail",f),f=new oe(vc,f),e.i.dispatchEvent(f)})}function $L(e,t){if(t=="addEventListener")return function(o,u,l){return e.l.addEventListener(o,u,l)};if(t=="removeEventListener")return function(o,u,l){return e.l.removeEventListener(o,u,l)};if(e.g.xa()&&Object.keys(e.g.g.video).length==0){var n=e.j[t];if(typeof n!="function")return n}return e.g.xa()?e.g.get("video",t):(n=e.j[t],typeof n=="function"&&(n=n.bind(e.j)),n)}function qL(e,t){if(e.G.has(t)&&(t=e.G.get(t)),t=="addEventListener")return function(n,o,u){return e.B.addEventListener(n,o,u)};if(t=="removeEventListener")return function(n,o,u){return e.B.removeEventListener(n,o,u)};if(t=="getMediaElement")return function(){return e.s};if(t=="getSharedConfiguration")return e.g.get("player","getConfiguration");if(t=="getNetworkingEngine")return function(){return e.i.Mc()};if(t=="getDrmEngine")return function(){return e.i.s};if(t=="getAdManager")return function(){return e.i.od()};if(t=="setVideoContainer")return function(n){return e.i.Ke(n)};if(e.g.xa()){if(t=="getManifest"||t=="drmInfo")return function(){return je(t+"() does not work while casting!"),null};if(t=="attach"||t=="detach")return function(){return je(t+"() does not work while casting!"),Promise.resolve()}}return e.g.xa()&&Object.keys(e.g.g.video).length==0&&Ec[t]||!e.g.xa()?e.i[t].bind(e.i):e.g.get("player",t)}function VT(e,t,n){e.g.xa()&&(t=="video"?e.l.dispatchEvent(n):t=="player"&&e.B.dispatchEvent(n))}Y("shaka.cast.CastProxy",it),it.prototype.changeReceiverId=it.prototype.Xe,it.prototype.forceDisconnect=it.prototype.ic,it.prototype.suggestDisconnect=it.prototype.Hf,it.prototype.setAppData=it.prototype.Ce,it.prototype.cast=it.prototype.cast,it.prototype.receiverName=it.prototype.Bd,it.prototype.isCasting=it.prototype.xa,it.prototype.canCast=it.prototype.Te,it.prototype.getPlayer=it.prototype.lc,it.prototype.getVideo=it.prototype.Kb,it.prototype.destroy=it.prototype.destroy;function Rt(e,t,n,o){Se.call(this);var u=this;this.g=e,this.i=t,this.h=new Ue,this.P={video:e,player:t},this.J=n||function(){},this.S=o||function(l){return l},this.j=null,this.L=!1,this.B=!0,this.s=0,this.I=!1,this.G=!0,this.C=this.l=null,this.M=new fe(function(){r0(u)}),XL(this)}K(Rt,Se),g=Rt.prototype,g.isConnected=function(){return this.L},g.Mg=function(){return this.B},g.lh=function(e){this.j=e},g.Xf=function(){this.j=null},g.mh=function(e){this.j||(this.j={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.j.title=e},g.kh=function(e){this.j||(this.j={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.j.images=[{url:e}]},g.jh=function(e){this.j||(this.j={}),this.j.artist=e,this.j.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},g.destroy=function(){var e=this,t,n;return F(function(o){if(o.g==1)return e.h&&(e.h.release(),e.h=null),t=[],e.i&&(t.push(e.i.destroy()),e.i=null),e.M&&(e.M.stop(),e.M=null),e.g=null,e.P=null,e.J=null,e.L=!1,e.B=!0,e.l=null,e.C=null,Se.prototype.release.call(e),C(o,Promise.all(t),2);n=cast.receiver.CastReceiverManager.getInstance(),n.stop(),Z(o)})};function XL(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return GT(e)},t.onSenderDisconnected=function(){return GT(e)},t.onSystemVolumeChanged=function(){var u=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();u&&Cr(e,{type:"update",update:{video:{volume:u.level,muted:u.muted}}},e.l),Cr(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.l)},e.C=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.C.onMessage=function(u){return JL(e,u)},e.l=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.l.onMessage=function(u){return QL(e,u)},t.start(),t=x(NT);for(var n=t.next();!n.done;n=t.next())e.h.o(e.g,n.value,function(u){return HT(e,"video",u)});for(var o in yc)e.h.o(e.i,yc[o],function(u){return HT(e,"player",u)});cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.i.Fe(3840,2160):e.i.Fe(1920,1080),e.h.o(e.g,"loadeddata",function(){e.I=!0}),e.h.o(e.i,"loading",function(){e.B=!1,Is(e)}),e.h.o(e.g,"playing",function(){e.B=!1,Is(e)}),e.h.o(e.g,"pause",function(){Is(e)}),e.h.o(e.i,"unloading",function(){e.B=!0,Is(e)}),e.h.o(e.g,"ended",function(){new fe(function(){e.g&&e.g.ended&&(e.B=!0,Is(e))}).U(eN)})}function GT(e){e.s=0,e.G=!0,e.L=cast.receiver.CastReceiverManager.getInstance().getSenders().length!=0,Is(e)}function Is(e){var t;F(function(n){if(n.g==1)return C(n,Promise.resolve(),2);if(!e.i)return n.return();t=new oe("caststatuschanged"),e.dispatchEvent(t),KT(e)||Xi(e),Z(n)})}function YL(e,t,n){var o,u,l,d,f,p,v,y,T,E,I;F(function(P){switch(P.g){case 1:for(o in t.player)u=t.player[o],e.i[o](u);return e.J(n),l=e.g.autoplay,t.manifest?(e.g.autoplay=!1,ae(P,5),C(P,e.i.load(t.manifest,t.startTime),7)):C(P,Promise.resolve(),3);case 7:Ae(P,3);break;case 5:return d=ge(P),f=vc,p=new Map().set("detail",d),v=new oe(f,p),e.i&&e.i.dispatchEvent(v),P.return();case 3:if(!e.i)return P.return();for(y in t.video)T=t.video[y],e.g[y]=T;for(E in t.playerAfterLoad)I=t.playerAfterLoad[E],e.i[E](I);e.g.autoplay=l,t.manifest&&(e.g.play(),Xi(e)),Z(P)}})}function HT(e,t,n){e.i&&(r0(e),Cr(e,{type:"event",targetName:t,event:n},e.l))}function r0(e){e.M.U(ZL);for(var t={video:{},player:{}},n=x(jL),o=n.next();!o.done;o=n.next())o=o.value,t.video[o]=e.g[o];if(e.i.W())for(var u in Jp)e.s%Jp[u]==0&&(t.player[u]=e.i[u]());for(var l in Ec)e.s%Ec[l]==0&&(t.player[l]=e.i[l]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),e.I&&(e.s+=1),Cr(e,{type:"update",update:t},e.l),KT(e)}function KT(e){return e.G&&(e.g.duration||e.i.W())?(o0(e),e.G=!1,!0):!1}function o0(e,t){var n={contentId:e.i.Yd(),streamType:e.i.W()?"LIVE":"BUFFERED",contentType:""};e.i.W()||(n.duration=e.g.duration),e.j&&(n.metadata=e.j),Xi(e,t===void 0?0:t,n)}function QL(e,t){var n=Yp(t.data);switch(n.type){case"init":e.s=0,e.I=!1,e.G=!0,YL(e,n.initState,n.appData),r0(e);break;case"appData":e.J(n.appData);break;case"set":var o=n.targetName,u=n.property;if(n=n.value,o=="video"){var l=cast.receiver.CastReceiverManager.getInstance();if(u=="volume"){l.setSystemVolumeLevel(n);break}else if(u=="muted"){l.setSystemVolumeMuted(n);break}}e.P[o][u]=n;break;case"call":o=e.P[n.targetName],o[n.methodName].apply(o,n.args);break;case"asyncCall":o=n.targetName,u=n.methodName,o=="player"&&u=="load"&&(e.s=0,e.I=!1);var d=n.id,f=t.senderId;l=e.P[o],n=l[u].apply(l,n.args),o=="player"&&u=="load"&&(n=n.then(function(){e.G=!0})),n.then(function(){return WT(e,f,d,null)},function(p){return WT(e,f,d,p)})}}function JL(e,t){var n=Yp(t.data);switch(n.type){case"PLAY":e.g.play(),Xi(e);break;case"PAUSE":e.g.pause(),Xi(e);break;case"SEEK":var o=n.currentTime,u=n.resumeState;o!=null&&(e.g.currentTime=Number(o)),u&&u=="PLAYBACK_START"?(e.g.play(),Xi(e)):u&&u=="PLAYBACK_PAUSE"&&(e.g.pause(),Xi(e));break;case"STOP":e.i.Qe().then(function(){e.i&&Xi(e)});break;case"GET_STATUS":o0(e,Number(n.requestId));break;case"VOLUME":u=n.volume,o=u.level,u=u.muted;var l=e.g.volume,d=e.g.muted;o!=null&&(e.g.volume=Number(o)),u!=null&&(e.g.muted=u),l==e.g.volume&&d==e.g.muted||Xi(e);break;case"LOAD":e.s=0,e.I=!1,e.G=!1,o=n.media,u=n.currentTime,l=e.S(o.contentId),d=n.autoplay||!0,e.J(o.customData),d&&(e.g.autoplay=!0),e.i.load(l,u).then(function(){e.i&&o0(e)}).catch(function(f){var p="LOAD_FAILED";f.category==7&&f.code==7e3&&(p="LOAD_CANCELLED"),Cr(e,{requestId:Number(n.requestId),type:p},e.C)});break;default:Cr(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.C)}}function WT(e,t,n,o){e.i&&Cr(e,{type:"asyncComplete",id:n,error:o},e.l,t)}function Cr(e,t,n,o){e.L&&(e=LT(t),o?n.getCastChannel(o).send(e):n.broadcast(e))}function Xi(e,t,n){n=n===void 0?null:n;var o={mediaSessionId:0,playbackRate:e.g.playbackRate,playerState:e.B?tN:e.i.Rc()?iN:e.g.paused?rN:nN,currentTime:e.g.currentTime,supportedMediaCommands:63,volume:{level:e.g.volume,muted:e.g.muted}};n&&(o.media=n),Cr(e,{requestId:t===void 0?0:t,type:"MEDIA_STATUS",status:[o]},e.C)}Y("shaka.cast.CastReceiver",Rt),Rt.prototype.destroy=Rt.prototype.destroy,Rt.prototype.setContentArtist=Rt.prototype.jh,Rt.prototype.setContentImage=Rt.prototype.kh,Rt.prototype.setContentTitle=Rt.prototype.mh,Rt.prototype.clearContentMetadata=Rt.prototype.Xf,Rt.prototype.setContentMetadata=Rt.prototype.lh,Rt.prototype.isIdle=Rt.prototype.Mg,Rt.prototype.isConnected=Rt.prototype.isConnected;var ZL=.5,eN=5,tN="IDLE",nN="PLAYING",iN="BUFFERING",rN="PAUSED";function $T(e){var t=this;this.g=[],this.h=[],this.data=[],new Ve().box("moov",nt).Z("pssh",function(n){if(!(1<n.version)){var o=Re(n.reader.X,-12,n.size);if(t.data.push(o),t.g.push(ku(n.reader.Lb(16))),0<n.version){o=n.reader.T(),o=x(zn(o));for(var u=o.next();!u.done;u=o.next())u=ku(n.reader.Lb(16)),t.h.push(u)}}}).parse(e)}function qT(e,t){var n=e.length,o=t.length+16+n,u=new Uint8Array(o),l=pn(u),d=0;return l.setUint32(d,o),d+=4,l.setUint32(d,1886614376),d+=4,l.setUint32(d,0),d+=4,u.set(t,d),d+=t.length,l.setUint32(d,n),u.set(e,d+4),u}function oN(e){if(!e)return e;var t=new $T(e);if(1>=t.data.length)return e;e=[];var n={};t=x(t.data);for(var o=t.next();!o.done;n={cd:n.cd},o=t.next())n.cd=o.value,e.some(function(u){return function(l){return Ai(l,u.cd)}}(n))||e.push(n.cd);return Pu.apply(Ci,b(e))}function Ac(e,t){var n=rt(e,t);return n.length!=1?null:n[0]}function s0(e,t,n){return e=XT(e,t,n),e.length!=1?null:e[0]}function rt(e,t){return Array.from(e.childNodes).filter(function(n){return n instanceof Element&&n.tagName==t})}function sN(e){return Array.from(e.childNodes).filter(function(t){return t instanceof Element})}function XT(e,t,n){return Array.from(e.childNodes).filter(function(o){return o instanceof Element&&o.localName==n&&o.namespaceURI==t})}function _o(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function Yi(e,t,n){t=x(t);for(var o=t.next();!o.done;o=t.next())if(o=o.value,e.hasAttributeNS(o,n))return e.getAttributeNS(o,n);return null}function Ic(e){return Array.from(e.childNodes).every(YT)?e.textContent.trim():null}function YT(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}function $e(e,t,n,o){o=o===void 0?null:o;var u=null;return e=e.getAttribute(t),e!=null&&(u=n(e)),u??o}function uN(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null}function Qi(e){return!e||(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e),!e)?null:(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null)}function Cc(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return!t||(e=Number(t[1]),!isFinite(e))?null:(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null)}function aN(e){return e=Number(e),e%1===0?e:null}function _c(e){return e=Number(e),e%1===0&&0<e?e:null}function Pi(e){return e=Number(e),e%1===0&&0<=e?e:null}function ra(e){return e=Number(e),isNaN(e)?null:e}function lN(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e}function u0(e,t){var n=new DOMParser,o=null;try{o=n.parseFromString(e,"text/xml")}catch{return null}return n=o.documentElement,!n||n.getElementsByTagName("parsererror").length||o.documentElement.tagName!=t?null:n}function QT(e,t){try{var n=Gt(e);return u0(n,t)}catch{return null}}function JT(e,t,n){var o=pN(e),u=null;e=[];var l=[],d=new Set(o.map(function(f){return f.keyId}));if(d.delete(null),1<d.size)throw new O(2,4,4010);if(t||(l=o.filter(function(f){return f.Af=="urn:mpeg:dash:mp4protection:2011"?(u=f.init||u,!1):!0}),l.length&&(e=hN(u,l,n),e.length==0&&(e=[Su("",u)]))),o.length&&(t||!l.length))for(e=[],t=x(Object.values(n)),n=t.next();!n.done;n=t.next())n=n.value,n!="org.w3.clearkey"&&e.push(Su(n,u));if(d=Array.from(d)[0]||null)for(t=x(e),n=t.next();!n.done;n=t.next())for(n=x(n.value.initData),o=n.next();!o.done;o=n.next())o.value.keyId=d;return{bf:d,Si:u,drmInfos:e,gf:!0}}function cN(e,t,n,o){var u=JT(e,n,o);if(t.gf)e=t.drmInfos.length==1&&!t.drmInfos[0].keySystem,n=u.drmInfos.length==0,(t.drmInfos.length==0||e&&!n)&&(t.drmInfos=u.drmInfos),t.gf=!1;else if(0<u.drmInfos.length&&(t.drmInfos=t.drmInfos.filter(function(l){return u.drmInfos.some(function(d){return d.keySystem==l.keySystem})}),t.drmInfos.length==0))throw new O(2,4,4008);return u.bf||t.bf}function dN(e){var t=0,n=pn(e),o=n.getUint32(t,!0);if(o!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){o=n.getUint16(e,!0),e+=2;var u=n.getUint16(e,!0);if(e+=2,u&1||u+e>n.byteLength){n=[];break e}var l=Re(n,e,u);t.push({type:o,value:l}),e+=u}n=t}return n}function fN(e){e=x(e.getElementsByTagName("DATA"));for(var t=e.next();!t.done;t=e.next()){t=x(t.value.childNodes);for(var n=t.next();!n.done;n=t.next())if(n=n.value,n instanceof Element&&n.tagName=="LA_URL")return n.textContent}return""}function kc(e){return e=s0(e.node,"urn:microsoft:playready","pro"),!e||(e=Ar(e.textContent),e=dN(e).filter(function(t){return t.type===mN})[0],!e)?"":(e=wr(e.value,!0),(e=u0(e,"WRMHEADER"))?fN(e):"")}function hN(e,t,n){var o=[];t=x(t);for(var u=t.next();!u.done;u=t.next()){u=u.value;var l=n[u.Af];if(l){var d;if(d=s0(u.node,"urn:microsoft:playready","pro")){d=Ar(d.textContent);var f=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);d=[{initData:qT(d,f),initDataType:"cenc",keyId:u.keyId}]}else d=null;d=Su(l,u.init||e||d),(l=vN.get(l))&&(d.licenseServerUri=l(u)),o.push(d)}}return o}function pN(e){var t=[];e=x(e);for(var n=e.next();!n.done;n=e.next())(n=gN(n.value))&&t.push(n);return t}function gN(e){var t=e.getAttribute("schemeIdUri"),n=_o(e,"urn:mpeg:cenc:2013","default_KID"),o=XT(e,"urn:mpeg:cenc:2013","pssh").map(Ic);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new O(2,4,4009);var u=[];try{u=o.map(function(l){return{initDataType:"cenc",initData:Ar(l),keyId:null}})}catch{throw new O(2,4,4007)}return{node:e,Af:t,keyId:n,init:0<u.length?u:null}}var mN=1,vN=new Map().set("com.widevine.alpha",function(e){return(e=s0(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""}).set("com.microsoft.playready",kc).set("com.microsoft.playready.recommendation",kc).set("com.microsoft.playready.software",kc).set("com.microsoft.playready.hardware",kc);function Pc(e,t,n,o,u){var l={RepresentationID:t,Number:n,Bandwidth:o,Time:u};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(d,f,p,v){if(d=="$$")return"$";var y=l[f];if(y==null)return d;switch(f=="RepresentationID"&&p&&(p=void 0),f=="Time"&&(y=Math.round(y)),v){case void 0:case"d":case"i":case"u":d=y.toString();break;case"o":d=y.toString(8);break;case"x":d=y.toString(16);break;case"X":d=y.toString(16).toUpperCase();break;default:d=y.toString()}return p=c.parseInt(p,10)||1,Array(Math.max(0,p-d.length)+1).join("0")+d})}function ZT(e,t){var n=Li(e,t,"timescale"),o=1;n&&(o=_c(n)||1);var u=Li(e,t,"duration");n=_c(u||""),e.O.contentType=="image"&&(n=ra(u||"")),n&&(n/=o);var l=Li(e,t,"startNumber");u=Number(Li(e,t,"presentationTimeOffset"))||0;var d=Pi(l||"");(l==null||d==null)&&(d=1);var f=Lc(e,t,"SegmentTimeline");if(l=null,f){l=o;var p=e.ba.duration||1/0,v=rt(f,"S");f=[];var y=-u;v=x(sn(v));for(var T=v.next();!T.done;T=v.next()){T=T.value;var E=T.item,I=T.next,P=$e(E,"t",Pi);T=$e(E,"d",Pi);var L=$e(E,"r",aN);if(P!=null&&(P-=u),!T)break;if(E=P??y,P=L||0,0>P)if(I){if(I=$e(I,"t",Pi),I==null)break;if(E>=I)break;P=Math.ceil((I-E)/T)-1}else{if(p==1/0)break;if(E/l>=p)break;P=Math.ceil((p*l-E)/T)-1}for(0<f.length&&E!=y&&(f[f.length-1].end=E/l),I=x(zn(P+1)),P=I.next();!P.done;P=I.next())y=E+T,f.push({start:E/l,end:y/l,sh:E}),E=y}l=f}return{timescale:o,Fa:n,yc:d,xb:u/o||0,Re:u,timeline:l}}function Li(e,t,n){return[t(e.O),t(e.Ha),t(e.ya)].filter(Sr).map(function(o){return o.getAttribute(n)}).reduce(function(o,u){return o||u})}function Lc(e,t,n){return[t(e.O),t(e.Ha),t(e.ya)].filter(Sr).map(function(o){return Ac(o,n)}).reduce(function(o,u){return o||u})}function yN(e,t,n,o,u,l){for(var d=_o(e,"http://www.w3.org/1999/xlink","href"),f=_o(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",p=x(Array.from(e.attributes)),v=p.next();!v.done;v=p.next())v=v.value,v.namespaceURI=="http://www.w3.org/1999/xlink"&&e.removeAttributeNS(v.namespaceURI,v.localName);if(5<=l)return mo(new O(2,4,4028));if(f!="onLoad")return mo(new O(2,4,4027));var y=Vt([o],[d]);return u.request(0,si(y,t)).va(function(T){if(T=QT(T.data,e.tagName),!T)return mo(new O(2,4,4001,d));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;T.childNodes.length;){var E=T.childNodes[0];T.removeChild(E),e.appendChild(E)}for(T=x(Array.from(T.attributes)),E=T.next();!E.done;E=T.next())e.setAttributeNode(E.value.cloneNode(!1));return Nc(e,t,n,y[0],u,l+1)})}function Nc(e,t,n,o,u,l){if(l=l===void 0?0:l,_o(e,"http://www.w3.org/1999/xlink","href")){var d=yN(e,t,n,o,u,l);return n&&(d=d.va(void 0,function(){return Nc(e,t,n,o,u,l)})),d}d=[];for(var f=x(Array.from(e.childNodes)),p=f.next();!p.done;p=f.next())p=p.value,p instanceof Element&&(_o(p,"http://www.w3.org/1999/xlink","href")=="urn:mpeg:dash:resolve-to-zero:2013"?e.removeChild(p):p.tagName!="SegmentTimeline"&&d.push(Nc(p,t,n,o,u,l)));return ex(d).va(function(){return e})}function xN(e,t,n,o,u,l,d){var f,p=new Ve().Z("sidx",function(v){f=SN(t,o,u,l,d,n,v)});if(e&&p.parse(e),f)return f;throw new O(2,3,3004)}function SN(e,t,n,o,u,l,d){var f=[];d.reader.skip(4);var p=d.reader.T();if(p==0)throw new O(2,3,3005);if(d.version==0)var v=d.reader.T(),y=d.reader.T();else v=d.reader.xc(),y=d.reader.xc();d.reader.skip(2);var T=d.reader.wc();for(e=e+d.size+y,T=x(zn(T)),y=T.next();!y.done;y=T.next()){var E=d.reader.T();y=(E&2147483648)>>>31,E&=2147483647;var I=d.reader.T();if(d.reader.skip(4),y==1)throw new O(2,3,3006);f.push(new tt(v/p+n,(v+I)/p+n,function(){return l},e,e+E-1,t,n,o,u)),v+=I,e+=E}return d.parser.stop(),f}function _r(e){this.h=pn(e),this.g=new be(this.h,0)}_r.prototype.Ia=function(){return this.g.Ia()};function Ji(e){var t=eE(e);if(7<t.length)throw new O(2,3,3002);var n=0;t=x(t);for(var o=t.next();!o.done;o=t.next())n=256*n+o.value;t=eE(e);e:{o=x(TN);for(var u=o.next();!u.done;u=o.next())if(Ai(t,new Uint8Array(u.value))){o=!0;break e}o=!1}if(o)t=e.h.byteLength-e.g.qa();else{if(t.length==8&&t[1]&224)throw new O(2,3,3001);o=0,u=x(sn(t));for(var l=u.next();!l.done;l=u.next()){l=l.value;var d=l.item;o=l.wa==0?d&(1<<8-t.length)-1:256*o+d}t=o}return t=e.g.qa()+t<=e.h.byteLength?t:e.h.byteLength-e.g.qa(),o=pn(e.h,e.g.qa(),t),e.g.skip(t),new EN(n,o)}function eE(e){var t=e.g.qa(),n=e.g.ra();if(n==0)throw new O(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.g.skip(n-1),Re(e.h,t,n)}var TN=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function EN(e,t){this.id=e,this.g=t}function a0(e){if(8<e.g.byteLength)throw new O(2,3,3002);if(e.g.byteLength==8&&e.g.getUint8(0)&224)throw new O(2,3,3001);for(var t=0,n=x(zn(e.g.byteLength)),o=n.next();!o.done;o=n.next())o=e.g.getUint8(o.value),t=256*t+o;return t}function wN(e,t,n,o,u,l,d,f,p){function v(){return u}var y=[];e=new _r(e.g);for(var T=null,E=null;e.Ia();){var I=Ji(e);if(I.id==187){var P=AN(I);P&&(I=n*P.uh,P=t+P.bh,T!=null&&y.push(new tt(T+d,I+d,v,E,P-1,l,d,f,p)),T=I,E=P)}}return T!=null&&y.push(new tt(T+d,o+d,v,E,null,l,d,f,p)),y}function AN(e){var t=new _r(e.g);if(e=Ji(t),e.id!=179)throw new O(2,3,3013);if(e=a0(e),t=Ji(t),t.id!=183)throw new O(2,3,3012);t=new _r(t.g);for(var n=0;t.Ia();){var o=Ji(t);if(o.id==241){n=a0(o);break}}return{uh:e,bh:n}}function tE(e,t){var n=Lc(e,t,"Initialization");if(!n)return null;var o=e.O.Va,u=n.getAttribute("sourceURL");u&&(o=Vt(e.O.Va,[u])),u=0;var l=null;return(n=$e(n,"range",Cc))&&(u=n.start,l=n.end),new gn(function(){return o},u,l,oE(e))}function IN(e,t){var n=Number(Li(e,Cs,"presentationTimeOffset"))||0,o=Li(e,Cs,"timescale"),u=1;o&&(u=_c(o)||1);var l=n/u||0,d=tE(e,Cs);CN(e,d);var f=tx(e);return{jc:function(){var p=Lc(f,Cs,"RepresentationIndex"),v=f.O.Va;return p&&(p=p.getAttribute("sourceURL"))&&(v=Vt(f.O.Va,[p])),p=iE(f),nE(f,t,d,v,p.start,p.end,l)}}}function nE(e,t,n,o,u,l,d){var f,p,v,y,T,E,I,P,L,M,N,V,z,j,H;return F(function(q){if(q.g==1)return f=e.presentationTimeline,p=!e.Fb||!e.ba.rf,v=e.ba.start,y=e.ba.duration,T=e.O.mimeType.split("/")[1],E=t,I=null,P=[E(o,u,l),T=="webm"?E(n.Ma(),n.Ka,n.Da):null],E=null,C(q,Promise.all(P),2);if(L=q.h,M=L[0],N=L[1]||null,V=null,z=v-d,j=v,H=y?v+y:1/0,T=="mp4")var Q=xN(M,u,o,n,z,j,H);else{if(Q=new _r(N),Ji(Q).id!=440786851)throw new O(2,3,3008);var te=Ji(Q);if(te.id!=408125543)throw new O(2,3,3009);Q=te.g.byteOffset,te=new _r(te.g);for(var J=null;te.Ia();){var ue=Ji(te);if(ue.id==357149030){J=ue;break}}if(!J)throw new O(2,3,3010);for(J=new _r(J.g),ue=1e6,te=null;J.Ia();){var ve=Ji(J);if(ve.id==2807729)ue=a0(ve);else if(ve.id==17545)if(ve.g.byteLength==4)te=ve.g.getFloat32(0);else if(ve.g.byteLength==8)te=ve.g.getFloat64(0);else throw new O(2,3,3003)}if(te==null)throw new O(2,3,3011);if(J=ue/1e9,te*=J,ue=Ji(new _r(M)),ue.id!=475249515)throw new O(2,3,3007);Q=wN(ue,Q,J,te,o,n,z,j,H)}return V=Q,f.tc(V),I=new Le(V),p&&I.Hb(j,H,!0),q.return(I)})}function Cs(e){return e.Xc}function iE(e){var t=Lc(e,Cs,"RepresentationIndex");return e=Li(e,Cs,"indexRange"),e=Cc(e||""),t&&(e=$e(t,"range",Cc,e)),e}function CN(e,t){if(rE(e,t),!iE(e))throw new O(2,4,4002)}function rE(e,t){var n=e.O.mimeType.split("/")[1];if(e.O.contentType!=Be&&n!="mp4"&&n!="webm")throw new O(2,4,4006);if(n=="webm"&&!t)throw new O(2,4,4005)}function oE(e){var t=e.O;return{bandwidth:e.bandwidth,audioSamplingRate:t.audioSamplingRate,codecs:t.codecs,contentType:t.contentType,frameRate:t.frameRate||null,height:t.height||null,mimeType:t.mimeType,channelsCount:t.ud,pixelAspectRatio:t.pixelAspectRatio||null,width:t.width||null}}function _N(e,t){var n=tE(e,sE),o=kN(e);if(!o.Fa&&!o.timeline&&1<o.qc.length)throw new O(2,4,4002);if(!o.Fa&&!e.ba.duration&&!o.timeline&&o.qc.length==1)throw new O(2,4,4002);if(o.timeline&&o.timeline.length==0)throw new O(2,4,4002);var u=null,l=null;e.ya.id&&e.O.id&&(l=t[e.ya.id+","+e.O.id])&&(u=l.segmentIndex);var d=PN(e.ba.start,e.ba.duration,e.O.Va,o,n);return n=!u,u?u.sc(d,e.presentationTimeline.ub()):u=new Le(d),e.presentationTimeline.tc(d),e.Fb&&e.ba.rf||u.Hb(e.ba.start,e.ba.duration?e.ba.start+e.ba.duration:1/0,n),l&&(l.segmentIndex=u),{jc:function(){return u&&u.R.length!=0||u.rc(d),Promise.resolve(u)}}}function sE(e){return e.Mb}function kN(e){var t=LN(e);e=ZT(e,sE);var n=e.yc;n==0&&(n=1);var o=0;return e.Fa?o=e.Fa*(n-1):e.timeline&&0<e.timeline.length&&(o=e.timeline[0].start),{Fa:e.Fa,startTime:o,yc:n,xb:e.xb,timeline:e.timeline,qc:t}}function PN(e,t,n,o,u){var l=o.qc.length;o.timeline&&o.timeline.length!=o.qc.length&&(l=Math.min(o.timeline.length,o.qc.length));var d=e-o.xb,f=t?e+t:1/0,p=[],v=o.startTime,y={};l=x(zn(l));for(var T=l.next();!T.done;y={Nd:y.Nd},T=l.next()){T=T.value;var E=o.qc[T];y.Nd=Vt(n,[E.Sg]);var I=void 0;I=o.Fa!=null?v+o.Fa:o.timeline?o.timeline[T].end:v+t,p.push(new tt(e+v,e+I,function(P){return function(){return P.Nd}}(y),E.start,E.end,u,d,e,f)),v=I}return p}function LN(e){return[e.O.Mb,e.Ha.Mb,e.ya.Mb].filter(Sr).map(function(t){return rt(t,"SegmentURL")}).reduce(function(t,n){return 0<t.length?t:n}).map(function(t){t.getAttribute("indexRange")&&!e.nf&&(e.nf=!0);var n=t.getAttribute("media");return t=$e(t,"mediaRange",Cc,{start:0,end:null}),{Sg:n,start:t.start,end:t.end}})}function NN(e,t,n,o,u,l){var d=ON(e),f=MN(e);RN(f);var p=tx(e);if(f.Qc)return rE(e,d),{jc:function(){var I=Pc(f.Qc,p.O.id,null,p.bandwidth||null,null);return I=Vt(p.O.Va,[I]),nE(p,t,d,I,0,null,f.xb)}};if(f.Fa)return o||(e.presentationTimeline.le(f.Fa),e.presentationTimeline.me(e.ba.start)),{jc:function(){return bN(p,f,u,d,l)}};var v=null;o=o=null,e.ya.id&&e.O.id&&(o=e.ya.id+","+e.O.id,o=n[o])&&(v=o.segmentIndex);var y=DN(p,f,d);n=e.ba.start;var T=e.ba.duration?e.ba.start+e.ba.duration:1/0,E=T!=1/0;return v?(E&&new Le(y).Hb(n,T,!0),v.sc(y,e.presentationTimeline.ub())):v=new Le(y),e.presentationTimeline.tc(y),E&&v.Hb(n,T),o&&e.Fb&&(o.segmentIndex=v),{jc:function(){return v&&v.R.length!=0||v.rc(y),Promise.resolve(v)}}}function Mc(e){return e.Yc}function MN(e){var t=ZT(e,Mc),n=Li(e,Mc,"media");return e=Li(e,Mc,"index"),{Fa:t.Fa,timescale:t.timescale,yc:t.yc,xb:t.xb,Re:t.Re,timeline:t.timeline,je:n,Qc:e}}function RN(e){var t=e.Qc?1:0;if(t+=e.timeline?1:0,t+=e.Fa?1:0,t==0)throw new O(2,4,4002);if(t!=1&&(e.Qc&&(e.timeline=null),e.Fa=null),!e.Qc&&!e.je)throw new O(2,4,4002)}function bN(e,t,n,o,u){function l(J){var ue=(J-I)*E,ve=ue+t.xb,ye=ue+v;ue=ye+E;var _e=Math.min(ue,f());return ye=new tt(ye,_e,function(){var Ee=Pc(L,N,J,M,ve*P);return Vt(V,[Ee])},0,null,o,z,v,f()),ye.l=ue,ye}function d(){var J=[Math.max(p.ub(),v),Math.min(p.Qb(),f())].map(function(ue){return ue-v});return[Math.ceil(J[0]/E),Math.ceil(J[1]/E)-1].map(function(ue){return ue+I})}function f(){var J=y!=null&&u[y]||T;return J?v+J:1/0}var p=e.presentationTimeline,v=e.ba.start,y=e.ya.id,T=e.ba.duration,E=t.Fa,I=t.yc,P=t.timescale,L=t.je,M=e.bandwidth||null,N=e.O.id,V=e.O.Va,z=v-t.xb,j=d();e=e.Fb?Math.max(j[0],j[1]-n+1):j[0],j=j[1],n=[];for(var H=e;H<=j;++H){var q=l(H);n.push(q)}var Q=new Le(n);if(n=p.Qb()<f(),H=p.W(),n||H){var te=Math.max(e,j+1);Q.Ed(E,function(){var J=p.ub();Q.Ob(J);var ue=x(d());ue.next(),ue=ue.next().value;for(var ve=[];te<=ue;){var ye=l(te);ve.push(ye),te++}return J>f()&&!ve.length?null:ve})}return Promise.resolve(Q)}function DN(e,t,n){var o=e.ba.start,u=e.ba.duration,l=o-t.xb;u=u?o+u:1/0;for(var d=[],f={},p=x(sn(t.timeline)),v=p.next();!v.done;f={Md:f.Md,Qd:f.Qd,Td:f.Td,Jd:f.Jd,Vd:f.Vd,Kd:f.Kd},v=p.next()){v=v.value;var y=v.item,T=y.start,E=y.sh;y=y.end,f.Td=v.wa+t.yc,f.Vd=E+t.Re,f.Qd=e.O.id,f.Jd=e.bandwidth||null,f.Md=t.je,f.Kd=e.O.Va,d.push(new tt(o+T,o+y,function(I){return function(){var P=Pc(I.Md,I.Qd,I.Td,I.Jd||null,I.Vd);return Vt(I.Kd,[P]).map(function(L){return L.toString()})}}(f),0,null,n,l,o,u))}return d}function ON(e){var t=Li(e,Mc,"initialization");if(!t)return null;var n=e.O.id,o=e.bandwidth||null,u=e.O.Va;return new gn(function(){var l=Pc(t,n,null,o,null);return Vt(u,[l])},0,null,oE(e))}function uE(){this.l=[],this.g=[],this.h=[],this.j=[],this.i=[],this.s=new Set}uE.prototype.release=function(){for(var e=x(this.g.concat(this.h,this.j,this.i)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();this.g=[],this.h=[],this.j=[],this.i=[],this.l=[]};function UN(e,t,n){var o,u,l,d,f,p,v,y,T,E,I,P,L,M,N,V,z,j,H,q,Q,te,J,ue,ve,ye,_e,Ee,Fe,at,De,$t,or;return F(function(Ft){switch(Ft.g){case 1:if(o=Qt,FN(t),BN(t),jN(t),zN(t),!n&&t.length==1){u=t[0],e.g=u.kd,e.h=u.Gd,e.j=u.textStreams,e.i=u.imageStreams,Ft.D(2);break}for(l=-1,d=x(sn(t)),f=d.next();!f.done;f=d.next())p=f.value,v=p.wa,y=p.item,e.s.has(y.id)||(e.s.add(y.id),l==-1&&(l=v));if(l==-1)return Ft.return();for(T=t.map(function(vn){return vn.kd}),E=t.map(function(vn){return vn.Gd}),I=t.map(function(vn){return vn.textStreams}),P=t.map(function(vn){return vn.imageStreams}),L=x(I),M=L.next();!M.done;M=L.next())N=M.value,N.push(pE(o.ua));for(V=x(P),z=V.next();!z.done;z=V.next())j=z.value,j.push(pE(o.Gc));return C(Ft,kr(e.g,T,l,oa,_s),3);case 3:return C(Ft,kr(e.h,E,l,oa,_s),4);case 4:return C(Ft,kr(e.j,I,l,oa,_s),5);case 5:return C(Ft,kr(e.i,P,l,oa,_s),2);case 2:if(H=0,q=[],e.h.length&&e.g.length)for(ye=x(e.g),_e=ye.next();!_e.done;_e=ye.next())for(Ee=_e.value,Fe=x(e.h),at=Fe.next();!at.done;at=Fe.next())De=at.value,$t=$l(Ee.drmInfos,De.drmInfos),Ee.drmInfos.length&&De.drmInfos.length&&!$t.length||(or=H++,q.push({id:or,language:Ee.language,primary:Ee.primary,audio:Ee,video:De,bandwidth:(Ee.bandwidth||0)+(De.bandwidth||0),drmInfos:$t,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(Q=e.h.concat(e.g),te=x(Q),J=te.next();!J.done;J=te.next())ue=J.value,ve=H++,q.push({id:ve,language:ue.language,primary:ue.primary,audio:ue.type==o.Nb?ue:null,video:ue.type==o.mb?ue:null,bandwidth:ue.bandwidth||0,drmInfos:ue.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});e.l=q,Z(Ft)}})}function FN(e){e=x(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],o=x(t.kd),u=o.next();!u.done;u=o.next()){u=u.value;for(var l=!1,d=x(n),f=d.next();!f.done;f=d.next())f=f.value,u.id!=f.id&&u.channelsCount==f.channelsCount&&u.language==f.language&&u.bandwidth==f.bandwidth&&u.label==f.label&&u.codecs==f.codecs&&u.mimeType==f.mimeType&&Eu(u.roles,f.roles)&&u.audioSamplingRate==f.audioSamplingRate&&u.primary==f.primary&&(l=!0);l||n.push(u)}t.kd=n}}function jN(e){e=x(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],o=x(t.textStreams),u=o.next();!u.done;u=o.next()){u=u.value;for(var l=!1,d=x(n),f=d.next();!f.done;f=d.next())f=f.value,u.id!=f.id&&u.language==f.language&&u.label==f.label&&u.codecs==f.codecs&&u.mimeType==f.mimeType&&Eu(u.roles,f.roles)&&(l=!0);l||n.push(u)}t.textStreams=n}}function BN(e){e=x(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],o=x(t.Gd),u=o.next();!u.done;u=o.next()){u=u.value;for(var l=!1,d=x(n),f=d.next();!f.done;f=d.next())f=f.value,u.id!=f.id&&u.width==f.width&&u.frameRate==f.frameRate&&u.codecs==f.codecs&&u.mimeType==f.mimeType&&u.label==f.label&&Eu(u.roles,f.roles)&&Ak(u.closedCaptions,f.closedCaptions)&&u.bandwidth==f.bandwidth&&(l=!0);l||n.push(u)}t.Gd=n}}function zN(e){e=x(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],o=x(t.imageStreams),u=o.next();!u.done;u=o.next()){u=u.value;for(var l=!1,d=x(n),f=d.next();!f.done;f=d.next())f=f.value,u.id!=f.id&&u.width==f.width&&u.codecs==f.codecs&&u.mimeType==f.mimeType&&(l=!0);l||n.push(u)}t.imageStreams=n}}function aE(e){var t,n,o,u,l,d,f,p,v,y,T,E,I,P,L,M,N,V,z,j,H,q,Q,te,J,ue,ve;return F(function(ye){switch(ye.g){case 1:if(t=Qt,e.length==1)return ye.return(e[0]);for(n=e.map(function(_e){return _e.filter(function(Ee){return Ee.type==t.Nb})}),o=e.map(function(_e){return _e.filter(function(Ee){return Ee.type==t.mb})}),u=e.map(function(_e){return _e.filter(function(Ee){return Ee.type==t.ua})}),l=e.map(function(_e){return _e.filter(function(Ee){return Ee.type==t.Gc})}),d=x(u),f=d.next();!f.done;f=d.next())p=f.value,p.push(hE(t.ua));for(v=x(l),y=v.next();!y.done;y=v.next())T=y.value,T.push(hE(t.Gc));return C(ye,kr([],n,0,Rc,bc),2);case 2:return E=ye.h,C(ye,kr([],o,0,Rc,bc),3);case 3:return I=ye.h,C(ye,kr([],u,0,Rc,bc),4);case 4:return P=ye.h,C(ye,kr([],l,0,Rc,bc),5);case 5:if(L=ye.h,M=0,I.length&&E.length)for(H=x(E),q=H.next();!q.done;q=H.next())for(Q=q.value,te=x(I),J=te.next();!J.done;J=te.next())ue=J.value,ve=M++,ue.variantIds.push(ve),Q.variantIds.push(ve);else for(N=I.concat(E),V=x(N),z=V.next();!z.done;z=V.next())j=z.value,j.variantIds=[M++];return ye.return(I.concat(E).concat(P).concat(L))}})}function kr(e,t,n,o,u){var l,d,f,p,v,y,T,E,I,P,L,M,N,V,z,j,H,q,Q,te,J,ue,ve,ye;return F(function(_e){switch(_e.g){case 1:for(l=Qt,d=[],f=x(sn(t)),p=f.next();!p.done;p=f.next())v=p.value,y=v.wa,T=v.item,y>=n?d.push(new Set(T)):d.push(new Set);E=x(e),I=E.next();case 2:if(I.done){_e.D(4);break}return P=I.value,C(_e,VN(P,t,n,u,d),5);case 5:if(L=_e.h,!L)throw new O(2,4,4037);I=E.next(),_e.D(2);break;case 4:for(M=x(d),N=M.next();!N.done;N=M.next())for(V=N.value,z=x(V),j=z.next();!j.done;j=z.next())H=j.value,(q=GN(H,t,o,u,d))&&e.push(q);for(Q=x(d),N=Q.next();!N.done;N=Q.next())for(te=N.value,J={},ue=x(te),j=ue.next();!j.done;J={Cb:J.Cb},j=ue.next())if(J.Cb=j.value,ve=J.Cb.type==l.ua&&!J.Cb.language,ye=J.Cb.type==l.Gc&&!J.Cb.tilesLayout,!ve&&!ye&&e.some(function(Ee){return function(Fe){return Fe.mimeType==Ee.Cb.mimeType&&Hn(Fe.codecs)==Hn(Ee.Cb.codecs)}}(J)))throw new O(2,4,4037);return _e.return(e)}})}function VN(e,t,n,o,u){return F(function(l){return l.g==1?(dE(t,e),e.matchedStreams?e.segmentIndex?C(l,lE(e,n),2):l.D(2):l.return(!1)):(cE(e,n,o,u),l.return(!0))})}function lE(e,t){var n,o,u,l,d,f,p,v,y,T;return F(function(E){if(E.g==1){for(n=[],o=e.matchedStreams,u=x(o),l=u.next();!l.done;l=u.next())d=l.value,n.push(d.createSegmentIndex()),d.trickModeVideo&&!d.trickModeVideo.segmentIndex&&n.push(d.trickModeVideo.createSegmentIndex());return C(E,Promise.all(n),2)}if(e.segmentIndex instanceof ut)for(f=x(sn(o)),p=f.next();!p.done;p=f.next())v=p.value,y=v.wa,T=v.item,T.segmentIndex&&y>=t&&e.segmentIndex.j.push(T.segmentIndex);Z(E)})}function GN(e,t,n,o,u){var l=n(e);return dE(t,l),l.createSegmentIndex&&(l.createSegmentIndex=function(){return F(function(d){return l.segmentIndex?d.D(0):(l.segmentIndex=new ut,C(d,lE(l,0),0))})}),l.matchedStreams?(cE(l,0,o,u),l):null}function cE(e,t,n,o){for(var u=x(sn(e.matchedStreams)),l=u.next();!l.done;l=u.next()){var d=l.value;if(l=d.wa,d=d.item,l>=t){n(e,d);var f=!0;e.type=="audio"&&lo(e.language,d.language)==0&&(f=!1),f&&o[l].delete(d)}}}function oa(e){var t=Object.assign({},e);return t.originalId=null,t.createSegmentIndex=function(){return Promise.resolve()},t.closeSegmentIndex=function(){if(t.segmentIndex&&(t.segmentIndex.release(),t.segmentIndex=null),t.matchedStreams)for(var n=x(t.matchedStreams),o=n.next();!o.done;o=n.next())o=o.value,o.segmentIndex&&(o.segmentIndex.release(),o.segmentIndex=null)},t.segmentIndex=null,t.emsgSchemeIdUris=[],t.keyIds=new Set,t.closedCaptions=null,t.trickModeVideo=null,t}function Rc(e){return e=Object.assign({},e),e.keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e}function _s(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris)))),e.keyIds=function(l,d){return new Set([].concat(b(l),b(d)))}(e.keyIds,t.keyIds),e.originalId==null?e.originalId=t.originalId:e.originalId+=","+(t.originalId||"");var n=$l(e.drmInfos,t.drmInfos);if(t.drmInfos.length&&e.drmInfos.length&&!n.length)throw new O(2,4,4038);if(e.drmInfos=n,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map),n=x(t.closedCaptions);for(var o=n.next();!o.done;o=n.next()){var u=x(o.value);o=u.next().value,u=u.next().value,e.closedCaptions.set(o,u)}}t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=oa(t.trickModeVideo),e.trickModeVideo.createSegmentIndex=function(){return e.trickModeVideo.segmentIndex=e.segmentIndex.clone(),Promise.resolve()}),_s(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&_s(e.trickModeVideo,t)}function bc(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles)));var n=t.keyIds;if(n=new Set([].concat(b(e.keyIds),b(n))),e.keyIds=n,e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,b(t.segments)),t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map),n=x(t.closedCaptions);for(var o=n.next();!o.done;o=n.next()){var u=x(o.value);o=u.next().value,u=u.next().value,e.closedCaptions.set(o,u)}}}function dE(e,t){for(var n=[],o=x(e),u=o.next();!u.done;u=o.next()){var l=t,d={audio:fE,video:fE,text:HN,image:KN}[l.type],f={audio:WN,video:$N,text:qN,image:XN}[l.type],p=null;u=x(u.value);for(var v=u.next();!v.done;v=u.next())v=v.value,!d(l,v)||p&&!f(l,p,v)||(p=v);if(l=p,!l)return;n.push(l)}t.matchedStreams=n}function fE(e,t){var n;if(!(n=t.mimeType!=e.mimeType||Hn(t.codecs)!=Hn(e.codecs))&&(n=e.drmInfos)){n=e.drmInfos;var o=t.drmInfos;n=!(!(n.length&&o.length)||0<$l(n,o).length)}return!n}function HN(e,t){return e.language?t.language?!(lo(e.language,t.language)==0||t.kind!=e.kind):!0:!1}function KN(e){return!!e.tilesLayout}function WN(e,t,n){if(e.id==n.id)return!0;var o=lo(e.language,t.language),u=lo(e.language,n.language);return u>o?!0:u<o?!1:!t.primary&&n.primary?!0:t.primary&&!n.primary?!1:e.roles.length?(o=t.roles.filter(function(l){return e.roles.includes(l)}),u=n.roles.filter(function(l){return e.roles.includes(l)}),u.length>o.length?!0:u.length<o.length?!1:n.roles.length<t.roles.length):!n.roles.length&&t.roles.length?!0:n.roles.length&&!t.roles.length?!1:(o=sa(e.channelsCount,t.channelsCount,n.channelsCount),o==li?!0:o==Zi?!1:(o=sa(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate),o==li?!0:o==Zi?!1:!!(e.bandwidth&&gE(e.bandwidth,t.bandwidth,n.bandwidth)==li)))}function $N(e,t,n){if(e.id==n.id)return!0;var o=sa(e.width*e.height,t.width*t.height,n.width*n.height);if(o==li)return!0;if(o==Zi)return!1;if(e.frameRate){if(o=sa(e.frameRate,t.frameRate,n.frameRate),o==li)return!0;if(o==Zi)return!1}return!!(e.bandwidth&&gE(e.bandwidth,t.bandwidth,n.bandwidth)==li)}function qN(e,t,n){if(e.id==n.id)return!0;var o=lo(e.language,t.language),u=lo(e.language,n.language);if(u>o)return!0;if(u<o)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(e.roles.length){if(o=t.roles.filter(function(l){return e.roles.includes(l)}),u=n.roles.filter(function(l){return e.roles.includes(l)}),u.length>o.length)return!0;if(u.length<o.length)return!1}else{if(!n.roles.length&&t.roles.length)return!0;if(n.roles.length&&!t.roles.length)return!1}return!(n.mimeType!=e.mimeType||n.codecs!=e.codecs||t.mimeType==e.mimeType&&t.codecs==e.codecs)}function XN(e,t,n){return e.id==n.id?!0:sa(e.width*e.height,t.width*t.height,n.width*n.height)==li}function hE(e){return{id:0,originalId:"",primary:!1,type:e,mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function pE(e){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Le([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:e,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null}}function sa(e,t,n){if(t==e&&e!=n)return Zi;if(n==e&&e!=t)return li;if(t>e){if(n<=e||n-e<t-e)return li;if(n-e>t-e)return Zi}else{if(n>e)return Zi;if(e-n<e-t)return li;if(e-n>e-t)return Zi}return mE}function gE(e,t,n){return t=Math.abs(e-t),e=Math.abs(e-n),e<t?li:t<e?Zi:mE}var li=1,mE=0,Zi=-1;function ua(){var e=this;this.F=this.m=null,this.h=[],this.H=null,this.G=1,this.yb={},this.L={},this.g=new uE,this.C=0,this.I=new bh(5),this.B=new fe(function(){e.Tc()}),this.i=new Vl,this.j=null,this.J=[],this.l=1/0,this.s=!1}g=ua.prototype,g.configure=function(e){this.m=e},g.start=function(e,t){var n=this,o;return F(function(u){if(u.g==1)return n.s=t.isLowLatencyMode(),n.h=[e],n.F=t,C(u,l0(n),2);if(o=u.h,n.F&&yE(n,o),!n.F)throw new O(2,7,7001);return u.return(n.H)})},g.stop=function(){for(var e=x(Object.values(this.yb)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();return this.g&&this.g.release(),this.m=this.F=null,this.h=[],this.H=null,this.yb={},this.g=null,this.B!=null&&(this.B.stop(),this.B=null),this.i.destroy()},g.update=function(){var e=this,t;return F(function(n){if(n.g==1)return ae(n,2),C(n,l0(e),4);if(n.g!=2)return Ae(n,0);if(t=ge(n),!e.F||!t)return n.return();e.F.onError(t),Z(n)})},g.onExpirationUpdated=function(){};function l0(e){var t,n,o,u,l,d,f;return F(function(p){return p.g==1?(t=si(e.h,e.m.retryParameters),n=e.F.networkingEngine,e.F.modifyManifestRequest(t,{format:"d"}),o=Date.now(),u=n.request(0,t),fs(e.i,u),C(p,u.promise,2)):p.g!=3?(l=p.h,e.F?(l.uri&&!e.h.includes(l.uri)&&e.h.unshift(l.uri),C(p,YN(e,l.data,l.uri),3)):p.return(0)):(d=Date.now(),f=(d-o)/1e3,Dh(e.I,1,f),p.return(f))})}function YN(e,t,n){var o,u,l,d;return F(function(f){if(f.g==1){if(o=QT(t,"MPD"),!o)throw new O(2,4,4001,n);return e.m.dash.disableXlinkProcessing?f.return(vE(e,o,n)):(u=e.m.dash.xlinkFailGracefully,l=Nc(o,e.m.retryParameters,u,n,e.F.networkingEngine),fs(e.i,l),C(f,l.promise,2))}return d=f.h,f.return(vE(e,d,n))})}function vE(e,t,n){var o,u,l,d,f,p,v,y,T,E,I,P,L,M,N,V,z,j,H,q,Q,te,J,ue,ve,ye,_e,Ee,Fe,at;return F(function(De){switch(De.g){case 1:if((o=e.m.dash.manifestPreprocessor)&&o(t),u=[n],l=rt(t,"Location").map(Ic).filter(Sr),0<l.length&&(d=Vt(u,l),u=e.h=d),f=rt(t,"BaseURL"),p=f.map(Ic),v=Vt(u,p),y=0,f&&f.length&&(y=$e(f[0],"availabilityTimeOffset",ra)||0),T=e.m.dash.ignoreMinBufferTime,E=0,T||(E=$e(t,"minBufferTime",Qi)||0),e.C=$e(t,"minimumUpdatePeriod",Qi,-1),I=$e(t,"availabilityStartTime",uN),P=$e(t,"timeShiftBufferDepth",Qi),L=e.m.dash.ignoreSuggestedPresentationDelay,M=null,L||(M=$e(t,"suggestedPresentationDelay",Qi)),N=e.m.dash.ignoreMaxSegmentDuration,V=null,N||(V=$e(t,"maxSegmentDuration",Qi)),z=t.getAttribute("type")||"static",e.H)for(j=e.H.presentationTimeline,H=x(Object.values(e.yb)),q=H.next();!q.done;q=H.next())Q=q.value,Q.segmentIndex&&Q.segmentIndex.Ob(j.ub());else te=e.m.defaultPresentationDelay||1.5*E,J=M??te,j=new he(I,J,e.m.dash.autoCorrectDrift);return j.Zc(z=="static"),j.W()&&!isNaN(e.m.availabilityWindowOverride)&&(P=e.m.availabilityWindowOverride),P==null&&(P=1/0),j.Ie(P),ue=t.getAttribute("profiles")||"",ve={Fb:z!="static",presentationTimeline:j,ya:null,ba:null,Ha:null,O:null,bandwidth:0,nf:!1,hc:y,profiles:ue.split(",")},ye=QN(e,ve,v,t),_e=ye.duration,Ee=ye.periods,z!="static"&&ye.df||j.ib(_e||1/0),e.l&&!e.s&&e.F.isAutoLowLatencyMode()&&(e.F.enableLowLatencyMode(),e.s=e.F.isLowLatencyMode()),e.s?j.Bf(e.l):e.l&&je("Low-latency DASH live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),j.le(V||1),C(De,UN(e.g,Ee,ve.Fb),2);case 2:if(e.H){e.H.variants=e.g.l,e.H.textStreams=e.g.j.slice(),e.H.imageStreams=e.g.i,e.F.filter(e.H),De.D(3);break}if(e.H={presentationTimeline:j,variants:e.g.l,textStreams:e.g.j.slice(),imageStreams:e.g.i,offlineSessionIds:[],minBufferTime:E||0},!j.Kf()){De.D(3);break}return Fe=rt(t,"UTCTiming"),C(De,iM(e,v,Fe),5);case 5:if(at=De.h,!e.F)return De.return();j.Cf(at);case 3:e.F.makeTextStreamsForClosedCaptions(e.H),Z(De)}})}function QN(e,t,n,o){var u=$e(o,"mediaPresentationDuration",Qi),l=[],d=0;o=rt(o,"Period");for(var f=x(sn(o)),p=f.next();!p.done;p=f.next()){var v=p.value;p=v.wa;var y=v.item,T=v.next;v=$e(y,"start",Qi,d);var E=y.id,I=$e(y,"duration",Qi),P=null;if(T){var L=$e(T,"start",Qi);L!=null&&(P=L-v)}else u!=null&&(P=u-v);if(P==null&&(P=I),!(e.j!==null&&E!==null&&v!==null&&v<e.j)||e.J.includes(E)||p+1==o.length){if(v!==null&&(e.j===null||v>e.j)&&(e.j=v),d=JN(e,t,n,{start:v,duration:P,node:y,rf:P==null||!T}),l.push(d),t.ya.id&&P&&(e.L[t.ya.id]=P),P==null){d=null;break}d=v+P}}return e.J=l.map(function(M){return M.id}),u!=null?{periods:l,duration:u,df:!1}:{periods:l,duration:d,df:!0}}function JN(e,t,n,o){t.ya=c0(o.node,null,n),t.ba=o,t.ya.hc=t.hc,t.ya.id||(t.ya.id="__shaka_period_"+o.start);var u=rt(o.node,"EventStream");n=t.presentationTimeline.ub(),u=x(u);for(var l=u.next();!l.done;l=u.next())rM(e,o.start,o.duration,l.value,n);if(n=rt(o.node,"AdaptationSet").map(function(y){return ZN(e,t,y)}).filter(Sr),t.Fb){for(o=[],u=x(n),l=u.next();!l.done;l=u.next()){l=x(l.value.fh);for(var d=l.next();!d.done;d=l.next())o.push(d.value)}if(o.length!=new Set(o).size)throw new O(2,4,4018)}for(o=n.filter(function(y){return!y.Oe}),n=n.filter(function(y){return y.Oe}),n=x(n),u=n.next();!u.done;u=n.next()){u=u.value,l=u.Oe.split(" "),d=x(o);for(var f=d.next();!f.done;f=d.next()){var p=f.value;if(l.includes(p.id)){f={},p=x(p.streams);for(var v=p.next();!v.done;f={gd:f.gd},v=p.next())f.gd=v.value,f.gd.trickModeVideo=u.streams.find(function(y){return function(T){return Hn(y.gd.codecs)==Hn(T.codecs)}}(f))}}}if(u=e.m.disableAudio?[]:Dc(o,"audio"),d=e.m.disableVideo?[]:Dc(o,"video"),l=e.m.disableText?[]:Dc(o,Be),n=e.m.disableThumbnails?[]:Dc(o,"image"),!d.length&&!u.length)throw new O(2,4,4004);for(o=[],u=x(u),f=u.next();!f.done;f=u.next())o.push.apply(o,b(f.value.streams));for(u=[],d=x(d),f=d.next();!f.done;f=d.next())u.push.apply(u,b(f.value.streams));for(d=[],l=x(l),f=l.next();!f.done;f=l.next())d.push.apply(d,b(f.value.streams));for(l=[],n=x(n),f=n.next();!f.done;f=n.next())l.push.apply(l,b(f.value.streams));return{id:t.ya.id,kd:o,Gd:u,textStreams:d,imageStreams:l}}function Dc(e,t){return e.filter(function(n){return n.contentType==t})}function ZN(e,t,n){function o(q){switch(q){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}t.Ha=c0(n,t.ya,null);var u=!1,l=rt(n,"Role"),d=l.map(function(q){return q.getAttribute("value")}).filter(Sr),f=void 0,p=t.Ha.contentType==Be;p&&(f="subtitle"),l=x(l);for(var v=l.next();!v.done;v=l.next()){v=v.value;var y=v.getAttribute("schemeIdUri");if(y==null||y=="urn:mpeg:dash:role:2011")switch(v=v.getAttribute("value"),v){case"main":u=!0;break;case"caption":case"subtitle":f=v}}var T;y=rt(n,"EssentialProperty"),l=null,v=!1,y=x(y);for(var E=y.next();!E.done;E=y.next()){E=E.value;var I=E.getAttribute("schemeIdUri");I=="http://dashif.org/guidelines/trickmode"?l=E.getAttribute("value"):I=="urn:mpeg:mpegB:cicp:TransferCharacteristics"?T=o(parseInt(E.getAttribute("value"),10)):v=!0}for(y=rt(n,"SupplementalProperty"),y=x(y),E=y.next();!E.done;E=y.next())E=E.value,E.getAttribute("schemeIdUri")=="urn:mpeg:mpegB:cicp:TransferCharacteristics"&&(T=o(parseInt(E.getAttribute("value"),10)));y=rt(n,"Accessibility");var P=new Map;for(y=x(y),E=y.next();!E.done;E=y.next())if(I=E.value,E=I.getAttribute("schemeIdUri"),I=I.getAttribute("value"),E=="urn:scte:dash:cc:cea-608:2015")if(E=1,I!=null){I=I.split(";");for(var L=x(I),M=L.next();!M.done;M=L.next()){var N=M.value,V=M=void 0;N.includes("=")?(N=N.split("="),M=N[0].startsWith("CC")?N[0]:"CC"+N[0],V=N[1]||"und"):(M="CC"+E,I.length==2?E+=2:E++,V=N),P.set(M,Pe(V))}}else P.set("CC1","und");else if(E=="urn:scte:dash:cc:cea-708:2015")if(E=1,I!=null)for(I=x(I.split(";")),M=I.next();!M.done;M=I.next())M=M.value,N=L=void 0,M.includes("=")?(M=M.split("="),L="svc"+M[0],N=M[1].split(",")[0].split(":").pop()):(L="svc"+E,E++,N=M),P.set(L,Pe(N));else P.set("svc1","und");else E=="urn:mpeg:dash:role:2011"&&I!=null&&(d.push(I),I=="captions"&&(f="caption"));if(v)return null;v=rt(n,"ContentProtection");var z=JT(v,e.m.dash.ignoreDrmInfo,e.m.dash.keySystemsByURI),j=Pe(n.getAttribute("lang")||"und"),H=n.getAttribute("label");if((v=rt(n,"Label"))&&v.length&&(v=v[0],v.textContent&&(H=v.textContent)),v=rt(n,"Representation"),n=v.map(function(q){return(q=eM(e,t,z,f,j,H,u,d,P,q))&&(q.hdr=q.hdr||T),q}).filter(function(q){return!!q}),n.length==0){if(l=t.Ha.contentType=="image",e.m.dash.ignoreEmptyAdaptationSet||p||l)return null;throw new O(2,4,4003)}if(!t.Ha.contentType||t.Ha.contentType=="application")for(t.Ha.contentType=SE(n[0].mimeType,n[0].codecs),p=x(n),y=p.next();!y.done;y=p.next())y.value.type=t.Ha.contentType;for(p=x(n),y=p.next();!y.done;y=p.next())for(y=y.value,E=x(z.drmInfos),I=E.next();!I.done;I=E.next())I=I.value,I.keyIds=I.keyIds&&y.keyIds?new Set([].concat(b(I.keyIds),b(y.keyIds))):I.keyIds||y.keyIds;return p=v.map(function(q){return q.getAttribute("id")}).filter(Sr),{id:t.Ha.id||"__fake__"+e.G++,contentType:t.Ha.contentType,language:j,Ti:u,streams:n,drmInfos:z.drmInfos,Oe:l,fh:p}}function eM(e,t,n,o,u,l,d,f,p,v){if(t.O=c0(v,t.Ha,null),e.l=Math.min(e.l,t.O.hc),!nM(t.O))return null;var y=t.ba.start;t.bandwidth=$e(v,"bandwidth",_c)||0;var T=t.O.contentType,E=T==Be||T=="application";T=T=="image";try{var I=function(Q,te,J){return oM(e,Q,te,J)};if(t.O.Xc)var P=IN(t,I);else if(t.O.Mb)P=_N(t,e.yb);else if(t.O.Yc)P=NN(t,I,e.yb,!!e.H,e.m.dash.initialSegmentLimit,e.L);else{var L=t.O.Va,M=t.ba.duration||0;P={jc:function(){return Promise.resolve(nc(y,M,L))}}}}catch(Q){if((E||T)&&Q.code==4002)return null;throw Q}I=rt(v,"ContentProtection"),I=cN(I,n,e.m.dash.ignoreDrmInfo,e.m.dash.keySystemsByURI),I=new Set(I?[I]:[]);var N=!1;rt(v,"SupplementalProperty").some(function(Q){return Q.getAttribute("schemeIdUri")=="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&Q.getAttribute("value")=="JOC"})&&(t.O.mimeType="audio/eac3-joc",N=!0);var V=!1;E&&(V=f.includes("forced_subtitle")||f.includes("forced-subtitle"));var z;if(T&&((v=rt(v,"EssentialProperty").find(function(Q){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(Q.getAttribute("schemeIdUri"))}))&&(z=v.getAttribute("value")),!z))return null;var j;v=t.O.codecs,t.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(v.includes("hvc1.2.4.L153.B0")||v.includes("hev1.2.4.L153.B0"))&&(j="PQ");var H=t.O.id?t.ya.id+","+t.O.id:"",q={id:e.G++,originalId:t.O.id,createSegmentIndex:function(){var Q,te;return F(function(J){if(J.g==1)return Q=H&&t.Fb&&e.yb[H]?e.yb[H]:q,Q.segmentIndex?J.D(0):(te=Q,C(J,P.jc(),3));te.segmentIndex=J.h,Z(J)})},closeSegmentIndex:function(){q.segmentIndex&&(q.segmentIndex.release(),q.segmentIndex=null)},segmentIndex:null,mimeType:t.O.mimeType,codecs:t.O.codecs,frameRate:t.O.frameRate,pixelAspectRatio:t.O.pixelAspectRatio,bandwidth:t.bandwidth,width:t.O.width,height:t.O.height,kind:o,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:I,language:u,label:l,type:t.Ha.contentType,primary:d,trickModeVideo:null,emsgSchemeIdUris:t.O.emsgSchemeIdUris,roles:f,forced:V,channelsCount:t.O.ud,audioSamplingRate:t.O.audioSamplingRate,spatialAudio:N,closedCaptions:p,hdr:j,tilesLayout:z,matchedStreams:[]};return H&&t.Fb&&!e.yb[H]&&(e.yb[H]=q),q}g.Tc=function(){var e=this,t,n;return F(function(o){switch(o.g){case 1:return t=0,ae(o,2),C(o,l0(e),4);case 4:t=o.h,Ae(o,3);break;case 2:n=ge(o),e.F&&(n.severity=1,e.F.onError(n));case 3:if(!e.F)return o.return();yE(e,t),Z(o)}})};function yE(e,t){0>e.C||e.B.U(Math.max(3,e.C-t,Oh(e.I)))}function c0(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,ud:null,audioSamplingRate:null,hc:0},n=n||t.Va;var o=rt(e,"BaseURL"),u=o.map(Ic),l=e.getAttribute("contentType")||t.contentType,d=e.getAttribute("mimeType")||t.mimeType,f=e.getAttribute("codecs")||t.codecs,p=$e(e,"frameRate",lN)||t.frameRate,v=e.getAttribute("sar")||t.pixelAspectRatio,y=rt(e,"InbandEventStream"),T=t.emsgSchemeIdUris.slice();y=x(y);for(var E=y.next();!E.done;E=y.next())E=E.value.getAttribute("schemeIdUri"),T.includes(E)||T.push(E);y=rt(e,"AudioChannelConfiguration"),y=tM(y)||t.ud,E=$e(e,"audioSamplingRate",Pi)||t.audioSamplingRate,l||(l=SE(d,f));var I=Ac(e,"SegmentBase"),P=Ac(e,"SegmentTemplate"),L=I&&$e(I,"availabilityTimeOffset",ra)||0,M=P&&$e(P,"availabilityTimeOffset",ra)||0;return o=o&&o.length&&$e(o[0],"availabilityTimeOffset",ra)||0,o=t.hc+o+L+M,{Va:Vt(n,u),Xc:I||t.Xc,Mb:Ac(e,"SegmentList")||t.Mb,Yc:P||t.Yc,width:$e(e,"width",Pi)||t.width,height:$e(e,"height",Pi)||t.height,contentType:l,mimeType:d,codecs:f,frameRate:p,pixelAspectRatio:v,emsgSchemeIdUris:T,id:e.getAttribute("id"),ud:y,audioSamplingRate:E,hc:o}}function tM(e){e=x(e);for(var t=e.next();!t.done;t=e.next()){var n=t.value;if((t=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(t=parseInt(n,10),!t)continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(t=parseInt(n,16),!t)continue;for(e=0;t;)t&1&&++e,t>>=1;return e;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(t=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(n=parseInt(n,10))&&0<n&&n<t.length)return t[n]}}return null}function nM(e){var t=e.Xc?1:0;return t+=e.Mb?1:0,t+=e.Yc?1:0,t==0?e.contentType==Be||e.contentType=="application":(t!=1&&(e.Xc&&(e.Mb=null),e.Yc=null),!0)}function xE(e,t,n,o){var u,l,d,f,p,v;return F(function(y){if(y.g==1)return u=Vt(t,[n]),l=si(u,e.m.retryParameters),l.method=o,d=e.F.networkingEngine.request(4,l),fs(e.i,d),C(y,d.promise,2);if(f=y.h,o=="HEAD"){if(!f.headers||!f.headers.date)return y.return(0);p=f.headers.date}else p=Gt(f.data);return v=Date.parse(p),isNaN(v)?y.return(0):y.return(v-Date.now())})}function iM(e,t,n){var o,u,l,d,f,p,v,y;return F(function(T){switch(T.g){case 1:o=n.map(function(E){return{scheme:E.getAttribute("schemeIdUri"),value:E.getAttribute("value")}}),u=e.m.dash.clockSyncUri,!o.length&&u&&o.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:u}),l=x(o),d=l.next();case 2:if(d.done){T.D(4);break}switch(f=d.value,ae(T,5),p=f.scheme,v=f.value,p){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return T.D(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return T.D(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return y=Date.parse(v),T.return(isNaN(y)?0:y-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":je("NTP UTCTiming scheme is not supported");break;default:je("Unrecognized scheme in UTCTiming element",p)}T.D(9);break;case 7:return C(T,xE(e,t,v,"HEAD"),10);case 10:return T.return(T.h);case 8:return C(T,xE(e,t,v,"GET"),11);case 11:return T.return(T.h);case 9:Ae(T,3);break;case 5:ge(T);case 3:d=l.next(),T.D(2);break;case 4:return je("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),T.return(0)}})}function rM(e,t,n,o,u){var l=o.getAttribute("schemeIdUri")||"",d=o.getAttribute("value")||"",f=$e(o,"timescale",Pi)||1;o=x(rt(o,"Event"));for(var p=o.next();!p.done;p=o.next()){p=p.value;var v=$e(p,"presentationTime",Pi)||0,y=$e(p,"duration",Pi)||0;v=v/f+t,y=v+y/f,n!=null&&(v=Math.min(v,t+n),y=Math.min(y,t+n)),y<u||(p={schemeIdUri:l,value:d,startTime:v,endTime:y,id:p.getAttribute("id")||"",eventElement:p},e.F.onTimelineRegionAdded(p))}}function oM(e,t,n,o){var u,l,d,f,p;return F(function(v){return v.g==1?(u=Ki,l=qu(t,n,o,e.m.retryParameters),d=e.F.networkingEngine,f=d.request(u,l),fs(e.i,f),C(v,f.promise,2)):(p=v.h,v.return(p.data))})}function SE(e,t){return Nu(_i(e,t))?Be:e.split("/")[0]}Y("shaka.dash.DashParser",ua),xo.mpd=function(){return new ua},Kn["application/dash+xml"]=function(){return new ua},Kn["video/vnd.mpeg.dash.mpd"]=function(){return new ua};function TE(e,t,n,o){this.g=e,this.type=t,this.aa=n,this.segments=o||null}function d0(e,t,n,o){this.id=e,this.name=t,this.g=n,this.value=o===void 0?null:o}d0.prototype.toString=function(){function e(o){return o.name+"="+(isNaN(Number(o.value))?'"'+o.value+'"':o.value)}var t="#"+this.name,n=this.g?this.g.map(e):[];return this.value&&n.unshift(this.value),0<n.length&&(t+=":"+n.join(",")),t},d0.prototype.getAttribute=function(e){var t=this.g.filter(function(n){return n.name==e});return t.length?t[0]:null};function xe(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function At(e,t){var n=e.getAttribute(t);if(!n)throw new O(2,4,4023,t);return n.value}function EE(e,t,n){n=n===void 0?[]:n,this.aa=t,this.g=e,this.h=n}function wE(e,t){this.name=e,this.value=t}function er(e,t){return e.filter(function(n){return n.name==t})}function AE(e,t){return e.filter(function(n){return At(n,"TYPE")==t})}function an(e,t){var n=er(e,t);return n.length?n[0]:null}function f0(e,t,n){return n=n===void 0?0:n,(e=an(e,t))?Number(e.value):n}function ks(e){this.h=e,this.g=0}function Ps(e){Pr(e,/[ \t]+/gm)}function Pr(e,t){t.lastIndex=e.g;var n=t.exec(e.h);return n=n==null?null:{position:n.index,length:n[0].length,results:n},e.g==e.h.length||n==null||n.position!=e.g?null:(e.g+=n.length,n.results)}function ko(e){return e.g==e.h.length?null:(e=Pr(e,/[^ \t\n]*/gm))?e[0]:null}function sM(){this.g=0}function h0(e,t,n){t=Gt(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`).trim();var o=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(o[0]))throw new O(2,4,4015);t=0;for(var u=!0,l=x(o),d=l.next();!d.done;d=l.next())if(d=d.value,/^#(?!EXT)/m.test(d)||u)u=!1;else if(d=p0(e.g++,d),--e.g,IE.includes(d.name)){t=1;break}else d.name=="EXT-X-STREAM-INF"&&(u=!0);l=[],u=!0,d=x(sn(o));for(var f=d.next();!f.done;f=d.next()){var p=f.value;f=p.wa;var v=p.item;if(p=p.next,/^#(?!EXT)/m.test(v)||u)u=!1;else{if(v=p0(e.g++,v),uM.includes(v.name)){if(t!=1)throw new O(2,4,4017);p=o.splice(f,o.length-f),o=n,u=[],d=[],f=[],v=null,p=x(p);for(var y=p.next();!y.done;y=p.next())y=y.value,/^(#EXT)/.test(y)?(y=p0(e.g++,y),IE.includes(y.name)?l.push(y):y.name=="EXT-X-MAP"?v=y:y.name=="EXT-X-PART"?f.push(y):y.name=="EXT-X-PRELOAD-HINT"?xe(y,"TYPE")=="PART"?f.push(y):xe(y,"TYPE")=="MAP"&&(y.name="EXT-X-MAP",v=y):d.push(y)):/^#(?!EXT)/m.test(y)||(y=Vt([o],[y.trim()])[0],v&&d.push(v),u.push(new EE(y,d,f)),d=[],f=[]);return f.length&&(v&&d.push(v),u.push(new EE("",d,f))),new TE(n,t,l,u)}l.push(v),v.name=="EXT-X-STREAM-INF"&&(v.g.push(new wE("URI",p)),u=!0)}}return new TE(n,t,l)}function p0(e,t){var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new O(2,4,4016,t);var o=n[1],u=n[2];n=[];var l;if(u){u=new ks(u);var d;(d=Pr(u,/^([^,=]+)(?:,|$)/g))&&(l=d[1]);for(var f=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;d=Pr(u,f);)n.push(new wE(d[1],d[2]||d[3])),Ps(u)}return new d0(e,o,n,l)}var IE="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP".split(" "),uM="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function CE(){}function _E(e){try{var t=g0(e);return cs({uri:e,vf:e,data:t.data,headers:{"content-type":t.contentType}})}catch(n){return mo(n)}}function g0(e){var t=e.split(":");if(2>t.length||t[0]!="data")throw new O(2,1,1004,e);if(t=t.slice(1).join(":").split(","),2>t.length)throw new O(2,1,1004,e);var n=t[0];e=c.decodeURIComponent(t.slice(1).join(",")),t=n.split(";"),n=t[0];var o=!1;1<t.length&&t[t.length-1]=="base64"&&(o=!0,t.pop());var u;return o?u=Ar(e):u=ho(e),{data:u,contentType:n}}Y("shaka.net.DataUriPlugin",CE),CE.parse=_E,Hi("data",_E);function aa(){var e=this;this.m=this.F=null,this.Aa=1,this.l=new Map,this.B=new Map,this.sa=new Set,this.g=new Map,this.h=null,this.M="",this.$=new sM,this.ka=0,this.C=new fe(function(){e.Tc()}),this.j=tr,this.H=null,this.ia=0,this.I=1/0,this.ea=this.Ca=0,this.G=new Vl,this.S=[],this.L=new Map,this.Ba=!1,this.s=new Map,this.P=null,this.ha=new Map,this.J=new Map,this.i=!1}g=aa.prototype,g.configure=function(e){this.m=e},g.start=function(e,t){var n=this,o,u;return F(function(l){return l.g==1?(n.F=t,n.i=t.isLowLatencyMode(),C(l,S0(n,e),2)):l.g!=3?(o=l.h,n.M=o.uri,C(l,aM(n,o.data),3)):(u=n.ka,0<u&&n.C.U(u),l.return(n.H))})},g.stop=function(){this.C&&(this.C.stop(),this.C=null);var e=[];return this.G&&(e.push(this.G.destroy()),this.G=null),this.m=this.F=null,this.sa.clear(),this.H=null,this.g.clear(),this.B.clear(),this.s.clear(),this.l.clear(),Promise.all(e)},g.update=function(){var e=this,t,n,o;return F(function(u){if(u.g==1)return e.j==tr?u.return():(t=[],e.P=null,n=Array.from(e.g.values()),n.length?C(u,kE(e,n[0]),2):u.D(2));for(o=1;o<n.length;o++)t.push(kE(e,n[o]));return C(u,Promise.all(t),0)})};function kE(e,t){var n,o,u,l,d,f,p,v,y,T,E,I;return F(function(P){if(P.g==1)return n=BE,o=t.Pf,u=new Vn(o),e.i&&t.Uf&&Rl(u,new es("_HLS_skip=YES")),C(P,S0(e,u.toString()),2);if(P.g!=3){if(l=P.h,d=h0(e.$,l.data,l.uri),d.type!=1)throw new O(2,4,4017);return f=er(d.aa,"EXT-X-DEFINE"),p=PE(e,f),v=t.stream,C(P,DE(e,t.Fd,d,v.type,v.mimeType,t.ie,p,t.Zf,v.codecs,v.bandwidth),3)}y=P.h,v.segmentIndex.sc(y,e.h.ub()),y.length&&(T=f0(d.aa,"EXT-X-MEDIA-SEQUENCE",0),E=t.ie.get(T),v.segmentIndex.Ob(E)),I=y[y.length-1],an(d.aa,"EXT-X-ENDLIST")&&(Oc(e,n.Of),e.h.ib(I.endTime)),Z(P)})}g.onExpirationUpdated=function(){};function aM(e,t){var n,o,u,l,d,f,p,v,y,T,E,I,P,L,M,N,V,z,j,H,q,Q,te,J,ue,ve,ye,_e,Ee,Fe,at,De,$t,or,Ft,vn;return F(function(yn){switch(yn.g){case 1:if(n=h0(e.$,t,e.M),n.type!=0)throw new O(2,4,4022);for(o=er(n.aa,"EXT-X-DEFINE"),lM(e,o),u=er(n.aa,"EXT-X-MEDIA"),l=er(n.aa,"EXT-X-STREAM-INF"),d=er(n.aa,"EXT-X-IMAGE-STREAM-INF"),cM(e,l),f=er(n.aa,"EXT-X-SESSION-DATA"),p=x(f),v=p.next();!v.done;v=p.next())y=v.value,T=xe(y,"DATA-ID"),E=xe(y,"URI"),I=xe(y,"LANGUAGE"),P=xe(y,"VALUE"),L=new Map().set("id",T),E&&L.set("uri",Vt([e.M],[E])[0]),I&&L.set("language",I),P&&L.set("value",P),M=new oe("sessiondata",L),e.F&&e.F.onEvent(M);return C(yn,hM(e,u),2);case 2:return vM(e,u),C(yn,pM(e,l),3);case 3:return N=yn.h,C(yn,dM(e,u),4);case 4:return V=yn.h,C(yn,fM(e,d),5);case 5:if(z=yn.h,!e.F)throw new O(2,7,7001);if(e.Ba&&N.length==0)throw new O(2,4,4034);for(H=j=1/0,q=x(e.g.values()),Q=q.next();!Q.done;Q=q.next())te=Q.value,j=Math.min(j,te.tf),te.stream.type!="text"&&(H=Math.min(H,te.Rg-te.tf));if(e.j!=tr?(e.h=new he(0,e.m.defaultPresentationDelay?e.m.defaultPresentationDelay:e.ea?e.ea:3*e.ia),e.h.Zc(!1)):(e.h=new he(null,0),e.h.Zc(!0)),bE(e),e.j!=tr)e.ka=e.I,J=BE,e.j==J.Se&&(ue=e.h.zd,isNaN(e.m.availabilityWindowOverride)||(ue=e.m.availabilityWindowOverride),e.h.Ie(ue));else for(e.h.ib(H),e.h.offset(-j),ve=x(e.g.values()),Q=ve.next();!Q.done;Q=ve.next())ye=Q.value,ye.stream.segmentIndex.offset(-j),ye.stream.segmentIndex.Hb(0,H);for(e.S=[],_e=[],Ee=x(N),Fe=Ee.next();!Fe.done;Fe=Ee.next())for(at=Fe.value,De=x([at.video,at.audio]),$t=De.next();!$t.done;$t=De.next())(or=$t.value)&&_e.push(or);return C(yn,Promise.all(_e.map(function(bo){return F(function(Ca){return C(Ca,bo.createSegmentIndex(),0)})})),6);case 6:for(Ft=x(_e),$t=Ft.next();!$t.done;$t=Ft.next())vn=$t.value,e.S.push(vn.segmentIndex.R);bE(e),e.H={presentationTimeline:e.h,variants:N,textStreams:V,imageStreams:z,offlineSessionIds:[],minBufferTime:0},e.F.makeTextStreamsForClosedCaptions(e.H),Z(yn)}})}function lM(e,t){for(var n=x(t),o=n.next();!o.done;o=n.next()){var u=o.value;o=xe(u,"NAME"),u=xe(u,"VALUE"),o&&u&&(e.l.has(o)||e.l.set(o,u))}}function PE(e,t){for(var n=new Map,o=x(t),u=o.next();!u.done;u=o.next()){var l=u.value;u=xe(l,"NAME");var d=xe(l,"VALUE");l=xe(l,"IMPORT"),u&&d&&n.set(u,d),l&&(u=e.l.get(l))&&n.set(l,u)}return n}function cM(e,t){for(var n=x(t),o=n.next();!o.done;o=n.next()){var u=o.value,l=xe(u,"AUDIO");o=xe(u,"VIDEO");var d=xe(u,"SUBTITLES");if(u=LE(e,u),d){var f=bl(Be,u);e.s.set(d,f),ri(u,f)}l&&(d=ao("audio",u),e.s.set(l,d)),o&&(l=ao("video",u),e.s.set(o,l))}}function dM(e,t){var n,o,u,l,d,f,p,v,y,T,E,I;return F(function(P){if(P.g==1)return n=AE(t,"SUBTITLES"),o=n.map(function(L){var M,N;return F(function(V){if(V.g==1)return e.m.disableText?V.return(null):(ae(V,2),C(V,v0(e,L),4));if(V.g!=2)return M=V.h,V.return(M.stream);if(N=ge(V),e.m.hls.ignoreTextStreamFailures)return V.return(null);throw N})}),C(P,Promise.all(o),2);for(u=P.h,l=x(n),d=l.next();!d.done;d=l.next())if(f=d.value,p=At(f,"GROUP-ID"),(v=e.s.get(p))&&(y=e.B.get(p)))for(T=x(y),E=T.next();!E.done;E=T.next())I=E.value,I.stream.codecs=v;return P.return(u.filter(function(L){return L}))})}function fM(e,t){var n,o;return F(function(u){return u.g==1?(n=t.map(function(l){var d,f;return F(function(p){if(p.g==1)return e.m.disableThumbnails?p.return(null):(ae(p,2),C(p,yM(e,l),4));if(p.g!=2)return d=p.h,p.return(d.stream);if(f=ge(p),e.m.hls.ignoreImageStreamFailures)return p.return(null);throw f})}),C(u,Promise.all(n),2)):(o=u.h,u.return(o.filter(function(l){return l})))})}function hM(e,t){var n;return F(function(o){return o.g==1?(t=t.filter(function(u){var l=xe(u,"URI")||"";return xe(u,"TYPE")!="SUBTITLES"&&l!=""}),t.length?C(o,v0(e,t[0]),2):o.D(2)):(n=t.slice(1).map(function(u){return v0(e,u)}),C(o,Promise.all(n),0))})}function pM(e,t){var n,o,u;return F(function(l){return l.g==1?(n=t.map(function(d){var f,p,v,y,T,E,I,P;return F(function(L){if(L.g==1)return f=xe(d,"FRAME-RATE"),p=Number(xe(d,"AVERAGE-BANDWIDTH"))||Number(At(d,"BANDWIDTH")),v=xe(d,"RESOLUTION"),y=x(v?v.split("x"):[null,null]),T=y.next().value,E=y.next().value,I=xe(d,"VIDEO-RANGE"),C(L,gM(e,d,p),2);if(P=L.h){for(var M=L.return,N=P.audio,V=P.video,z=x(V),j=z.next();!j.done;j=z.next())(j=j.value.stream)&&(j.width=Number(T)||void 0,j.height=Number(E)||void 0,j.frameRate=Number(f)||void 0,j.hdr=I||void 0);for(z=e.m.disableAudio,(!N.length||z)&&(N=[null]),z=e.m.disableVideo,(!V.length||z)&&(V=[null]),z=[],N=x(N),j=N.next();!j.done;j=N.next()){j=j.value;for(var H=x(V),q=H.next();!q.done;q=H.next()){var Q=q.value;q=j?j.stream:null;var te=Q?Q.stream:null,J=j?j.stream.drmInfos:null,ue=Q?Q.stream.drmInfos:null;Q=(Q?Q.Fd:"")+" - "+(j?j.Fd:""),q&&te&&J.length&&ue.length&&!(0<$l(J,ue).length)||e.sa.has(Q)||(q={id:e.Aa++,language:q?q.language:"und",primary:!!q&&q.primary||!!te&&te.primary,audio:q,video:te,bandwidth:p,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},z.push(q),e.sa.add(Q))}}L=M.call(L,z)}else L=L.return([]);return L})}),C(l,Promise.all(n),2)):(o=l.h,u=o.reduce(Ph,[]),u=u.filter(function(d){return d!=null}),l.return(u))})}function gM(e,t,n){var o,u,l,d,f,p,v,y,T,E,I,P,L,M;return F(function(N){if(N.g==1)return o=Qt,u=LE(e,t),l=xe(t,"AUDIO"),d=xe(t,"VIDEO"),p=(f=l||d)&&e.B.has(f)?e.B.get(f):[],v={audio:l?p:[],video:d?p:[]},T=!1,E=At(t,"URI"),I=v.audio.find(function(V){return V&&V.Fd==E}),P=bl(o.mb,u),(L=bl(o.Nb,u))&&!P?y=o.Nb:!p.length&&L&&P?(y=o.mb,u=[[P,L].join()]):v.audio.length&&I?(y=o.Nb,T=!0):y=v.video.length?o.Nb:o.mb,T?N.D(2):C(N,xM(e,t,u,y,n),3);if(N.g!=2&&(M=N.h),M)v[M.stream.type]=[M];else if(M===null)return N.return(null);return mM(v),N.return(v)})}function LE(e,t){var n=[];e.m.disableVideo||n.push(e.m.hls.defaultVideoCodec),e.m.disableAudio||n.push(e.m.hls.defaultAudioCodec);var o=xe(t,"CODECS",n.join(",")).split(/\s*,\s*/);n=new Set;var u=[];o=x(o);for(var l=o.next();!l.done;l=o.next()){l=l.value;var d=Hn(l);n.has(d)||(u.push(l),n.add(d))}return u}function m0(e){return e=xe(e,"LANGUAGE")||"und",Pe(e)}function mM(e){e=x(e.audio.concat(e.video));for(var t=e.next();!t.done;t=e.next())if(t=t.value){var n=t.stream.codecs.split(",");n=n.filter(function(o){return o!="mp4a.40.34"}),t.stream.codecs=n.join(",")}}function vM(e,t){var n=AE(t,"CLOSED-CAPTIONS");n=x(n);for(var o=n.next();!o.done;o=n.next()){var u=o.value;o=m0(u);var l=At(u,"GROUP-ID");u=At(u,"INSTREAM-ID"),e.L.get(l)||e.L.set(l,new Map),e.L.get(l).set(u,o)}}function v0(e,t){var n,o,u,l,d,f,p,v,y,T,E,I,P,L;return F(function(M){if(M.g==1){n=At(t,"GROUP-ID"),o="";var N=At(t,"TYPE").toLowerCase();return N=="subtitles"&&(N=Be),u=N,u!=Be&&n&&e.s.has(n)&&(o=e.s.get(n)),l=Ls(At(t,"URI"),e.l),e.g.has(l)?M.return(e.g.get(l)):(d=m0(t),f=xe(t,"NAME"),p=xe(t,"DEFAULT"),v=p=="YES",u=="audio"?N=(N=xe(t,"CHANNELS"))?parseInt(N.split("/")[0],10):null:N=null,y=N,u=="audio"?N=(N=xe(t,"CHANNELS"))?N.includes("/JOC"):!1:N=!1,T=N,E=xe(t,"CHARACTERISTICS"),I=xe(t,"FORCED"),P=I=="YES",C(M,y0(e,l,o,u,d,v,f,y,null,E,P,T),2))}return L=M.h,e.B.has(n)?e.B.get(n).push(L):e.B.set(n,[L]),L==null?M.return(null):e.g.has(l)?M.return(e.g.get(l)):(e.g.set(l,L),M.return(L))})}function yM(e,t){var n,o,u,l,d,f,p,v,y,T;return F(function(E){return E.g==1?(n=Ls(At(t,"URI"),e.l),o=xe(t,"CODECS","jpeg")||"",e.g.has(n)?E.return(e.g.get(n)):(u=m0(t),l=xe(t,"NAME"),d=xe(t,"CHARACTERISTICS"),C(E,y0(e,n,o,"image",u,!1,l,null,null,d,!1,!1),2))):(f=E.h,f==null?E.return(null):e.g.has(n)?E.return(e.g.get(n)):((p=xe(t,"RESOLUTION"))&&(v=f.stream.segmentIndex.get(0),(y=v.tilesLayout)&&(f.stream.width=Number(p.split("x")[0])*Number(y.split("x")[0]),f.stream.height=Number(p.split("x")[1])*Number(y.split("x")[1]))),(T=xe(t,"BANDWIDTH"))&&(f.stream.bandwidth=Number(T)),e.g.set(n,f),E.return(f)))})}function xM(e,t,n,o,u){var l,d,f,p;return F(function(v){if(v.g==1){if(l=Ls(At(t,"URI"),e.l),e.g.has(l))return v.return(e.g.get(l));var y=xe(t,"CLOSED-CAPTIONS");return d=o=="video"&&y&&y!="NONE"?e.L.get(y):null,f=ao(o,n),C(v,y0(e,l,f,o,"und",!1,null,null,d,null,!1,!1,u),2)}return p=v.h,p==null?v.return(null):e.g.has(l)?v.return(e.g.get(l)):(e.g.set(l,p),v.return(p))})}function y0(e,t,n,o,u,l,d,f,p,v,y,T,E){var I,P,L,M,N,V,z,j,H,q,Q,te,J,ue,ve,ye,_e,Ee,Fe,at,De,$t,or,Ft,vn,yn,bo,Ca,g4,m4,v4,y4,Hg,Kg,Ed,x4,S4,T4,E4;return F(function(Nn){switch(Nn.g){case 1:return I=Vt([e.M],[t])[0],C(Nn,S0(e,I),2);case 2:if(P=Nn.h,I=P.uri,L=h0(e.$,P.data,I),L.type!=1)throw new O(2,4,4017);if(M=[],L.segments)for(N=x(L.segments),V=N.next();!V.done;V=N.next())z=V.value,j=er(z.aa,"EXT-X-KEY"),M.push.apply(M,b(j));for(H=!1,q=[],Q=new Set,te=x(M),J=te.next();!J.done;J=te.next())if(ue=J.value,ve=At(ue,"METHOD"),ve!="NONE"){if(H=!0,ve=="AES-128")return e.Ba=!0,Nn.return(null);if(ye=At(ue,"KEYFORMAT"),Ee=(_e=_M[ye])?_e(ue):null){if(Ee.keyIds)for(Fe=x(Ee.keyIds),at=Fe.next();!at.done;at=Fe.next())De=at.value,Q.add(De);q.push(Ee)}}if(H&&!q.length)throw new O(2,4,4026);return $t=er(L.aa,"EXT-X-DEFINE"),or=PE(e,$t),SM(e,L),C(Nn,IM(e,o,n,L,or),3);case 3:return Ft=Nn.h,UE.includes(Ft)&&(n=""),vn=new Map,yn=new Map,ae(Nn,4),C(Nn,DE(e,t,L,o,Ft,vn,or,yn,n,E),6);case 6:bo=Nn.h,Ae(Nn,5);break;case 4:if(Ca=ge(Nn),Ca.code==4035)return je("Skipping unsupported HLS stream",Ft,t),Nn.return(null);throw Ca;case 5:if(g4=bo[0].startTime,m4=bo[bo.length-1].endTime,v4=new Le(bo),y4=o==Be?"subtitle":void 0,Hg=[],v)for(Kg=x(v.split(",")),Ed=Kg.next();!Ed.done;Ed=Kg.next())x4=Ed.value,Hg.push(x4);return T4=(S4=an(L.aa,"EXT-X-SERVER-CONTROL"))?S4.getAttribute("CAN-SKIP-UNTIL")!=null:!1,E4={id:e.Aa++,originalId:d,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:v4,mimeType:Ft,codecs:n,kind:y4,encrypted:H,drmInfos:q,keyIds:Q,language:u,label:d,type:o,primary:l,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:Hg,forced:y,channelsCount:f,audioSamplingRate:null,spatialAudio:T,closedCaptions:p,hdr:void 0,tilesLayout:void 0},Nn.return({stream:E4,Fd:t,Pf:I,tf:g4,Rg:m4,ie:vn,Zf:yn,Uf:T4})}})}function SM(e,t){var n=an(t.aa,"EXT-X-PLAYLIST-TYPE"),o=an(t.aa,"EXT-X-ENDLIST");if(o=n&&n.value=="VOD"||o,n=n&&n.value=="EVENT"&&!o,n=!o&&!n,o)Oc(e,tr);else{if(n?Oc(e,jE):Oc(e,FE),o=an(t.aa,"EXT-X-TARGETDURATION"),!o)throw new O(2,4,4024,"EXT-X-TARGETDURATION");o=Number(o.value),n=an(t.aa,"EXT-X-PART-INF"),e.i&&n?(e.Ca=Number(At(n,"PART-TARGET")),e.I=Math.min(e.Ca,e.I),n=an(t.aa,"EXT-X-SERVER-CONTROL"),e.ea=n?Number(At(n,"PART-HOLD-BACK")):0):e.I=Math.min(o,e.I),e.ia=Math.max(o,e.ia)}}function NE(e,t,n,o){if(n=an(n,"EXT-X-MAP"),!n)return null;var u=At(n,"URI");return o=Ls(Vt([t],[u])[0],o),t=[o,xe(n,"BYTERANGE","")].join("-"),e.ha.has(t)||(n=TM(o,n),e.ha.set(t,n)),e.ha.get(t)}function TM(e,t){var n=0,o=null,u=xe(t,"BYTERANGE");return u&&(n=u.split("@"),o=Number(n[0]),n=Number(n[1]),o=n+o-1),new gn(function(){return[e]},n,o)}function ME(e,t,n,o,u,l,d,f,p){var v=o.aa,y=Ls(o.g,d),T=an(v,"EXTINF"),E=d=0,I=null,P=[];if(e.i&&o.h.length){e={},o=x(sn(o.h));for(var L=o.next();!L.done;e={Od:e.Od},L=o.next()){L=L.value;var M=L.wa;L=L.item;var N=M==0?n:P[P.length-1];M=M==0?u:N.endTime;var V=Number(xe(L,"DURATION"));V=M+V;var z=0,j=null;L.name=="EXT-X-PRELOAD-HINT"?z=(N=xe(L,"BYTERANGE-START"))?Number(N):0:(z=xe(L,"BYTERANGE"),N=x(RE(N,z)),z=N.next().value,j=N.next().value),L=xe(L,"URI"),e.Od=Vt([f],[L])[0],P.push(new tt(M,V,function(H){return function(){return[H.Od]}}(e),z,j,t,l,0,1/0))}}else if(!T)throw new O(2,4,4024,"EXTINF");return T?d=u+Number(T.value.split(",")[0]):d=P[P.length-1].endTime,(f=an(v,"EXT-X-BYTERANGE"))?(I=x(RE(n,f.value)),E=I.next().value,I=I.next().value):P.length&&(E=P[0].Ka,I=P[P.length-1].Da),n="",f=null,p=="image"&&(n="1x1",p=an(v,"EXT-X-TILES"))&&(n=At(p,"LAYOUT"),(p=xe(p,"DURATION"))&&(f=Number(p))),new tt(u,d,function(){return y.length?[y]:[]},E,I,t,l,0,1/0,P,n,f)}function RE(e,t){var n=0,o=null;return t&&(n=t.split("@"),o=Number(n[0]),n=n[1]?Number(n[1]):e.Da+1,o=n+o-1),[n,o]}function bE(e){if(e.h){for(var t=x(e.S),n=t.next();!n.done;n=t.next())e.h.tc(n.value);e.S=[]}}function DE(e,t,n,o,u,l,d,f,p,v){var y,T,E,I,P,L,M,N,V,z,j,H,q,Q,te,J,ue,ve,ye,_e,Ee,Fe,at;return F(function(De){switch(De.g){case 1:if(y=n.segments,E=f0(n.aa,"EXT-X-MEDIA-SEQUENCE",0),P=(I=an(n.aa,"EXT-X-SKIP"))?Number(xe(I,"SKIPPED-SEGMENTS")):0,L=E+P,e.j!=tr&&l.has(L)){M=l.get(L),De.D(2);break}if(e.P!=null){De.D(3);break}return T=NE(e,n.g,y[0].aa,d),N=e,C(De,OE(e,t,T,u,L,!1,y[0],d,o,p,v),4);case 4:N.P=De.h;case 3:M=e.P;case 2:if(V=y[0].g,V.split("/").pop(),z=f0(n.aa,"EXT-X-DISCONTINUITY-SEQUENCE"),e.i&&(f.has(z)||f.set(z,L),P))for(;f.has(z+1)&&f.get(z+1)<L;)z++;j=e.J.get(z)||0,H=[],q=function($t){return sn($t)},Q=x(q(y)),te=Q.next();case 5:if(te.done){De.D(7);break}if(J=te.value,ue=J.wa,ve=J.item,ye=H[H.length-1],_e=ue==0?M:ye.endTime,L=E+P+ue,l.set(L,_e),T=NE(e,n.g,ve.aa,d),Ee=an(ve.aa,"EXT-X-DISCONTINUITY"),!Ee){De.D(8);break}return z++,f.set(z,L),C(De,EM(e,z,t,T,u,L,ve,d,_e,o,p,v),9);case 9:j=De.h;case 8:!e.i&&e.F.isAutoLowLatencyMode()&&(e.F.enableLowLatencyMode(),e.i=e.F.isLowLatencyMode()),Fe=an(ve.aa,"EXTINF"),e.i||Fe?(at=ME(e,T,ye,ve,_e,j,d,n.g,o),H.push(at)):e.i||je("Low-latency HLS live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details."),te=Q.next(),De.D(5);break;case 7:return De.return(H)}})}function EM(e,t,n,o,u,l,d,f,p,v,y,T){var E,I;return F(function(P){return P.g==1?(E=0,e.J.has(t)?(E=e.J.get(t),P.D(2)):C(P,OE(e,n,o,u,l,!0,d,f,v,y,T),3)):(P.g!=2&&(I=P.h,E=p-I,e.J.set(t,E)),P.return(E))})}function x0(e,t,n,o,u,l){var d,f,p,v,y,T;return F(function(E){switch(E.g){case 1:return d=Ki,f=qu(t.Ma(),t.Ka,t.Da,e.m.retryParameters),e.F.modifySegmentRequest(f,{type:n,init:t instanceof gn,duration:t.endTime-t.startTime,mimeType:o,codecs:u,bandwidth:l}),e.m.hls.useFullSegmentsForStartTime?E.return(la(e,f,d)):(p=qu(t.Ma(),t.Ka,t.Ka+2048-1,e.m.retryParameters),e.F.modifySegmentRequest(p,{type:n,init:t instanceof gn,duration:t.endTime-t.startTime,mimeType:o,codecs:u,bandwidth:l}),ae(E,2),C(E,la(e,p,d),4));case 4:return v=E.h,E.return(v);case 2:if(y=ge(E),y.code==7001)throw y;return je("Unable to fetch the starting part of HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",p.uris[0]),C(E,la(e,f,d),5);case 5:return T=E.h,E.return(T)}})}function OE(e,t,n,o,u,l,d,f,p,v,y){var T,E,I,P,L,M,N,V;return F(function(z){switch(z.g){case 1:if(T=ME(e,n,null,d,0,0,f,"",p),e.H&&!l&&(E=e.g.get(t),I=E.ie.get(u),I!=null))return z.return(I);if(o=o.toLowerCase(),UE.includes(o))throw je("Raw formats are not yet supported.  Skipping "+o),new O(1,4,4035);if(o=="video/webm")throw je("WebM in HLS is not yet supported.  Skipping."),new O(1,4,4035);if(o!="video/mp4"&&o!="audio/mp4"){z.D(2);break}return P=[x0(e,T,p,o,v,y)],n&&P.push(x0(e,n,p,o,v,y)),C(z,Promise.all(P),3);case 3:return L=z.h,M=L[0],N=L[1]||L[0],z.return(wM(t,M.uri,M.data,N.data));case 2:if(o!="video/mp2t"){z.D(4);break}return C(z,x0(e,T,p,o,v,y),5);case 5:return V=z.h,z.return(AM(t,V.uri,V.data));case 4:throw new O(2,4,4030,t)}})}function wM(e,t,n,o){var u=0;if(new Ve().box("moov",nt).box("trak",nt).box("mdia",nt).Z("mdhd",function(f){u=fp(f.reader,f.version).timescale,f.parser.stop()}).parse(o,!0),!u)throw new O(2,4,4030,e,t);var l=0,d=!1;if(new Ve().box("moof",nt).box("traf",nt).Z("tfdt",function(f){l=dp(f.reader,f.version).Xd/u,d=!0,f.parser.stop()}).parse(n,!0),!d)throw new O(2,4,4030,e,t);return l}function AM(e,t,n){function o(){l.seek(d+188),f=l.ra(),f!=71&&(l.seek(d+192),f=l.ra()),f!=71&&(l.seek(d+204),f=l.ra()),f!=71&&u(),l.yf(1)}function u(){throw new O(2,4,4030,e,t)}var l=new be(n,0),d=0,f=0;for(n=Math.min(l.X.byteLength-188,940);;){if(d=l.qa(),f=l.ra(),f!=71){if(0<n){--n;continue}u()}n=0;var p=l.wc();if((p&8191)==8191)o();else if(p&16384)if(p=(l.ra()&48)>>4,p!=0&&p!=2||u(),p==3&&(p=l.ra(),l.skip(p)),l.T()>>8!=1)o();else{l.skip(3),n=l.ra()>>6,n!=0&&n!=1||u(),l.ra()==0&&u(),n=l.ra(),p=l.wc();var v=l.wc();return(1073741824*((n&14)>>1)+((p&65534)<<14|(v&65534)>>1))/9e4}else o()}}function Ls(e,t){var n=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}"),o=n.match(/{\$\w*}/g);if(o){o=x(o);for(var u=o.next();!u.done;u=o.next()){u=u.value;var l=u.slice(2,u.length-1),d=t.get(l);if(d)n=n.replace(u,d);else throw new O(2,4,4039,l)}}return n}function IM(e,t,n,o,u){var l,d,f,p,v,y,T,E,I,P,L;return F(function(M){return M.g==1?(l=Qt,d=Ki,f=Ls(o.segments[0].g,u),p=new Vn(f),v=p.Sa.split(".").pop(),y=CM[t],(T=y[v])?M.return(T):t==l.ua?n&&n!="vtt"&&n!="wvtt"?M.return("application/mp4"):M.return("text/vtt"):t==l.Gc&&(!n||n=="jpeg")?M.return("image/jpeg"):(E=si([f],e.m.retryParameters),E.method="HEAD",C(M,la(e,E,d),2))):(I=M.h,P=I.headers["content-type"],P?M.return(P.split(";")[0]):(L=y.mp4,M.return(L)))})}function S0(e,t){var n=si([t],e.m.retryParameters);return e.F.modifyManifestRequest(n,{format:"h"}),la(e,n,0)}g.Tc=function(){var e=this,t,n;return F(function(o){if(o.g==1)return e.F?(ae(o,2),C(o,e.update(),4)):o.return();if(o.g!=2)return t=e.ka,e.C.U(t),Ae(o,0);if(n=ge(o),!e.F)return o.return();n.severity=1,e.F.onError(n),e.C.U(.1),Z(o)})};function Oc(e,t){e.j=t,e.h&&e.h.Zc(e.j==tr),e.j!=tr||e.C.stop()}function la(e,t,n){if(!e.G)throw new O(2,7,7001);return t=e.F.networkingEngine.request(n,t),fs(e.G,t),t.promise}Y("shaka.hls.HlsParser",aa);var UE=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],CM={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",m4f:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",m4f:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",m4f:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"},image:{jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},_M={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=At(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(t=At(e,"URI"),t=g0(t),t=Re(t.data),t=Su("com.widevine.alpha",[{initDataType:"cenc",initData:t}]),(e=xe(e,"KEYID"))&&(t.keyIds=new Set([e.toLowerCase().substr(2)])),t):null},"com.microsoft.playready":function(e){var t=At(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(e=At(e,"URI"),e=g0(e),e=Re(e.data),t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=qT(e,t),Su("com.microsoft.playready",[{initDataType:"cenc",initData:e}])):null}},tr="VOD",FE="EVENT",jE="LIVE",BE={Of:tr,Nh:FE,Se:jE};xo.m3u8=function(){return new aa},Kn["application/x-mpegurl"]=function(){return new aa},Kn["application/vnd.apple.mpegurl"]=function(){return new aa};function zE(e,t,n,o,u,l){if(200<=n&&299>=n&&n!=202)return{uri:u||o,vf:o,data:t,status:n,headers:e,fromCache:!!e["x-shaka-from-cache"]};u=null;try{u=Fl(t)}catch{}throw new O(n==401||n==403?2:1,1,1001,o,n,u,e,l)}function T0(){}function Uc(e,t,n,o,u){var l=new MM;Uu(t.headers).forEach(function(v,y){l.append(y,v)});var d=new LM,f={Ve:!1,If:!1};if(e=kM(e,n,{body:t.body||void 0,headers:l,method:t.method,signal:d.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},f,o,u,t.streamDataCallback),e=new Je(e,function(){return f.Ve=!0,d.abort(),Promise.resolve()}),t=t.retryParameters.timeout){var p=new fe(function(){f.If=!0,d.abort()});p.U(t/1e3),e.finally(function(){p.stop()})}return e}function kM(e,t,n,o,u,l,d){var f,p,v,y,T,E,I,P,L,M,N,V,z;return F(function(j){switch(j.g){case 1:return f=PM,p=NM,E=T=0,I=Date.now(),ae(j,2),C(j,f(e,n),4);case 4:return v=j.h,l(VE(v.headers)),P=v.clone().body.getReader(),M=(L=v.headers.get("Content-Length"))?parseInt(L,10):0,N=function(H){function q(){var Q,te;return F(function(J){switch(J.g){case 1:return ae(J,2),C(J,P.read(),4);case 4:Q=J.h,Ae(J,3);break;case 2:return ge(J),J.return();case 3:if(Q.done){J.D(5);break}if(T+=Q.value.byteLength,!d){J.D(5);break}return C(J,d(Q.value),5);case 5:te=Date.now(),(100<te-I||Q.done)&&(u(te-I,T-E,M-T),E=T,I=te),Q.done?H.close():(H.enqueue(Q.value),q()),Z(J)}})}q()},new p({start:N}),C(j,v.arrayBuffer(),5);case 5:y=j.h,Ae(j,3);break;case 2:throw V=ge(j),o.Ve?new O(1,1,7001,e,t):o.If?new O(1,1,1003,e,t):new O(1,1,1002,e,V,t);case 3:return z=VE(v.headers),j.return(zE(z,y,v.status,e,v.url,t))}})}function VE(e){var t={};return e.forEach(function(n,o){t[o.trim()]=n}),t}function GE(){if(c.ReadableStream)try{new ReadableStream({})}catch{return!1}else return!1;return!(!c.fetch||!c.AbortController)}Y("shaka.net.HttpFetchPlugin",T0),T0.isSupported=GE,T0.parse=Uc;var PM=c.fetch,LM=c.AbortController,NM=c.ReadableStream,MM=c.Headers;GE()&&(Hi("http",Uc,2,!0),Hi("https",Uc,2,!0),Hi("blob",Uc,2,!0));function HE(){}function Fc(e,t,n,o,u){var l=new RM,d=Date.now(),f=0,p=new Promise(function(v,y){l.open(t.method,e,!0),l.responseType="arraybuffer",l.timeout=t.retryParameters.timeout,l.withCredentials=t.allowCrossSiteCredentials,l.onabort=function(){y(new O(1,1,7001,e,n))};var T=!1;l.onreadystatechange=function(){if(l.readyState==2&&!T){var I=KE(l);u(I),T=!0}},l.onload=function(){var I=KE(l),P=l.response;try{var L=zE(I,P,l.status,e,l.responseURL,n);v(L)}catch(M){y(M)}},l.onerror=function(I){y(new O(1,1,1002,e,I,n))},l.ontimeout=function(){y(new O(1,1,1003,e,n))},l.onprogress=function(I){var P=Date.now();(100<P-d||I.lengthComputable&&I.loaded==I.total)&&(o(P-d,I.loaded-f,I.total-I.loaded),f=I.loaded,d=P)};for(var E in t.headers)l.setRequestHeader(E.toLowerCase(),t.headers[E]);l.send(t.body)});return new Je(p,function(){return l.abort(),Promise.resolve()})}function KE(e){var t=e.getAllResponseHeaders().trim().split(`\r
`);e={},t=x(t);for(var n=t.next();!n.done;n=t.next())n=n.value.split(": "),e[n[0].toLowerCase()]=n.slice(1).join(": ");return e}Y("shaka.net.HttpXHRPlugin",HE),HE.parse=Fc;var RM=c.XMLHttpRequest;Hi("http",Fc,1,!0),Hi("https",Fc,1,!0),Hi("blob",Fc,1,!0);function WE(e,t,n,o){this.g=e,this.i=t,this.groupId=n,this.h=o}function E0(e){return e.Ma().map(function(t){return"{"+encodeURI(t)+"}"}).join("")+":"+e.Ka+":"+e.Da}function bM(e,t){return qu(e.g.Ma(),e.g.Ka,e.g.Da,t.streaming.retryParameters)}function $E(){this.h=this.j=this.i=0,this.g=new Map,this.l=0}function qE(e,t){e.i+=t;var n=e.l;return e.l++,e.g.set(n,t),n}$E.prototype.close=function(e,t){if(this.g.has(e)){var n=this.g.get(e);this.g.delete(e),this.j+=n,this.h+=t}};function XE(e){var t=this;this.V=e,this.g=new Map,this.N=new vo(function(){return w0(t).catch(function(){})}),this.h=[],this.Lf=function(){},this.Jf=function(){},this.fc=new $E}XE.prototype.destroy=function(){return this.N.destroy()};function DM(e,t,n){e.Lf=t,e.Jf=n}function w0(e){var t=e.h.map(function(n){return n()});return e.h=[],Promise.all(t)}function OM(e,t,n,o,u,l){We(e.N);var d=(e.g.get(t)||Promise.resolve()).then(function(){var f,p,v,y,T,E,I;return F(function(P){if(P.g==1)return C(P,jM(e,n),2);if(f=P.h,e.N.g)throw new O(2,9,7001);if(u)for(y in p=Re(f),v=new $T(p),v.data)T=Number(y),E=v.data[T],I=v.g[T],e.Jf(E,I);e.fc.close(o,f.byteLength);var L=e.fc;return e.Lf(L.i==0?0:L.j/L.i,e.fc.h),P.return(l(f))})});e.g.set(t,d)}function UM(e,t,n){We(e.N);var o=(e.g.get(t)||Promise.resolve()).then(function(){return F(function(u){return C(u,n(),0)})});e.g.set(t,o)}function FM(e){return F(function(t){return t.g==1?C(t,Promise.all(e.g.values()),2):t.return(e.fc.h)})}function jM(e,t){var n,o,u,l;return F(function(d){return d.g==1?(n=Ki,o=e.V.request(n,t),u=function(){return o.abort()},e.h.push(u),C(d,o.promise,2)):(l=d.h,ri(e.h,u),d.return(l.data))})}function jc(e,t){var n=this;this.i=e,this.h=e.objectStore(t),this.g=new Ke,e.onabort=function(o){o.preventDefault(),n.g.reject()},e.onerror=function(o){o.preventDefault(),n.g.reject()},e.oncomplete=function(){n.g.resolve()}}jc.prototype.abort=function(){var e=this;return F(function(t){if(t.g==1){try{e.i.abort()}catch{}return ae(t,2),C(t,e.g,4)}if(t.g!=2)return Ae(t,0);ge(t),Z(t)})};function A0(e,t){return new Promise(function(n,o){var u=e.h.openCursor();u.onerror=o,u.onsuccess=function(){var l;return F(function(d){if(d.g==1)return u.result==null?(n(),d.return()):(l=u.result,C(d,t(l.key,l.value,l),2));l.continue(),Z(d)})}})}jc.prototype.store=function(){return this.h},jc.prototype.promise=function(){return this.g};function I0(e){this.h=e,this.g=[]}I0.prototype.destroy=function(){return Promise.all(this.g.map(function(e){return e.abort()}))};function Po(e,t){return Bc(e,t,"readwrite")}function Bc(e,t,n){n=e.h.transaction([t],n);var o=new jc(n,t);return e.g.push(o),o.promise().then(function(){ri(e.g,o)},function(){ri(e.g,o)}),o}function Lo(e,t,n){this.h=new I0(e),this.i=t,this.g=n}g=Lo.prototype,g.destroy=function(){return this.h.destroy()},g.hasFixedKeySpace=function(){return!0},g.addSegments=function(){return YE(this.i)},g.removeSegments=function(e,t){return QE(this,this.i,e,t)},g.getSegments=function(e){var t=this,n;return F(function(o){return o.g==1?C(o,JE(t,t.i,e),2):(n=o.h,o.return(n.map(function(u){return t.Ye(u)})))})},g.addManifests=function(){return YE(this.g)},g.updateManifest=function(){return Promise.reject(new O(2,9,9016,"Cannot modify values in "+this.g))};function BM(e,t,n){e=Po(e.h,e.g);var o=e.store();return o.get(t).onsuccess=function(){o.put(n,t)},e.promise()}g.updateManifestExpiration=function(e,t){var n=Po(this.h,this.g),o=n.store();return o.get(e).onsuccess=function(u){(u=u.target.result)&&(u.expiration=t,o.put(u,e))},n.promise()},g.removeManifests=function(e,t){return QE(this,this.g,e,t)},g.getManifests=function(e){var t=this,n;return F(function(o){return o.g==1?C(o,JE(t,t.g,e),2):(n=o.h,o.return(Promise.all(n.map(function(u){return t.Jc(u)}))))})},g.getAllManifests=function(){var e=this,t,n;return F(function(o){return o.g==1?(t=Bc(e.h,e.g,"readonly"),n=new Map,C(o,A0(t,function(u,l){var d;return F(function(f){if(f.g==1)return C(f,e.Jc(l),2);d=f.h,n.set(u,d),Z(f)})}),2)):o.g!=3?C(o,t.promise(),3):o.return(n)})},g.Ye=function(e){return e},g.Jc=function(e){return Promise.resolve(e)};function YE(e){return Promise.reject(new O(2,9,9011,"Cannot add new value to "+e))}g.add=function(e,t){var n=this,o,u,l,d,f,p,v;return F(function(y){if(y.g==1){for(o=Po(n.h,e),u=o.store(),l=[],d={},f=x(t),p=f.next();!p.done;d={fd:d.fd},p=f.next())v=p.value,d.fd=u.add(v),d.fd.onsuccess=function(T){return function(){l.push(T.fd.result)}}(d);return C(y,o.promise(),2)}return y.return(l)})};function QE(e,t,n,o){e=Po(e.h,t),t=e.store();var u={};n=x(n);for(var l=n.next();!l.done;u={ed:u.ed},l=n.next())u.ed=l.value,t.delete(u.ed).onsuccess=function(d){return function(){return o(d.ed)}}(u);return e.promise()}function JE(e,t,n){var o,u,l,d,f,p,v;return F(function(y){if(y.g==1){for(o=Bc(e.h,t,"readonly"),u=o.store(),l={},d=[],f={},p=x(n),v=p.next();!v.done;f={Ec:f.Ec,Ac:f.Ac},v=p.next())f.Ac=v.value,f.Ec=u.get(f.Ac),f.Ec.onsuccess=function(T){return function(){T.Ec.result==null&&d.push(T.Ac),l[T.Ac]=T.Ec.result}}(f);return C(y,o.promise(),2)}if(d.length)throw new O(2,9,9012,"Could not find values for "+d);return y.return(n.map(function(T){return l[T]}))})}function ca(e){this.g=new I0(e)}ca.prototype.destroy=function(){return this.g.destroy()},ca.prototype.getAll=function(){var e=this,t,n;return F(function(o){return o.g==1?(t=Bc(e.g,"session-ids","readonly"),n=[],C(o,A0(t,function(u,l){n.push(l)}),2)):o.g!=3?C(o,t.promise(),3):o.return(n)})},ca.prototype.add=function(e){var t=Po(this.g,"session-ids"),n=t.store();e=x(e);for(var o=e.next();!o.done;o=e.next())n.add(o.value);return t.promise()},ca.prototype.remove=function(e){var t=this,n;return F(function(o){return o.g==1?(n=Po(t.g,"session-ids"),C(o,A0(n,function(u,l,d){e.includes(l.sessionId)&&d.delete()}),2)):C(o,n.promise(),0)})};function Ht(){this.g=new Map}Ht.prototype.destroy=function(){for(var e=[],t=x(this.g.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.g.clear(),Promise.all(e)},Ht.prototype.init=function(){var e=this;da.forEach(function(u,l){var d=u();d&&e.g.set(l,d)});for(var t=[],n=x(this.g.values()),o=n.next();!o.done;o=n.next())t.push(o.value.init());return Promise.all(t)};function C0(e){var t=null;if(e.g.forEach(function(n,o){n.getCells().forEach(function(u,l){u.hasFixedKeySpace()||t||(t={path:{Ya:o,oa:l},oa:u})})}),t)return t;throw new O(2,9,9013,"Could not find a cell that supports add-operations")}function zM(e,t){e.g.forEach(function(n,o){n.getCells().forEach(function(u,l){t({Ya:o,oa:l},u)})})}function zc(e,t,n){if(e=e.g.get(t),!e)throw new O(2,9,9013,"Could not find mechanism with name "+t);if(t=e.getCells().get(n),!t)throw new O(2,9,9013,"Could not find cell with name "+n);return t}function VM(e,t){e.g.forEach(function(n){t(n.getEmeSessionCell())})}function GM(e){var t=Array.from(e.g.keys());if(!t.length)throw new O(2,9,9e3,"No supported storage mechanisms found");return e.g.get(t[0]).getEmeSessionCell()}function HM(e){var t,n,o;return F(function(u){return u.g==1?(t=Array.from(e.g.values()),n=0<t.length,n||(o=da,o.forEach(function(l){(l=l())&&t.push(l)})),C(u,Promise.all(t.map(function(l){return l.erase()})),2)):n?u.D(0):C(u,Promise.all(t.map(function(l){return l.destroy()})),0)})}function ZE(e,t){da.set(e,t)}Y("shaka.offline.StorageMuxer",Ht),Ht.unregister=function(e){da.delete(e)},Ht.register=ZE,Ht.prototype.destroy=Ht.prototype.destroy;var da=new Map;function fa(){Lo.apply(this,arguments)}K(fa,Lo),fa.prototype.updateManifestExpiration=function(e,t){var n=this,o,u,l;return F(function(d){return o=Po(n.h,n.g),u=o.store(),l=new Ke,u.get(e).onsuccess=function(f){(f=f.target.result)?(f.expiration=t,u.put(f),l.resolve()):l.reject(new O(2,9,9012,"Could not find values for "+e))},C(d,Promise.all([o.promise(),l]),0)})},fa.prototype.Jc=function(e){var t,n,o,u,l,d;return F(function(f){if(f.g==1){for(t=[],n=0;n<e.periods.length;++n)o=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,u=o-e.periods[n].startTime,l=KM(e.periods[n],u),t.push(l);return C(f,aE(t),2)}return d=f.h,f.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration==null?1/0:e.expiration,streams:d,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata})})};function KM(e,t){$M(e);for(var n=x(e.streams),o=n.next();!o.done;o=n.next());return e.streams.map(function(u){return WM(u,e.startTime,t)})}function WM(e,t,n){var o=e.initSegmentUri?ew(e.initSegmentUri):null,u=t+e.presentationTimeOffset,l=t+n;return{id:e.id,originalId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,hdr:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:o,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(d){var f=ew(d.uri);return{startTime:t+d.startTime,endTime:t+d.endTime,dataKey:f,initSegmentKey:o,appendWindowStart:t,appendWindowEnd:l,timestampOffset:u,tilesLayout:""}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}fa.prototype.Ye=function(e){return{data:e.data}};function ew(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new O(2,9,9004,"Could not parse uri "+e)}function $M(e){var t=e.streams.filter(function(f){return f.contentType=="audio"});if(e=e.streams.filter(function(f){return f.contentType=="video"}),!t.every(function(f){return f.variantIds})||!e.every(function(f){return f.variantIds})){for(var n=x(t),o=n.next();!o.done;o=n.next())o.value.variantIds=[];for(n=x(e),o=n.next();!o.done;o=n.next())o.value.variantIds=[];if(n=0,e.length&&!t.length){var u=n++,l=x(e);for(o=l.next();!o.done;o=l.next())o.value.variantIds.push(u)}if(!e.length&&t.length)for(u=n++,l=x(t),o=l.next();!o.done;o=l.next())o.value.variantIds.push(u);if(e.length&&t.length)for(t=x(t),o=t.next();!o.done;o=t.next())for(o=o.value,u=x(e),l=u.next();!l.done;l=u.next()){l=l.value;var d=n++;o.variantIds.push(d),l.variantIds.push(d)}}}function Vc(){Lo.apply(this,arguments)}K(Vc,Lo),Vc.prototype.Jc=function(e){var t,n,o,u,l,d;return F(function(f){if(f.g==1){for(t=[],n=0;n<e.periods.length;++n){o=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,u=o-e.periods[n].startTime;for(var p=e.periods[n],v=[],y=x(p.streams),T=y.next();!T.done;T=y.next())T=T.value,T.variantIds.length!=0&&v.push(qM(T,p.startTime,p.startTime+u));l=v,t.push(l)}return C(f,aE(t),2)}return d=f.h,f.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:e.expiration==null?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:d})})};function qM(e,t,n){return{id:e.id,originalId:e.originalId,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map(function(o){return{startTime:t+o.startTime,endTime:t+o.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:o.dataKey,tilesLayout:""}}),variantIds:e.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0}}function _0(){Lo.apply(this,arguments)}K(_0,Lo),g=_0.prototype,g.hasFixedKeySpace=function(){return!1},g.addSegments=function(e){return this.add(this.i,e)},g.addManifests=function(e){return this.add(this.g,e)},g.updateManifest=function(e,t){return BM(this,e,t)},g.Jc=function(e){return e.expiration==null&&(e.expiration=1/0),Promise.resolve(e)};function tw(){this.s=this.j=this.i=this.h=this.g=this.l=null}g=tw.prototype,g.init=function(){var e=this,t=new Ke,n=c.indexedDB.open("shaka_offline_db",5);return n.onsuccess=function(){var o=n.result;e.l=o;var u=o.objectStoreNames;u=u.contains("manifest")&&u.contains("segment")?new fa(o,"segment","manifest"):null,e.g=u,u=o.objectStoreNames,u=u.contains("manifest-v2")&&u.contains("segment-v2")?new Vc(o,"segment-v2","manifest-v2"):null,e.h=u,u=o.objectStoreNames,u=u.contains("manifest-v3")&&u.contains("segment-v3")?new Vc(o,"segment-v3","manifest-v3"):null,e.i=u,u=o.objectStoreNames,u=u.contains("manifest-v5")&&u.contains("segment-v5")?new _0(o,"segment-v5","manifest-v5"):null,e.j=u,o=o.objectStoreNames.contains("session-ids")?new ca(o):null,e.s=o,t.resolve()},n.onupgradeneeded=function(){for(var o=n.result,u=x(["segment-v5","manifest-v5","session-ids"]),l=u.next();!l.done;l=u.next())l=l.value,o.objectStoreNames.contains(l)||o.createObjectStore(l,{autoIncrement:!0})},n.onerror=function(o){t.reject(new O(2,9,9001,n.error)),o.preventDefault()},t},g.destroy=function(){var e=this;return F(function(t){switch(t.g){case 1:if(!e.g){t.D(2);break}return C(t,e.g.destroy(),2);case 2:if(!e.h){t.D(4);break}return C(t,e.h.destroy(),4);case 4:if(!e.i){t.D(6);break}return C(t,e.i.destroy(),6);case 6:if(!e.j){t.D(8);break}return C(t,e.j.destroy(),8);case 8:if(!e.s){t.D(10);break}return C(t,e.s.destroy(),10);case 10:e.l&&e.l.close(),Z(t)}})},g.getCells=function(){var e=new Map;return this.g&&e.set("v1",this.g),this.h&&e.set("v2",this.h),this.i&&e.set("v3",this.i),this.j&&e.set("v5",this.j),e},g.getEmeSessionCell=function(){return this.s},g.erase=function(){var e=this;return F(function(t){switch(t.g){case 1:if(!e.g){t.D(2);break}return C(t,e.g.destroy(),2);case 2:if(!e.h){t.D(4);break}return C(t,e.h.destroy(),4);case 4:if(!e.i){t.D(6);break}return C(t,e.i.destroy(),6);case 6:if(!e.j){t.D(8);break}return C(t,e.j.destroy(),8);case 8:return e.l&&e.l.close(),C(t,XM(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,C(t,e.init(),0)}})};function XM(){var e=new Ke,t=c.indexedDB.deleteDatabase("shaka_offline_db");return t.onblocked=function(){},t.onsuccess=function(){e.resolve()},t.onerror=function(n){e.reject(new O(2,9,9001,t.error)),n.preventDefault()},e}ZE("idb",function(){return Ru()||!c.indexedDB?null:new tw});function Ni(e,t,n,o){this.g=e,this.i=t,this.h=n,this.l=o,this.j=["offline:",e,"/",t,"/",n,"/",o].join("")}Ni.prototype.Ya=function(){return this.i},Ni.prototype.oa=function(){return this.h},Ni.prototype.key=function(){return this.l},Ni.prototype.toString=function(){return this.j};function k0(e){if(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e),e==null)return null;var t=e[1];if(t!="manifest"&&t!="segment")return null;var n=e[2];if(!n)return null;var o=e[3];return o&&t!=null?new Ni(t,n,o,Number(e[4])):null}function nw(e,t){this.h=e,this.g=t}function iw(e,t){var n=new he(null,0);n.ib(t.duration);var o=t.streams.filter(function(v){return v.type=="audio"}),u=t.streams.filter(function(v){return v.type=="video"});o=YM(e,o,u,n),u=t.streams.filter(function(v){return v.type==Be}).map(function(v){return Gc(e,v,n)});var l=t.streams.filter(function(v){return v.type=="image"}).map(function(v){return Gc(e,v,n)}),d=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var f=x(o.values()),p=f.next();!p.done;p=f.next())p=p.value,p.audio&&p.audio.encrypted&&(p.audio.drmInfos=d),p.video&&p.video.encrypted&&(p.video.drmInfos=d);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(o.values()),textStreams:u,imageStreams:l}}function YM(e,t,n,o){for(var u=new Set,l=x(t),d=l.next();!d.done;d=l.next()){var f=x(d.value.variantIds);for(d=f.next();!d.done;d=f.next())u.add(d.value)}for(l=x(n),d=l.next();!d.done;d=l.next())for(f=x(d.value.variantIds),d=f.next();!d.done;d=f.next())u.add(d.value);for(l=new Map,u=x(u),d=u.next();!d.done;d=u.next())d=d.value,l.set(d,{id:d,language:"",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(t=x(t),u=t.next();!u.done;u=t.next())for(u=u.value,d=Gc(e,u,o),f=x(u.variantIds),u=f.next();!u.done;u=f.next())u=l.get(u.value),u.language=d.language,u.primary=u.primary||d.primary,u.audio=d;for(n=x(n),t=n.next();!t.done;t=n.next())for(u=t.value,t=Gc(e,u,o),d=x(u.variantIds),u=d.next();!u.done;u=d.next())u=l.get(u.value),u.primary=u.primary||t.primary,u.video=t;return l}function Gc(e,t,n){var o=t.segments.map(function(u){return QM(e,u)});return n.tc(o),{id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Le(o),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:t.hdr,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,forced:t.forced,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,spatialAudio:t.spatialAudio,closedCaptions:t.closedCaptions,tilesLayout:t.tilesLayout}}function QM(e,t){var n=new Ni("segment",e.h,e.g,t.dataKey);return new tt(t.startTime,t.endTime,function(){return[n.toString()]},0,null,t.initSegmentKey!=null?JM(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,[],t.tilesLayout||"")}function JM(e,t){var n=new Ni("segment",e.h,e.g,t);return new gn(function(){return[n.toString()]},0,null)}function rw(){this.g=null}g=rw.prototype,g.configure=function(){},g.start=function(e,t){var n=this,o,u,l,d,f,p,v;return F(function(y){switch(y.g){case 1:if(o=k0(e),n.g=o,o==null||o.g!="manifest")throw new O(2,1,9004,e);return u=new Ht,Bn(y),C(y,u.init(),4);case 4:return C(y,zc(u,o.Ya(),o.oa()),5);case 5:return l=y.h,C(y,l.getManifests([o.key()]),6);case 6:return d=y.h,f=d[0],p=new nw(o.Ya(),o.oa()),v=iw(p,f),t.makeTextStreamsForClosedCaptions(v),y.return(v);case 2:return In(y),C(y,u.destroy(),7);case 7:Cn(y,0)}})},g.stop=function(){return Promise.resolve()},g.update=function(){},g.onExpirationUpdated=function(e,t){var n=this,o,u,l,d,f,p,v;return F(function(y){switch(y.g){case 1:return o=n.g,u=new Ht,ae(y,2,3),C(y,u.init(),5);case 5:return C(y,zc(u,o.Ya(),o.oa()),6);case 6:return l=y.h,C(y,l.getManifests([o.key()]),7);case 7:if(d=y.h,f=d[0],p=f.sessionIds.includes(e),v=f.expiration==null||f.expiration>t,!p||!v){y.D(3);break}return C(y,l.updateManifestExpiration(o.key(),t),3);case 3:return In(y),C(y,u.destroy(),10);case 10:Cn(y,0);break;case 2:ge(y),y.D(3)}})},Kn["application/x-offline-manifest"]=function(){return new rw};function ow(){}function sw(e){var t=k0(e);return t&&t.g=="manifest"?(e={uri:e,vf:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},e=cs(e)):e=t&&t.g=="segment"?ZM(t.key(),t):mo(new O(2,1,9004,e)),e}function ZM(e,t){var n=new Ht;return cs(void 0).va(function(){return n.init()}).va(function(){return zc(n,t.Ya(),t.oa())}).va(function(o){return o.getSegments([t.key()])}).va(function(o){return{uri:t,data:o[0].data,headers:{}}}).finally(function(){return n.destroy()})}Y("shaka.offline.OfflineScheme",ow),ow.plugin=sw,Hi("offline",sw);function uw(e,t,n){var o,u,l,d,f,p;return F(function(v){switch(v.g){case 1:o=[];for(var y=[],T=x(n),E=T.next();!E.done;E=T.next()){E=E.value;for(var I=!1,P=x(y),L=P.next();!L.done;L=P.next())if(L=L.value,tR(L.info,E)){L.sessionIds.push(E.sessionId),I=!0;break}I||y.push({info:E,sessionIds:[E.sessionId]})}u=x(y),l=u.next();case 2:if(l.done){v.D(4);break}return d=l.value,f=eR(e,t,d),C(v,f,5);case 5:p=v.h,o=o.concat(p),l=u.next(),v.D(2);break;case 4:return v.return(o)}})}function eR(e,t,n){var o,u;return F(function(l){switch(l.g){case 1:return o=new Kl({Wb:t,onError:function(){},wd:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),ae(l,2),o.configure(e),C(l,_k(o,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:Ae(l,3);break;case 2:return ge(l),C(l,o.destroy(),5);case 5:return l.return([]);case 3:return ae(l,6),C(l,np(o),8);case 8:Ae(l,7);break;case 6:return ge(l),C(l,o.destroy(),9);case 9:return l.return([]);case 7:return u=[],C(l,Promise.all(n.sessionIds.map(function(d){return F(function(f){if(f.g==1)return ae(f,2),C(f,kk(o,d),4);if(f.g!=2)return u.push(d),Ae(f,0);ge(f),Z(f)})})),10);case 10:return C(l,o.destroy(),11);case 11:return l.return(u)}})}function tR(e,t){function n(o,u){return o.robustness==u.robustness&&o.contentType==u.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&Eu(e.audioCapabilities,t.audioCapabilities,n)&&Eu(e.videoCapabilities,t.videoCapabilities,n)}function nR(e,t,n){var o=t.presentationTimeline.getDuration();return t=aw(t),{offlineUri:null,originalManifestUri:e,duration:o,size:0,expiration:1/0,tracks:t,appMetadata:n,isIncomplete:!1}}function P0(e,t){var n=iw(new nw(e.Ya(),e.oa()),t),o=t.appMetadata||{};return n=aw(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:o,isIncomplete:t.isIncomplete||!1}}function aw(e){var t=[],n=ck(e.variants);n=x(n);for(var o=n.next();!o.done;o=n.next())t.push(go(o.value));for(e=x(e.textStreams),n=e.next();!n.done;n=e.next())t.push(Du(n.value));return t}function iR(){this.g={}}function rR(e,t){var n=t.audio,o=t.video;if(n&&!o&&(e.g[n.id]=n.bandwidth||t.bandwidth),!n&&o&&(e.g[o.id]=o.bandwidth||t.bandwidth),n&&o){var u=n.bandwidth||393216,l=o.bandwidth||t.bandwidth-u;0>=l&&(l=t.bandwidth),e.g[n.id]=u,e.g[o.id]=l}}function oR(e,t){e.g[t.id]=t.bandwidth||2048}function lw(e,t){var n=e.g[t];return n==null&&(n=0),n}function cw(){this.h=[],this.g=this.i=0}function sR(){var e=gw,t;return F(function(n){return n.g==1?(t=++e.i,e.g?C(n,new Promise(function(o){e.h.push(function(){e.g=t,o()})}),2):(e.g=t,n.D(2))):n.return(t)})}cw.prototype.release=function(e){e==this.g&&(this.g=0,0<this.h.length&&this.h.shift()())};function pt(e){var t=this;if(e&&e.constructor!=G)throw new O(2,9,9008);this.V=this.m=null,e?(this.m=e.m,this.V=e.Mc()):(this.m=Zu(),this.V=new ze),this.Uc=[],this.re=[];var n=!e;this.N=new vo(function(){var o,u,l,d,f;return F(function(p){switch(p.g){case 1:return C(p,Promise.all(t.re.map(function(v){return w0(v)})),2);case 2:for(o=function(){},u=[],l=x(t.Uc),d=l.next();!d.done;d=l.next())f=d.value,u.push(f.then(o,o));return C(p,Promise.all(u),3);case 3:if(!n){p.D(4);break}return C(p,t.V.destroy(),4);case 4:t.m=null,t.V=null,Z(p)}})})}function L0(){if(oi())e:{for(var e=x(da.values()),t=e.next();!t.done;t=e.next())if(t=t.value,t=t()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}g=pt.prototype,g.destroy=function(){return this.N.destroy()},g.configure=function(e,t){return arguments.length==2&&typeof e=="string"&&(e=cc(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(un("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),Ss(this.m,e)},g.getConfiguration=function(){var e=Zu();return Ss(e,this.m,Zu()),e},g.Mc=function(){return this.V},g.store=function(e,t,n){var o=this,u=this.getConfiguration(),l=new XE(this.V);this.re.push(l),t=uR(this,e,t||{},function(){var f;return F(function(p){return p.g==1?C(p,Sx(e,o.V,u.manifest.retryParameters,n||null),2):(f=p.h,p.return(uo(f)))})},u,l);var d=new Je(t,function(){return w0(l)});return d.finally(function(){ri(o.re,l)}),d.then=function(f){return un("shaka.offline.Storage.store.then","Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead."),d.promise.then(f)},wR(this,d)},g.Cg=function(){return un("shaka.offline.Storage.getStoreInProgress","Multiple concurrent downloads are now supported."),!1};function uR(e,t,n,o,u,l){var d,f,p,v,y,T,E,I,P,L,M,N,V,z;return F(function(j){switch(j.g){case 1:return Hc(),f=d=null,p=new Ht,T=y=v=null,ae(j,2,3),C(j,o(),5);case 5:return d=j.h,C(j,yR(e,t,d,u),6);case 6:if(E=j.h,mn(e),I=!E.presentationTimeline.W()&&!E.presentationTimeline.Tb(),!I)throw new O(2,9,9005,t);return C(j,xR(e,E,function(H){T=T||H},u),7);case 7:if(f=j.h,mn(e),T)throw T;return C(j,cR(E,u),8);case 8:return C(j,p.init(),9);case 9:return mn(e),C(j,C0(p),10);case 10:return v=j.h,mn(e),P=dR(f,E,t,n,u,l),L=P.Pg,M=P.Me,C(j,v.oa.addManifests([L]),11);case 11:if(N=j.h,mn(e),y=N[0],mn(e),T)throw T;return C(j,aR(e,M,y,L,l,u,v.oa,E,f),12);case 12:return mn(e),V=new Ni("manifest",v.path.Ya,v.path.oa,y),j.return(P0(V,L));case 3:return In(j),C(j,p.destroy(),13);case 13:if(!d){j.D(14);break}return C(j,d.stop(),14);case 14:if(!f){j.D(16);break}return C(j,f.destroy(),16);case 16:Cn(j,0);break;case 2:if(z=ge(j),y==null){j.D(18);break}return C(j,dw(y),18);case 18:throw T||z}})}function aR(e,t,n,o,u,l,d,f,p){var v,y;return F(function(T){switch(T.g){case 1:if(v=function(E,I){var P,L,M,N,V,z,j,H;return F(function(q){if(q.g==1){for(P=function(){mn(e)},L={},M=x(E),N=M.next();!N.done;L={bd:L.bd,Ab:L.Ab},N=M.next())L.Ab=N.value,L.bd=void 0,V=bM(L.Ab,l),z=L.Ab.i,j=L.Ab.h,H=function(Q){return function(te){return Q.bd=te,Promise.resolve()}}(L),OM(u,L.Ab.groupId,V,z,j,H),UM(u,L.Ab.groupId,function(Q){return function(){var te;return F(function(J){if(J.g==1)return te=Q.Ab.g,C(J,lR(n,te,{data:Q.bd},P),2);o=J.h||o,Z(J)})}}(L));return C(q,FM(u),2)}return I?(mn(e),fR(f,o,p,l),C(q,d.updateManifest(n,o),0)):q.D(0)})},y=!1,!N0(f)||!y||fw(f)){T.D(2);break}return C(T,v(t.filter(function(E){return E.h}),!0),3);case 3:mn(e),t=t.filter(function(E){return!E.h});case 2:if(y){T.D(0);break}return C(T,v(t,!1),5);case 5:mn(e),Z(T)}})}function dw(e){var t,n,o,u;return F(function(l){switch(l.g){case 1:return t=new Ht,C(l,t.init(),2);case 2:return C(l,C0(t),3);case 3:return n=l.h,o=new Ni("manifest",n.path.Ya,n.path.oa,e),C(l,t.destroy(),4);case 4:return u=new pt,C(l,u.remove(o.toString()),0)}})}function lR(e,t,n,o){var u,l,d,f,p,v,y,T,E,I,P,L,M,N,V,z,j;return F(function(H){switch(H.g){case 1:return u=new Ht,l=E0(t),d=!1,y=0,ae(H,2,3),C(H,u.init(),5);case 5:return C(H,C0(u),6);case 6:return p=H.h,C(H,p.oa.addSegments([n]),7);case 7:return T=H.h,f=T[0],o(),C(H,sR(),8);case 8:return y=H.h,o(),C(H,p.oa.getManifests([e]),9);case 9:for(E=H.h,o(),v=E[0],I=!0,P=x(v.streams),L=P.next();!L.done;L=P.next())for(M=L.value,N=x(M.segments),V=N.next();!V.done;V=N.next())z=V.value,z.pendingSegmentRefId==l&&(z.dataKey=f,z.pendingSegmentRefId=void 0),z.pendingInitSegmentRefId==l&&(z.initSegmentKey=f,z.pendingInitSegmentRefId=void 0),z.pendingSegmentRefId&&(I=!1),z.pendingInitSegmentRefId&&(I=!1);return v.size+=n.data.byteLength,I&&(v.isIncomplete=!1),C(H,p.oa.updateManifest(e,v),10);case 10:d=!0,o();case 3:return In(H),C(H,u.destroy(),11);case 11:gw.release(y),Cn(H,4);break;case 2:return j=ge(H),C(H,dw(e),12);case 12:if(!p||d||!f){H.D(13);break}return C(H,p.oa.removeSegments([f],function(){}),13);case 13:throw j;case 4:return H.return(v)}})}function cR(e,t){var n,o,u,l,d,f,p,v,y,T,E,I,P,L,M,N,V,z,j,H,q,Q,te,J,ue,ve,ye,_e,Ee;return F(function(Fe){switch(Fe.g){case 1:return n={width:1/0,height:1/0},ok(e,t.restrictions,n),C(Fe,b1(e,t.offline.usePersistentLicense),2);case 2:for(o=[],u=t.preferredAudioChannelCount,l=t.preferredDecodingAttributes,d=t.preferredVideoCodecs,f=t.preferredAudioCodecs,M1(e,d,f,u,l),p=x(e.variants),v=p.next();!v.done;v=p.next())y=v.value,o.push(go(y));for(T=x(e.textStreams),E=T.next();!E.done;E=T.next())I=E.value,o.push(Du(I));for(P=x(e.imageStreams),L=P.next();!L.done;L=P.next())M=L.value,o.push(j1(M));return C(Fe,t.offline.trackSelectionCallback(o),3);case 3:for(N=Fe.h,V=e.presentationTimeline.getDuration(),z=0,j=x(N),H=j.next();!H.done;H=j.next())q=H.value,Q=q.bandwidth*V/8,z+=Q;return ae(Fe,4),C(Fe,t.offline.downloadSizeCallback(z),6);case 6:if(te=Fe.h,!te)throw new O(2,9,9014);Ae(Fe,5);break;case 4:throw J=ge(Fe),J instanceof O?J:new O(2,9,9015);case 5:for(ue=new Set,ve=new Set,ye=new Set,_e=x(N),H=_e.next();!H.done;H=_e.next())Ee=H.value,Ee.type=="variant"&&ue.add(Ee.id),Ee.type=="text"&&ve.add(Ee.id),Ee.type=="image"&&ye.add(Ee.id);e.variants=e.variants.filter(function(at){return ue.has(at.id)}),e.textStreams=e.textStreams.filter(function(at){return ve.has(at.id)}),e.imageStreams=e.imageStreams.filter(function(at){return ye.has(at.id)}),CR(e),Z(Fe)}})}function dR(e,t,n,o,u,l){var d=nR(n,t,o),f=u.offline.progressCallback;DM(l,function(I,P){d.size=P,f(d,I)},function(I,P){p&&u.offline.usePersistentLicense&&v==P&&Wl(e,"cenc",I)});var p=N0(t)&&!fw(t),v=null;p&&(v=_R.get(e.i.keySystem));for(var y=new iR,T=x(t.textStreams),E=T.next();!E.done;E=T.next())y.g[E.value.id]=52;for(T=x(t.imageStreams),E=T.next();!E.done;E=T.next())oR(y,E.value);for(E=x(t.variants),T=E.next();!T.done;T=E.next())rR(y,T.value);return y=SR(l,y,t),l=y.streams,y=y.Me,E=e.i,T=u.offline.usePersistentLicense,E&&T&&(E.initData=[]),{Pg:{creationTime:Date.now(),originalManifestUri:n,duration:t.presentationTimeline.getDuration(),size:0,expiration:e.Lc(),streams:l,sessionIds:T?hx(e):[],drmInfo:E,appMetadata:o,isIncomplete:!0},Me:y}}function N0(e){return e.variants.some(function(t){var n=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||n})}function fw(e){return e.variants.some(function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some(function(n){return n.initData&&n.initData.length})})}function fR(e,t,n,o){if(t.expiration=n.Lc(),n=hx(n),t.sessionIds=o.offline.usePersistentLicense?n:[],N0(e)&&o.offline.usePersistentLicense&&!n.length)throw new O(2,9,9007)}g.remove=function(e){return M0(this,hR(this,e))};function hR(e,t){var n,o,u,l,d,f;return F(function(p){switch(p.g){case 1:if(Hc(),n=k0(t),n==null||n.g!="manifest")throw new O(2,9,9004,t);return o=n,u=new Ht,Bn(p),C(p,u.init(),4);case 4:return C(p,zc(u,o.Ya(),o.oa()),5);case 5:return l=p.h,C(p,l.getManifests([o.key()]),6);case 6:return d=p.h,f=d[0],C(p,Promise.all([pR(e,f,u),gR(l,o,f)]),2);case 2:return In(p),C(p,u.destroy(),8);case 8:Cn(p,0)}})}function hw(e,t){for(var n=[],o=x(e.streams),u=o.next();!u.done;u=o.next())u=u.value,t&&u.type=="video"?n.push({contentType:_i(u.mimeType,u.codecs),robustness:e.drmInfo.videoRobustness}):t||u.type!="audio"||n.push({contentType:_i(u.mimeType,u.codecs),robustness:e.drmInfo.audioRobustness});return n}function pR(e,t,n){return F(function(o){return C(o,IR(e.V,e.m.drm,n,t),0)})}function gR(e,t,n){function o(){}var u=AR(n);return P0(t,n),Promise.all([e.removeSegments(u,o),e.removeManifests([t.key()],o)])}g.eh=function(){return M0(this,mR(this))};function mR(e){var t,n,o,u,l,d,f,p,v,y;return F(function(T){switch(T.g){case 1:return Hc(),t=e.V,n=e.m.drm,o=new Ht,u=!1,Bn(T),C(T,o.init(),4);case 4:l=[],VM(o,function(E){return l.push(E)}),d=x(l),f=d.next();case 5:if(f.done){T.D(2);break}return p=f.value,C(T,p.getAll(),8);case 8:return v=T.h,C(T,uw(n,t,v),9);case 9:return y=T.h,C(T,p.remove(y),10);case 10:y.length!=v.length&&(u=!0),f=d.next(),T.D(5);break;case 2:return In(T),C(T,o.destroy(),11);case 11:Cn(T,3);break;case 3:return T.return(!u)}})}g.list=function(){return M0(this,vR())};function vR(){var e,t,n;return F(function(o){switch(o.g){case 1:return Hc(),e=[],t=new Ht,Bn(o),C(o,t.init(),4);case 4:return n=Promise.resolve(),zM(t,function(u,l){n=n.then(function(){var d;return F(function(f){if(f.g==1)return C(f,l.getAllManifests(),2);d=f.h,d.forEach(function(p,v){var y=P0(new Ni("manifest",u.Ya,u.oa,v),p);e.push(y)}),Z(f)})})}),C(o,n,2);case 2:return In(o),C(o,t.destroy(),6);case 6:Cn(o,3);break;case 3:return o.return(e)}})}function yR(e,t,n,o){var u,l,d,f,p;return F(function(v){if(v.g==1)return u=null,l=e.V,d={networkingEngine:l,modifyManifestRequest:function(){},modifySegmentRequest:function(){},filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(y){u=y},isLowLatencyMode:function(){return!1},isAutoLowLatencyMode:function(){return!1},enableLowLatencyMode:function(){}},n.configure(o.manifest),mn(e),C(v,n.start(t,d),2);if(v.g!=3)return f=v.h,mn(e),p=pw(f),C(v,Promise.all(o1(p,function(y){return y.createSegmentIndex()})),3);if(mn(e),u)throw u;return v.return(f)})}function xR(e,t,n,o){var u;return F(function(l){switch(l.g){case 1:return u=new Kl({Wb:e.V,onError:n,wd:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),u.configure(o.drm),C(l,Ck(u,t.variants,o.offline.usePersistentLicense),2);case 2:return C(l,np(u),3);case 3:return C(l,dx(u),4);case 4:return l.return(u)}})}function SR(e,t,n){var o=new Map,u=pw(n),l=new Map;u=x(u);for(var d=u.next();!d.done;d=u.next()){d=d.value;var f=TR(e,t,n,d,o);l.set(d.id,f)}for(e=x(n.variants),t=e.next();!t.done;t=e.next())t=t.value,t.audio&&l.get(t.audio.id).variantIds.push(t.id),t.video&&l.get(t.video.id).variantIds.push(t.id);return{streams:Array.from(l.values()),Me:Array.from(o.values())}}function TR(e,t,n,o,u){var l={id:o.id,originalId:o.originalId,primary:o.primary,type:o.type,mimeType:o.mimeType,codecs:o.codecs,frameRate:o.frameRate,pixelAspectRatio:o.pixelAspectRatio,hdr:o.hdr,kind:o.kind,language:o.language,label:o.label,width:o.width||null,height:o.height||null,encrypted:o.encrypted,keyIds:o.keyIds,segments:[],variantIds:[],roles:o.roles,forced:o.forced,channelsCount:o.channelsCount,audioSamplingRate:o.audioSamplingRate,spatialAudio:o.spatialAudio,closedCaptions:o.closedCaptions,tilesLayout:o.tilesLayout};return ER(o,n.presentationTimeline.ub(),function(d){var f=E0(d),p=void 0;if(!u.has(f)){var v=d.endTime-d.startTime;v=lw(t,o.id)*v,v=qE(e.fc,v),u.set(f,new WE(d,v,o.id,!1))}d.g&&(p=E0(d.g),u.has(p)||(v=.5*lw(t,o.id),v=qE(e.fc,v),u.set(p,new WE(d.g,v,o.id,!0)))),l.segments.push({pendingInitSegmentRefId:p,initSegmentKey:p?0:null,startTime:d.startTime,endTime:d.endTime,appendWindowStart:d.appendWindowStart,appendWindowEnd:d.appendWindowEnd,timestampOffset:d.timestampOffset,tilesLayout:d.tilesLayout,pendingSegmentRefId:f,dataKey:0})}),l}function ER(e,t,n){if(t=e.segmentIndex.find(t),t!=null)for(var o=e.segmentIndex.get(t);o;)n(o),o=e.segmentIndex.get(++t)}function mn(e){if(e.N.g)throw new O(2,9,7001)}function Hc(){if(!L0())throw new O(2,9,9e3)}function M0(e,t){return F(function(n){return n.g==1?(e.Uc.push(t),Bn(n),C(n,t,4)):n.g!=2?n.return(n.h):(In(n),ri(e.Uc,t),Cn(n,0))})}function wR(e,t){var n=t.promise;return e.Uc.push(n),t.finally(function(){ri(e.Uc,n)})}function AR(e){var t=new Set;e=x(e.streams);for(var n=e.next();!n.done;n=e.next()){n=x(n.value.segments);for(var o=n.next();!o.done;o=n.next())o=o.value,o.initSegmentKey!=null&&t.add(o.initSegmentKey),t.add(o.dataKey)}return Array.from(t)}function IR(e,t,n,o){var u,l,d;return F(function(f){return f.g==1?o.drmInfo?(u=GM(n),l=o.sessionIds.map(function(p){return{sessionId:p,keySystem:o.drmInfo.keySystem,licenseUri:o.drmInfo.licenseServerUri,serverCertificate:o.drmInfo.serverCertificate,audioCapabilities:hw(o,!1),videoCapabilities:hw(o,!0)}}),C(f,uw(t,e,l),2)):f.return():f.g!=3?(d=f.h,C(f,u.remove(d),3)):C(f,u.add(l.filter(function(p){return!d.includes(p.sessionId)})),0)})}function pw(e){for(var t=new Set,n=x(e.textStreams),o=n.next();!o.done;o=n.next())t.add(o.value);for(n=x(e.imageStreams),o=n.next();!o.done;o=n.next())t.add(o.value);for(e=x(e.variants),n=e.next();!n.done;n=e.next())n=n.value,n.audio&&t.add(n.audio),n.video&&t.add(n.video);return t}function CR(e){e.variants.map(function(l){return l.video});var t=new Set(e.variants.map(function(l){return l.audio}));e=e.textStreams;for(var n=x(t),o=n.next();!o.done;o=n.next()){o=x(t);for(var u=o.next();!u.done;u=o.next());}for(t=x(e),n=t.next();!n.done;n=t.next())for(n=x(e),o=n.next();!o.done;o=n.next());}Y("shaka.offline.Storage",pt),pt.deleteAll=function(){var e;return F(function(t){return t.g==1?(e=new Ht,Bn(t),C(t,HM(e),2)):t.g!=5?(In(t),C(t,e.destroy(),5)):Cn(t,0)})},pt.prototype.list=pt.prototype.list,pt.prototype.removeEmeSessions=pt.prototype.eh,pt.prototype.remove=pt.prototype.remove,pt.prototype.getStoreInProgress=pt.prototype.Cg,pt.prototype.store=pt.prototype.store,pt.prototype.getNetworkingEngine=pt.prototype.Mc,pt.prototype.getConfiguration=pt.prototype.getConfiguration,pt.prototype.configure=pt.prototype.configure,pt.prototype.destroy=pt.prototype.destroy,pt.support=L0;var gw=new cw,_R=new Map().set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");$p.offline=L0;function kt(){}function mw(){for(var e=x(Kc),t=e.next();!t.done;t=e.next()){t=t.value;try{t.Tf()}catch(n){je("Error installing polyfill!",n)}}}function Ot(e,t){for(var n={priority:t||0,Tf:e},o=x(sn(Kc)),u=o.next();!u.done;u=o.next()){u=u.value;var l=u.wa;if(u.item.priority<n.priority){Kc.splice(l,0,n);return}}Kc.push(n)}Y("shaka.polyfill",kt),kt.register=Ot,kt.installAll=mw;var Kc=[];function vw(){}function yw(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var e=x(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),t=e.next();!t.done;t=e.next())kR(t.value)}function kR(e){var t="aria-"+e.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,e,{get:function(){return this.getAttribute(t)},set:function(n){n==null||n==null?this.removeAttribute(t):this.setAttribute(t,n)}})}kt.Aria=vw,vw.install=yw,Ot(yw);function xw(){}function Sw(){R2()}kt.EncryptionScheme=xw,xw.install=Sw,Ot(Sw,-2);function Tw(){}function Ew(){if(c.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,e=Document.prototype,e.exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Ns),document.addEventListener("webkitfullscreenerror",Ns),document.addEventListener("mozfullscreenchange",Ns),document.addEventListener("mozfullscreenerror",Ns),document.addEventListener("MSFullscreenChange",Ns),document.addEventListener("MSFullscreenError",Ns)}}function Ns(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(t,e.bubbles,e.cancelable),e.target.dispatchEvent(n)}kt.Fullscreen=Tw,Tw.install=Ew,Ot(Ew);function ww(){}function Aw(){}kt.MathRound=ww,ww.install=Aw,Ot(Aw);function R0(){}function Iw(){(Ru()||bu()||Jt("PlayStation 5")||!navigator.mediaCapabilities)&&(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),Cw=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=PR)}function PR(e){var t,n,o,u,l,d,f,p,v,y,T,E,I,P,L,M;return F(function(N){switch(N.g){case 1:if(t={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},!e)return N.return(t);if(e.type=="media-source"){if(!oi()||e.video&&(n=e.video.contentType,o=MediaSource.isTypeSupported(n),!o)||e.audio&&(u=e.audio.contentType,l=MediaSource.isTypeSupported(u),!l))return N.return(t)}else if(e.type=="file"){if(e.video&&(d=e.video.contentType,f=os(d),!f)||e.audio&&(p=e.audio.contentType,v=os(p),!v))return N.return(t)}else return N.return(t);return e.keySystemConfiguration?(y=e.keySystemConfiguration,T=[],E=[],y.audio&&(I={robustness:y.audio.robustness||"",contentType:e.audio.contentType},T.push(I)),y.video&&(P={robustness:y.video.robustness||"",contentType:e.video.contentType},E.push(P)),L={initDataTypes:[y.initDataType],distinctiveIdentifier:y.distinctiveIdentifier,persistentState:y.persistentState,sessionTypes:y.sessionTypes},T.length&&(L.audioCapabilities=T),E.length&&(L.videoCapabilities=E),ae(N,3),C(N,navigator.requestMediaKeySystemAccess(y.keySystem,[L]),5)):(t.supported=!0,N.return(Promise.resolve(t)));case 5:M=N.h,Ae(N,4);break;case 3:ge(N);case 4:M&&(t.supported=!0,t.keySystemAccess=M);case 2:return N.return(t)}})}kt.MediaCapabilities=R0,R0.install=Iw;var Cw=null;R0.originalMcap=Cw,Ot(Iw,-1);function _w(){}function kw(){var e=L1();c.MediaSource&&(c.cast&&cast.__platform__&&cast.__platform__.canDisplayType?RR():e?(NR(),12>=e?(Pw(),LR()):Pw()):(Jt("Tizen 2")||Jt("Tizen 3")||Jt("Tizen 4"))&&MR()),c.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&bR()}function Pw(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],o=0;o<arguments.length;++o)n[o]=arguments[o];return n=e.apply(this,n),n.abort=function(){},n}}function LR(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function NR(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return t.split(/ *; */)[0].split("/")[1].toLowerCase()=="mp2t"?!1:e(t)}}function MR(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return Hn(t)!="opus"&&e(t)}}function RR(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */);return n.shift(),n.some(function(o){return o.startsWith("codecs=")})?cast.__platform__.canDisplayType(t):e(t)}}function bR(){var e=MediaSource.isTypeSupported;Jt("Web0S")||(MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */),o=n.findIndex(function(d){return d.startsWith("codecs=")});if(0>o)return e(t);var u=n[o].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),l=u.findIndex(function(d){return d.startsWith("vp09")});return 0<=l&&(u[l]="vp9",n[o]='codecs="'+u.join(",")+'"',t=n.join("; ")),e(t)})}kt.MediaSource=_w,_w.install=kw,Ot(kw);function Lw(){}function Nw(){screen.orientation||c.orientation!=null&&DR()}function DR(){function e(){switch(c.orientation){case-90:t.type="landscape-secondary",t.angle=270;break;case 0:t.type="portrait-primary",t.angle=0;break;case 90:t.type="landscape-primary",t.angle=90;break;case 180:t.type="portrait-secondary",t.angle=180}}var t=new Wc;screen.orientation=t,e(),c.addEventListener("orientationchange",function(){e();var n=new oe("change");t.dispatchEvent(n)})}kt.Orientation=Lw,Lw.install=Nw;function Wc(){Se.call(this),this.type="",this.angle=0}K(Wc,Se),Wc.prototype.lock=function(e){function t(o){return screen.lockOrientation?screen.lockOrientation(o):screen.mozLockOrientation?screen.mozLockOrientation(o):screen.msLockOrientation?screen.msLockOrientation(o):!1}var n=!1;switch(e){case"natural":n=t("default");break;case"any":n=!0,this.unlock();break;default:n=t(e)}return n?Promise.resolve():(e=Error("screen.orientation.lock() is not available on this device"),e.name="NotSupportedError",e.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(e))},Wc.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},Ot(Nw);function Mw(){}function Rw(){c.HTMLVideoElement&&c.WebKitMediaKeys&&(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=UR,c.MediaKeys=qc,c.MediaKeySystemAccess=$c,navigator.requestMediaKeySystemAccess=OR)}function OR(e,t){try{var n=new $c(e,t);return Promise.resolve(n)}catch(o){return Promise.reject(o)}}function UR(e){var t=this.mediaKeys;return t&&t!=e&&bw(t,null),delete this.mediaKeys,(this.mediaKeys=e)?bw(e,this):Promise.resolve()}function FR(e){if(e=Re(e.initData),pn(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=wr(e.subarray(4),!0),e=ho(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=Ii(e),this.dispatchEvent(t)}kt.PatchedMediaKeysApple=Mw,Mw.install=Rw;function $c(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(var n=x(t),o=n.next();!o.done;o=n.next()){var u=o.value;if(u.persistentState=="required")o=null;else{o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:u.initDataTypes,sessionTypes:["temporary"],label:u.label};var l=!1,d=!1;if(u.audioCapabilities)for(var f=x(u.audioCapabilities),p=f.next();!p.done;p=f.next())p=p.value,p.contentType&&(l=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,p.contentType.split(";")[0])&&(o.audioCapabilities.push(p),d=!0));if(u.videoCapabilities)for(u=x(u.videoCapabilities),p=u.next();!p.done;p=u.next())f=p.value,f.contentType&&(l=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,f.contentType.split(";")[0])&&(o.videoCapabilities.push(f),d=!0));l||(d=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),o=d?o:null}if(o){this.g=o;return}}throw n=Error("Unsupported keySystem"),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}$c.prototype.createMediaKeys=function(){var e=new qc(this.keySystem);return Promise.resolve(e)},$c.prototype.getConfiguration=function(){return this.g};function qc(e){this.g=new WebKitMediaKeys(e),this.h=new Ue}qc.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary")throw new TypeError("Session type "+e+" is unsupported on this platform.");return new b0(this.g)},qc.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function bw(e,t){if(e.h.Yb(),!t)return Promise.resolve();e.h.o(t,"webkitneedkey",FR);try{return wo(t,HTMLMediaElement.HAVE_METADATA,e.h,function(){t.webkitSetMediaKeys(e.g)}),Promise.resolve()}catch(n){return Promise.reject(n)}}function b0(e){Se.call(this),this.j=null,this.l=e,this.i=this.g=null,this.h=new Ue,this.sessionId="",this.expiration=NaN,this.closed=new Ke,this.keyStatuses=new Dw}K(b0,Se),g=b0.prototype,g.generateRequest=function(e,t){var n=this;this.g=new Ke;try{var o=this.l.createSession("video/mp4",Re(t));this.j=o,this.sessionId=o.sessionId||"",this.h.o(this.j,"webkitkeymessage",function(u){n.g&&(n.g.resolve(),n.g=null),u=new Map().set("messageType",n.keyStatuses.g==null?"license-request":"license-renewal").set("message",Ii(u.message)),u=new oe("message",u),n.dispatchEvent(u)}),this.h.o(o,"webkitkeyadded",function(){n.i&&(Xc(n,"usable"),n.i.resolve(),n.i=null)}),this.h.o(o,"webkitkeyerror",function(){var u=Error("EME PatchedMediaKeysApple key error");if(u.errorCode=n.j.error,n.g!=null)n.g.reject(u),n.g=null;else if(n.i!=null)n.i.reject(u),n.i=null;else switch(n.j.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Xc(n,"output-not-allowed");break;default:Xc(n,"internal-error")}}),Xc(this,"status-pending")}catch(u){this.g.reject(u)}return this.g},g.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},g.update=function(e){this.i=new Ke;try{this.j.update(Re(e))}catch(t){this.i.reject(t)}return this.i},g.close=function(){try{this.j.close(),this.closed.resolve(),this.h.Yb()}catch(e){this.closed.reject(e)}return this.closed},g.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function Xc(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,n=new oe("keystatuseschange"),e.dispatchEvent(n)}function Dw(){this.size=0,this.g=void 0}g=Dw.prototype,g.forEach=function(e){this.g&&e(this.g,hs.value())},g.get=function(e){if(this.has(e))return this.g},g.has=function(e){var t=hs.value();return!!(this.g&&Ai(e,t))},g.entries=function(){},g.keys=function(){},g.values=function(){},Ot(Rw);function Ow(){}function Uw(){!c.HTMLVideoElement||!c.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,c.MediaKeys=Qc,c.MediaKeySystemAccess=Yc,navigator.requestMediaKeySystemAccess=jR,HTMLMediaElement.prototype.setMediaKeys=zR)}function jR(e,t){try{var n=new Yc(e,t);return Promise.resolve(n)}catch(o){return Promise.reject(o)}}function BR(e){if(e.initData){var t=new CustomEvent("encrypted");t.initDataType="cenc",t.initData=Ii(oN(e.initData)),this.dispatchEvent(t)}}kt.PatchedMediaKeysMs=Ow,Ow.install=Uw;function Yc(e,t){this.keySystem=e;for(var n=!1,o=x(t),u=o.next();!u.done;u=o.next()){u=u.value;var l={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:u.initDataTypes,sessionTypes:["temporary"],label:u.label},d=!1;if(u.audioCapabilities)for(var f=x(u.audioCapabilities),p=f.next();!p.done;p=f.next())p=p.value,p.contentType&&(d=!0,MSMediaKeys.isTypeSupported(this.keySystem,p.contentType.split(";")[0])&&(l.audioCapabilities.push(p),n=!0));if(u.videoCapabilities)for(f=x(u.videoCapabilities),p=f.next();!p.done;p=f.next())p=p.value,p.contentType&&(d=!0,MSMediaKeys.isTypeSupported(this.keySystem,p.contentType.split(";")[0])&&(l.videoCapabilities.push(p),n=!0));if(d||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),u.persistentState=="required"&&(n=!1),n){this.g=l;return}}throw n=Error("Unsupported keySystem"),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}Yc.prototype.createMediaKeys=function(){var e=new Qc(this.keySystem);return Promise.resolve(e)},Yc.prototype.getConfiguration=function(){return this.g};function zR(e){var t=this.mediaKeys;return t&&t!=e&&Fw(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Fw(e,this):Promise.resolve()}function Qc(e){this.g=new MSMediaKeys(e),this.h=new Ue}Qc.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary")throw new TypeError("Session type "+e+" is unsupported on this platform.");return new D0(this.g)},Qc.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function Fw(e,t){if(e.h.Yb(),!t)return Promise.resolve();e.h.o(t,"msneedkey",BR);try{return wo(t,HTMLMediaElement.HAVE_METADATA,e.h,function(){t.msSetMediaKeys(e.g)}),Promise.resolve()}catch(n){return Promise.reject(n)}}function D0(e){Se.call(this),this.j=null,this.l=e,this.i=this.g=null,this.h=new Ue,this.sessionId="",this.expiration=NaN,this.closed=new Ke,this.keyStatuses=new jw}K(D0,Se),g=D0.prototype,g.generateRequest=function(e,t){var n=this;this.g=new Ke;try{this.j=this.l.createSession("video/mp4",Re(t),null),this.h.o(this.j,"mskeymessage",function(o){n.g&&(n.g.resolve(),n.g=null),o=new Map().set("messageType",n.keyStatuses.g==null?"license-request":"license-renewal").set("message",Ii(o.message)),o=new oe("message",o),n.dispatchEvent(o)}),this.h.o(this.j,"mskeyadded",function(){n.g?(ha(n,"usable"),n.g.resolve(),n.g=null):n.i&&(ha(n,"usable"),n.i.resolve(),n.i=null)}),this.h.o(this.j,"mskeyerror",function(){var o=Error("EME PatchedMediaKeysMs key error");if(o.errorCode=n.j.error,n.g!=null)n.g.reject(o),n.g=null;else if(n.i!=null)n.i.reject(o),n.i=null;else switch(n.j.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:ha(n,"output-not-allowed");break;default:ha(n,"internal-error")}}),ha(this,"status-pending")}catch(o){this.g.reject(o)}return this.g},g.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},g.update=function(e){this.i=new Ke;try{this.j.update(Re(e))}catch(t){this.i.reject(t)}return this.i},g.close=function(){try{this.j.close(),this.closed.resolve(),this.h.Yb()}catch(e){this.closed.reject(e)}return this.closed},g.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))};function ha(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,n=new oe("keystatuseschange"),e.dispatchEvent(n)}function jw(){this.size=0,this.g=void 0}g=jw.prototype,g.forEach=function(e){this.g&&e(this.g,hs.value())},g.get=function(e){if(this.has(e))return this.g},g.has=function(e){var t=hs.value();return!!(this.g&&Ai(e,t))},g.entries=function(){},g.keys=function(){},g.values=function(){},Ot(Uw);function Bw(){}function zw(){!c.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=VR,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=GR,c.MediaKeys=O0,c.MediaKeySystemAccess=U0)}function VR(){return Promise.reject(Error("The key system specified is not supported."))}function GR(e){return e==null?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}kt.PatchedMediaKeysNop=Bw,Bw.install=zw;function O0(){throw new TypeError("Illegal constructor.")}O0.prototype.createSession=function(){},O0.prototype.setServerCertificate=function(){};function U0(){throw this.keySystem="",new TypeError("Illegal constructor.")}U0.prototype.getConfiguration=function(){},U0.prototype.createMediaKeys=function(){},Ot(zw,-10);function Vw(){}function Gw(){if(!(!c.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)V0="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=HR,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=KR,c.MediaKeys=Zc,c.MediaKeySystemAccess=Jc}}function F0(e){var t=V0;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function HR(e,t){try{var n=new Jc(e,t);return Promise.resolve(n)}catch(o){return Promise.reject(o)}}function KR(e){var t=this.mediaKeys;return t&&t!=e&&Hw(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Hw(e,this),Promise.resolve()}kt.PatchedMediaKeysWebkit=Vw,Vw.install=Gw;function Jc(e,t){this.g=this.keySystem=e;var n=!1;e=="org.w3.clearkey"&&(this.g="webkit-org.w3.clearkey",n=!1);var o=!1,u=document.getElementsByTagName("video");u=u.length?u[0]:document.createElement("video");for(var l=x(t),d=l.next();!d.done;d=l.next()){d=d.value;var f={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:d.initDataTypes,sessionTypes:["temporary"],label:d.label},p=!1;if(d.audioCapabilities)for(var v=x(d.audioCapabilities),y=v.next();!y.done;y=v.next())y=y.value,y.contentType&&(p=!0,u.canPlayType(y.contentType.split(";")[0],this.g)&&(f.audioCapabilities.push(y),o=!0));if(d.videoCapabilities)for(v=x(d.videoCapabilities),y=v.next();!y.done;y=v.next())y=y.value,y.contentType&&(p=!0,u.canPlayType(y.contentType,this.g)&&(f.videoCapabilities.push(y),o=!0));if(p||(o=u.canPlayType("video/mp4",this.g)||u.canPlayType("video/webm",this.g)),d.persistentState=="required"&&(n?(f.persistentState="required",f.sessionTypes=["persistent-license"]):o=!1),o){this.h=f;return}}throw n="Unsupported keySystem",(e=="org.w3.clearkey"||e=="com.widevine.alpha")&&(n="None of the requested configurations were supported."),n=Error(n),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}Jc.prototype.createMediaKeys=function(){var e=new Zc(this.g);return Promise.resolve(e)},Jc.prototype.getConfiguration=function(){return this.h};function Zc(e){this.l=e,this.g=null,this.h=new Ue,this.i=[],this.j=new Map}function Hw(e,t){e.g=t,e.h.Yb();var n=V0;t&&(e.h.o(t,n+"needkey",function(o){var u=new CustomEvent("encrypted");u.initDataType="cenc",u.initData=Ii(o.initData),e.g.dispatchEvent(u)}),e.h.o(t,n+"keymessage",function(o){var u=j0(e,o.sessionId);u&&(o=new Map().set("messageType",u.keyStatuses.g==null?"licenserequest":"licenserenewal").set("message",o.message),o=new oe("message",o),u.h&&(u.h.resolve(),u.h=null),u.dispatchEvent(o))}),e.h.o(t,n+"keyadded",function(o){(o=j0(e,o.sessionId))&&(ed(o,"usable"),o.g&&o.g.resolve(),o.g=null)}),e.h.o(t,n+"keyerror",function(o){var u=j0(e,o.sessionId);u&&u.handleError(o)}))}Zc.prototype.createSession=function(e){if(e=e||"temporary",e!="temporary"&&e!="persistent-license")throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.g||document.createElement("video");return t.src||(t.src="about:blank"),e=new B0(t,this.l,e),this.i.push(e),e},Zc.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function j0(e,t){var n=e.j.get(t);return n||((n=e.i.shift())?(n.sessionId=t,e.j.set(t,n),n):null)}function B0(e,t,n){Se.call(this),this.j=e,this.s=!1,this.g=this.h=null,this.i=t,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new Ke,this.keyStatuses=new Ww}K(B0,Se),g=B0.prototype,g.handleError=function(e){var t=Error("EME v0.1b key error"),n=e.errorCode;n.systemCode=e.systemCode,t.errorCode=n,!e.sessionId&&this.h?(e.systemCode==45&&(t.message="Unsupported session type."),this.h.reject(t),this.h=null):e.sessionId&&this.g?(this.g.reject(t),this.g=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?ed(this,"output-restricted"):t==1?ed(this,"expired"):ed(this,"internal-error"))};function Kw(e,t,n){if(e.s)return Promise.reject(Error("The session is already initialized."));e.s=!0;try{if(e.l=="persistent-license")if(n)var o=Re(ho("LOAD_SESSION|"+n));else{var u=ho("PERSISTENT|");o=Pu(u,t)}else o=Re(t)}catch(d){return Promise.reject(d)}e.h=new Ke;var l=F0("generateKeyRequest");try{e.j[l](e.i,o)}catch(d){if(d.name!="InvalidStateError")return e.h=null,Promise.reject(d);new fe(function(){try{e.j[l](e.i,o)}catch(f){e.h.reject(f),e.h=null}}).U(.01)}return e.h}function z0(e,t,n){if(e.g)e.g.then(function(){return z0(e,t,n)}).catch(function(){return z0(e,t,n)});else{if(e.g=t,e.i=="webkit-org.w3.clearkey"){var o=Gt(n),u=JSON.parse(o);u.keys[0].kty!="oct"&&(e.g.reject(Error("Response is not a valid JSON Web Key Set.")),e.g=null),o=Ar(u.keys[0].k),u=Ar(u.keys[0].kid)}else o=Re(n),u=null;var l=F0("addKey");try{e.j[l](e.i,o,u,e.sessionId)}catch(d){e.g.reject(d),e.g=null}}}function ed(e,t){var n=e.keyStatuses;n.size=t==null?0:1,n.g=t,n=new oe("keystatuseschange"),e.dispatchEvent(n)}g.generateRequest=function(e,t){return Kw(this,t,null)},g.load=function(e){return this.l=="persistent-license"?Kw(this,null,e):Promise.reject(Error("Not a persistent session."))},g.update=function(e){var t=new Ke;return z0(this,t,e),t},g.close=function(){if(this.l!="persistent-license"){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=F0("cancelKeyRequest");try{this.j[e](this.i,this.sessionId)}catch{}}return this.closed.resolve(),this.closed},g.remove=function(){return this.l!="persistent-license"?Promise.reject(Error("Not a persistent session.")):this.close()};function Ww(){this.size=0,this.g=void 0}g=Ww.prototype,g.forEach=function(e){this.g&&e(this.g,hs.value())},g.get=function(e){if(this.has(e))return this.g},g.has=function(e){var t=hs.value();return!!(this.g&&Ai(e,t))},g.entries=function(){},g.keys=function(){},g.values=function(){};var V0="";Ot(Gw);function $w(){}function qw(){if(c.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=$R,Object.defineProperty(e,"disablePictureInPicture",{get:XR,set:YR,enumerable:!0,configurable:!0}),document.exitPictureInPicture=qR,document.addEventListener("webkitpresentationmodechanged",WR,!0))}}function WR(e){if(e=e.target,e.webkitPresentationMode=="picture-in-picture"){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function $R(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function qR(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function XR(){return this.hasAttribute("disablePictureInPicture")?!0:!this.webkitSupportsPresentationMode("picture-in-picture")}function YR(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}kt.PiPWebkit=$w,$w.install=qw,Ot(qw);function Xw(){}function Yw(){c.crypto&&("randomUUID"in c.crypto||(c.crypto.randomUUID=QR))}function QR(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.substr(t.lastIndexOf("/")+1)}kt.RandomUUID=Xw,Xw.install=Yw,Ot(Yw);function Qw(){}function Jw(){navigator.storage&&navigator.storage.estimate||!navigator.webkitTemporaryStorage||!navigator.webkitTemporaryStorage.queryUsageAndQuota||("storage"in navigator||(navigator.storage={}),navigator.storage.estimate=JR)}function JR(){return new Promise(function(e,t){navigator.webkitTemporaryStorage.queryUsageAndQuota(function(n,o){e({usage:n,quota:o})},t)})}kt.StorageEstimate=Qw,Qw.install=Jw,Ot(Jw);function Zw(){}function e2(){if(c.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch(function(){}),t}}}kt.VideoPlayPromise=Zw,Zw.install=e2,Ot(e2);function t2(){}function n2(){if(c.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=ZR)}}function ZR(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}kt.VideoPlaybackQuality=t2,t2.install=n2,Ot(n2);function i2(){}function r2(){if(!c.VTTCue&&c.TextTrackCue){var e=null,t=TextTrackCue.length;if(t==3)e=G0;else if(t==6)e=eb;else{try{var n=!!G0(1,2,"")}catch{n=!1}n&&(e=G0)}e&&(c.VTTCue=function(o,u,l){return e(o,u,l)})}}function G0(e,t,n){return new c.TextTrackCue(e,t,n)}function eb(e,t,n){return new c.TextTrackCue(e+"-"+t+"-"+n,e,t,n)}kt.VTTCue=i2,i2.install=r2,Ot(r2);function Lr(){}Lr.prototype.parseInit=function(){},Lr.prototype.parseMedia=function(e,t){var n=null,o=[],u=Gt(e).split(/\r?\n/);u=x(u);for(var l=u.next();!l.done;l=u.next())if((l=l.value)&&!/^\s+$/.test(l)&&(l=tb.exec(l))){var d=nb.exec(l[1]);d=60*parseInt(d[1],10)+parseFloat(d[2].replace(",",".")),l=new Ge(d,t.segmentEnd?t.segmentEnd:d+2,l[2]),n&&(n.endTime=d,o.push(n)),n=l}return n&&o.push(n),o},Y("shaka.text.LrcTextParser",Lr),Lr.prototype.parseMedia=Lr.prototype.parseMedia,Lr.prototype.parseInit=Lr.prototype.parseInit;var tb=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,nb=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;Mt["application/x-subtitle-lrc"]=function(){return new Lr};function nr(){}nr.prototype.parseInit=function(){},nr.prototype.parseMedia=function(e,t){var n=Gt(e),o=[],u=new DOMParser,l=null;if(n=="")return o;try{l=u.parseFromString(n,"text/xml")}catch{throw new O(2,2,2005,"Failed to parse TTML.")}if(l){if(n=l.getElementsByTagName("parsererror")[0])throw new O(2,2,2005,n.textContent);var d=l.getElementsByTagName("tt")[0];if(!d)throw new O(2,2,2005,"TTML does not contain <tt> tag.");if(l=d.getElementsByTagName("body")[0],!l)return[];var f=Yi(d,pa,"frameRate"),p=Yi(d,pa,"subFrameRate"),v=Yi(d,pa,"frameRateMultiplier"),y=Yi(d,pa,"tickRate"),T=Yi(d,pa,"cellResolution");if(n=d.getAttribute("xml:space")||"default",u=Yi(d,id,"extent"),n!="default"&&n!="preserve")throw new O(2,2,2005,"Invalid xml:space value: "+n);n=n=="default",f=new ob(f,p,v,y),T=T&&(T=/^(\d+) (\d+)$/.exec(T))?{columns:parseInt(T[1],10),rows:parseInt(T[2],10)}:null,p=(p=d.getElementsByTagName("metadata")[0])?sN(p):[],v=Array.from(d.getElementsByTagName("style")),d=Array.from(d.getElementsByTagName("region")),y=[];for(var E=x(d),I=E.next();!I.done;I=E.next()){var P=I.value;I=new ns;var L=P.getAttribute("xml:id");if(L){I.id=L;var M=null;u&&(M=$0.exec(u)||q0.exec(u)),L=M?Number(M[1]):null,M=M?Number(M[2]):null;var N,V;(N=td(P,v,"extent"))&&(N=(V=$0.exec(N))||q0.exec(N),N!=null&&(I.width=Number(N[1]),I.height=Number(N[2]),V||(L!=null&&(I.width=100*I.width/L),M!=null&&(I.height=100*I.height/M)),I.widthUnits=V||L!=null?Er:0,I.heightUnits=V||M!=null?Er:0)),(P=td(P,v,"origin"))&&(N=(V=$0.exec(P))||q0.exec(P),N!=null&&(I.viewportAnchorX=Number(N[1]),I.viewportAnchorY=Number(N[2]),V||(M!=null&&(I.viewportAnchorY=100*I.viewportAnchorY/M),L!=null&&(I.viewportAnchorX=100*I.viewportAnchorX/L)),I.viewportAnchorUnits=V||L!=null?Er:0))}else I=null;I&&y.push(I)}if(rt(l,"p").length)throw new O(2,2,2001,"<p> can only be inside <div> in TTML");for(u=x(rt(l,"div")),E=u.next();!E.done;E=u.next())if(rt(E.value,"span").length)throw new O(2,2,2001,"<span> can only be inside <p> in TTML");(l=o2(l,t.periodStart,f,p,v,d,y,n,T,null,!1))&&o.push(l)}return o};function o2(e,t,n,o,u,l,d,f,p,v,y){var T=e.parentNode;if(e.nodeType==Node.COMMENT_NODE)return null;if(e.nodeType==Node.TEXT_NODE){if(!y)return null;var E=document.createElement("span");E.textContent=e.textContent}else E=e;for(var I=null,P=x(lb),L=P.next();!L.done&&!(I=nd(E,"backgroundImage",o,"#",L.value)[0]);L=P.next());if(P=y,(e.nodeName=="p"||I)&&(y=!0),f=(E.getAttribute("xml:space")||(f?"default":"preserve"))=="default",L=Array.from(E.childNodes).every(function(j){return j.nodeType==Node.TEXT_NODE}),e=[],!L)for(var M=x(E.childNodes),N=M.next();!N.done;N=M.next())(N=o2(N.value,t,n,o,u,l,d,f,p,E,y))&&e.push(N);o=v!=null,M=/\S/.test(E.textContent);var V=E.hasAttribute("begin")||E.hasAttribute("end")||E.hasAttribute("dur");if(!(V||M||E.tagName=="br"||e.length!=0||o&&!f))return null;for(N=a2(E,n),M=N.start,N=N.end;T&&T.nodeType==Node.ELEMENT_NODE&&T.tagName!="tt";)N=rb(T,n,M,N),M=N.start,N=N.end,T=T.parentNode;if(M==null&&(M=0),M+=t,N=N==null?1/0:N+t,!V&&0<e.length)for(M=1/0,N=0,t=x(e),n=t.next();!n.done;n=t.next())n=n.value,M=Math.min(M,n.startTime),N=Math.max(N,n.endTime);if(E.tagName=="br")return u=new Ge(M,N,""),u.lineBreak=!0,u;if(t="",L&&(t=E.textContent,f&&(t=t.trim(),t=t.replace(/\s+/g," "))),t=new Ge(M,N,t),t.nestedCues=e,y||(t.isContainer=!0),p&&(t.cellResolution=p),p=nd(E,"region",l,"")[0],E.hasAttribute("region")&&p&&p.getAttribute("xml:id")){var z=p.getAttribute("xml:id");t.region=d.filter(function(j){return j.id==z})[0]}return d=p,v&&o&&!E.getAttribute("region")&&!E.getAttribute("style")&&(d=nd(v,"region",l,"")[0]),ib(t,E,d,I,u,P,e.length==0),t}function ib(e,t,n,o,u,l,d){if(l=l||d,Kt(t,n,u,"direction",l)=="rtl"&&(e.direction="rtl"),d=Kt(t,n,u,"writingMode",l),d=="tb"||d=="tblr"?e.writingMode="vertical-lr":d=="tbrl"?e.writingMode="vertical-rl":d=="rltb"||d=="rl"?e.direction="rtl":d&&(e.direction=jh),(d=Kt(t,n,u,"textAlign",!0))?(e.positionAlign=ab[d],e.lineAlign=ub[d],e.textAlign=Fh[d.toUpperCase()]):e.textAlign="start",(d=Kt(t,n,u,"displayAlign",!0))&&(e.displayAlign=g1[d.toUpperCase()]),(d=Kt(t,n,u,"color",l))&&(e.color=d),(d=Kt(t,n,u,"backgroundColor",l))&&(e.backgroundColor=d),(d=Kt(t,n,u,"border",l))&&(e.border=d),(d=Kt(t,n,u,"fontFamily",l))&&(e.fontFamily=d),(d=Kt(t,n,u,"fontWeight",l))&&d=="bold"&&(e.fontWeight=700),d=Kt(t,n,u,"wrapOption",l),e.wrapLine=!(d&&d=="noWrap"),(d=Kt(t,n,u,"lineHeight",l))&&d.match(Ms)&&(e.lineHeight=d),(d=Kt(t,n,u,"fontSize",l))&&(d.match(Ms)||d.match(sb))&&(e.fontSize=d),(d=Kt(t,n,u,"fontStyle",l))&&(e.fontStyle=x1[d.toUpperCase()]),o){d=o.getAttribute("imageType")||o.getAttribute("imagetype");var f=o.getAttribute("encoding");o=o.textContent.trim(),d=="PNG"&&f=="Base64"&&o&&(e.backgroundImage="data:image/png;base64,"+o)}(o=Kt(t,n,u,"textOutline",l))&&(o=o.split(" "),o[0].match(Ms)?e.textStrokeColor=e.color:(e.textStrokeColor=o[0],o.shift()),o[0]&&o[0].match(Ms)?e.textStrokeWidth=o[0]:e.textStrokeColor=""),(o=Kt(t,n,u,"letterSpacing",l))&&o.match(Ms)&&(e.letterSpacing=o),(o=Kt(t,n,u,"linePadding",l))&&o.match(Ms)&&(e.linePadding=o),(l=Kt(t,n,u,"opacity",l))&&(e.opacity=parseFloat(l)),(n=td(n,u,"textDecoration"))&&s2(e,n),(t=H0(t,u,"textDecoration"))&&s2(e,t)}function s2(e,t){for(var n=x(t.split(" ")),o=n.next();!o.done;o=n.next())switch(o.value){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&ri(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&ri(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&ri(e.textDecoration,"overline")}}function Kt(e,t,n,o,u){return u=u===void 0?!0:u,(e=H0(e,n,o))?e:u?td(t,n,o):null}function td(e,t,n){if(!e)return null;var o=Yi(e,id,n);return o||u2(e,t,n)}function H0(e,t,n){var o=Yi(e,id,n);return o||u2(e,t,n)}function u2(e,t,n){e=nd(e,"style",t,"");for(var o=null,u=0;u<e.length;u++){var l=_o(e[u],"urn:ebu:tt:style",n);l||(l=Yi(e[u],id,n)),l||(l=H0(e[u],t,n)),l&&(o=l)}return o}function nd(e,t,n,o,u){var l=[];if(!e||1>n.length)return l;var d=e;for(e=null;d&&!(e=u?_o(d,u,t):d.getAttribute(t))&&(d=d.parentNode,d instanceof Element););if(t=e){for(t=x(t.split(" ")),u=t.next();!u.done;u=t.next())for(u=u.value,e=x(n),d=e.next();!d.done;d=e.next())if(d=d.value,o+d.getAttribute("xml:id")==u){l.push(d);break}}return l}function rb(e,t,n,o){return e=a2(e,t),n==null?n=e.start:e.start!=null&&(n+=e.start),o==null?o=e.end:e.start!=null&&(o+=e.start),{start:n,end:o}}function a2(e,t){var n=K0(e.getAttribute("begin"),t),o=K0(e.getAttribute("end"),t),u=K0(e.getAttribute("dur"),t);return o==null&&u!=null&&(o=n+u),{start:n,end:o}}function K0(e,t){var n=null;if(l2.test(e)){n=l2.exec(e);var o=Number(n[1]),u=Number(n[2]),l=Number(n[3]),d=Number(n[4]);d+=(Number(n[5])||0)/t.h,l+=d/t.frameRate,n=l+60*u+3600*o}else if(c2.test(e))n=W0(c2,e);else if(d2.test(e))n=W0(d2,e);else if(f2.test(e))n=f2.exec(e),n=Number(n[1])/t.frameRate;else if(h2.test(e))n=h2.exec(e),n=Number(n[1])/t.g;else if(p2.test(e))n=W0(p2,e);else if(e)throw new O(2,2,2001,"Could not parse cue time range in TTML");return n}function W0(e,t){var n=e.exec(t);return n==null||n[0]==""?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}Y("shaka.text.TtmlTextParser",nr),nr.prototype.parseMedia=nr.prototype.parseMedia,nr.prototype.parseInit=nr.prototype.parseInit;function ob(e,t,n,o){this.frameRate=Number(e)||30,this.h=Number(t)||1,this.g=Number(o),this.g==0&&(this.g=e?this.frameRate*this.h:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}var $0=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,sb=/^(\d{1,2}(?:\.\d+)?|100)%$/,Ms=/^(\d+px|\d+em|\d*\.?\d+c)$/,q0=/^(\d+)px (\d+)px$/,l2=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,c2=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,d2=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,f2=/^(\d*(?:\.\d*)?)f$/,h2=/^(\d*(?:\.\d*)?)t$/,p2=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,ub={left:co,center:"center",right:"end",start:co,end:"end"},ab={left:"line-left",center:"center",right:"line-right"},pa=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],id=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],lb=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];Mt["application/ttml+xml"]=function(){return new nr};function ci(){this.C=new nr}ci.prototype.parseInit=function(e){var t=!1;if(new Ve().box("moov",nt).box("trak",nt).box("mdia",nt).box("minf",nt).box("stbl",nt).Z("stsd",Xl).box("stpp",function(n){t=!0,n.parser.stop()}).parse(e),!t)throw new O(2,2,2007)},ci.prototype.parseMedia=function(e,t){var n=this,o=!1,u=[];if(new Ve().box("mdat",ps(function(l){o=!0,u=u.concat(n.C.parseMedia(l,t))})).parse(e,!1),!o)throw new O(2,2,2007);return u},Y("shaka.text.Mp4TtmlParser",ci),ci.prototype.parseMedia=ci.prototype.parseMedia,ci.prototype.parseInit=ci.prototype.parseInit,Mt['application/mp4; codecs="stpp"']=function(){return new ci},Mt['application/mp4; codecs="stpp.ttml"']=function(){return new ci},Mt['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new ci},Mt['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new ci};function di(){}di.prototype.parseInit=function(){},di.prototype.parseMedia=function(e,t){var n=Gt(e);n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,`
`);var o=n.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(o[0]))throw new O(2,2,2e3);if(n=t.periodStart,o[0].includes("X-TIMESTAMP-MAP")){var u=o[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),l=o[0].match(/MPEGTS:(\d+)/m);if(u&&l){if(n=X0(new ks(u[1])),n==null)throw new O(2,2,2e3);for(l=Number(l[1]),u=t.segmentStart;95443.7176888889<=u;)u-=95443.7176888889,l+=8589934592;n=t.periodStart+l/9e4-n}}l=[],u=x(o[0].split(`
`));for(var d=u.next();!d.done;d=u.next())if(d=d.value,/^Region:/.test(d)){d=new ks(d);var f=new ns;ko(d),Ps(d);for(var p=ko(d);p;){var v=f,y=p;(p=/^id=(.*)$/.exec(y))?v.id=p[1]:(p=/^width=(\d{1,2}|100)%$/.exec(y))?v.width=Number(p[1]):(p=/^lines=(\d+)$/.exec(y))?(v.height=Number(p[1]),v.heightUnits=2):(p=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(y))?(v.regionAnchorX=Number(p[1]),v.regionAnchorY=Number(p[2])):(p=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(y))?(v.viewportAnchorX=Number(p[1]),v.viewportAnchorY=Number(p[2])):/^scroll=up$/.exec(y)&&(v.scroll="up"),Ps(d),p=ko(d)}l.push(f)}for(u=new Map,g2(u),d=[],o=x(o.slice(1)),f=o.next();!f.done;f=o.next()){if(f=f.value.split(`
`),(f.length!=1||f[0])&&!/^NOTE($|[ \t])/.test(f[0])&&f[0]=="STYLE"&&f[1].includes("::cue")){v="global",(p=f[1].match(/\((.*)\)/))&&(v=p.pop()),p=f.slice(2,-1),f[1].includes("}")&&(y=/\{(.*?)\}/.exec(f[1]))&&(p=y[1].split(";")),y=new Ge(0,0,"");for(var T=!1,E=0;E<p.length;E++){var I=/^\s*([^:]+):\s*(.*)/.exec(p[E]);if(I){var P=I[2].trim().replace(";","");switch(I[1].trim()){case"background-color":T=!0,y.backgroundColor=P;break;case"color":T=!0,y.color=P;break;case"font-family":T=!0,y.fontFamily=P;break;case"font-size":T=!0,y.fontSize=P;break;case"font-weight":700<=parseInt(P,10)&&(T=!0,y.fontWeight=700);break;case"font-style":switch(P){case"normal":T=!0,y.fontStyle=Vh;break;case"italic":T=!0,y.fontStyle="italic";break;case"oblique":T=!0,y.fontStyle="oblique"}break;case"opacity":T=!0,y.opacity=parseFloat(P);break;case"white-space":T=!0,y.wrapLine=P!="noWrap"}}}T&&u.set(v,y)}if(E=n,f.length==1&&!f[0]||/^NOTE($|[ \t])/.test(f[0])||f[0]=="STYLE")f=null;else{if(v=null,f[0].includes("-->")||(v=f[0],f.splice(0,1)),p=new ks(f[0]),y=X0(p),I=Pr(p,/[ \t]+--\x3e[ \t]+/g),T=X0(p),y==null||I==null||T==null)throw new O(2,2,2001,"Could not parse cue time range in WebVTT");for(y+=E,T+=E,E=f.slice(1).join(`
`).trim(),u.has("global")?(f=u.get("global").clone(),f.startTime=y,f.endTime=T,f.payload=""):f=new Ge(y,T,""),m2(E,f,u),Ps(p),y=ko(p);y;)y2(f,y,l),Ps(p),y=ko(p);v!=null&&(f.id=v)}f&&d.push(f)}return d};function g2(e){for(var t=x(Object.entries(m1)),n=t.next();!n.done;n=t.next()){var o=x(n.value);n=o.next().value,o=o.next().value;var u=new Ge(0,0,"");u.color=o,e.set(n,u)}for(t=x(Object.entries(v1)),n=t.next();!n.done;n=t.next())o=x(n.value),n=o.next().value,o=o.next().value,u=new Ge(0,0,""),u.backgroundColor=o,e.set(n,u)}function m2(e,t,n){n.size===0&&g2(n),e=cb(e);var o=u0("<span>"+e+"</span>","span");if(o){var u=[];if(o=o.childNodes,o.length==1){var l=o[0];if(l.nodeType==Node.TEXT_NODE||l.nodeType==Node.CDATA_SECTION_NODE){t.payload=e;return}}for(e=x(o),o=e.next();!o.done;o=e.next())v2(o.value,t,u,n);t.nestedCues=u}else t.payload=e}function cb(e){for(var t=[],n=-1,o="",u=0;u<e.length;u++)if(e[u]==="/"){var l=e.indexOf(">",u);if(l<=u)return e;l=e.substring(u+1,l);var d=t.pop();if(l&&d){if(d===l)o+="/"+l+">";else{if(!d.startsWith("c.")||l!=="c")return e;o+="/"+d+">"}u+=l.length+1}else return e}else e[u]==="<"?n=u+1:e[u]===">"&&0<n&&(t.push(e.substr(n,u-n)),n=-1),o+=e[u];return o}function rd(e,t){return e&&0<e.length?e:t}function v2(e,t,n,o){var u=t.clone();if(e.nodeType===Node.ELEMENT_NODE&&e.nodeName)for(var l=x(e.nodeName.split(/[ .]+/)),d=l.next();!d.done;d=l.next()){if(d=d.value,o.has(d)){var f=o.get(d);f&&(u.backgroundColor=rd(f.backgroundColor,u.backgroundColor),u.color=rd(f.color,u.color),u.fontFamily=rd(f.fontFamily,u.fontFamily),u.fontSize=rd(f.fontSize,u.fontSize),u.fontWeight=f.fontWeight,u.fontStyle=f.fontStyle,u.opacity=f.opacity,u.wrapLine=f.wrapLine)}switch(d){case"b":u.fontWeight=700;break;case"i":u.fontStyle="italic";break;case"u":u.textDecoration.push("underline")}}if(YT(e))for(l=!0,o=x(e.textContent.split(`
`)),e=o.next();!e.done;e=o.next())e=e.value,l||(l=t.clone(),l.lineBreak=!0,n.push(l)),0<e.length&&(l=u.clone(),l.payload=e,n.push(l)),l=!1;else for(t=x(e.childNodes),e=t.next();!e.done;e=t.next())v2(e.value,u,n,o)}function y2(e,t,n){var o;(o=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=o[1],t=="middle"?e.textAlign=Tr:e.textAlign=Fh[t.toUpperCase()]):(o=/^vertical:(lr|rl)$/.exec(t))?e.writingMode=o[1]=="lr"?"vertical-lr":"vertical-rl":(o=/^size:([\d.]+)%$/.exec(t))?e.size=Number(o[1]):(o=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(o[1]),o[2]&&(t=o[2],e.positionAlign=t=="line-left"||t=="start"?"line-left":t=="line-right"||t=="end"?"line-right":"center")):(o=/^region:(.*)$/.exec(t))?(t=db(n,o[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=zh[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Bh,e.line=Number(n[1]),n[2]&&(e.lineAlign=zh[n[2].toUpperCase()]))}function db(e,t){var n=e.filter(function(o){return o.id==t});return n.length?n[0]:null}function X0(e){if(e=Pr(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}Y("shaka.text.VttTextParser",di),di.prototype.parseMedia=di.prototype.parseMedia,di.prototype.parseInit=di.prototype.parseInit,Mt["text/vtt"]=function(){return new di},Mt['text/vtt; codecs="vtt"']=function(){return new di},Mt['text/vtt; codecs="wvtt"']=function(){return new di};function Nr(){this.g=null}Nr.prototype.parseInit=function(e){var t=this,n=!1;if(new Ve().box("moov",nt).box("trak",nt).box("mdia",nt).Z("mdhd",function(o){o=fp(o.reader,o.version),t.g=o.timescale}).box("minf",nt).box("stbl",nt).Z("stsd",Xl).box("wvtt",function(){n=!0}).parse(e),!this.g)throw new O(2,2,2008);if(!n)throw new O(2,2,2008)},Nr.prototype.parseMedia=function(e,t){if(!this.g)throw new O(2,2,2008);var n=0,o=[],u,l=[],d=!1,f=!1,p=!1,v=null;if(new Ve().box("moof",nt).box("traf",nt).Z("tfdt",function(j){d=!0,n=dp(j.reader,j.version).Xd}).Z("tfhd",function(j){v=Kx(j.reader,j.flags).cf}).Z("trun",function(j){f=!0,o=Wx(j.reader,j.version,j.flags).zf}).box("mdat",ps(function(j){p=!0,u=j})).parse(e,!1),!p&&!d&&!f)throw new O(2,2,2008);for(var y=n,T=new be(u,0),E=x(o),I=E.next();!I.done;I=E.next()){I=I.value;var P=I.ye||v,L=I.Cd?n+I.Cd:y;y=L+(P||0);var M=0;do{var N=T.T();M+=N;var V=T.T(),z=null;Ax(V)=="vttc"?8<N&&(z=T.Lb(N-8)):T.skip(N-8),P&&z&&(N=fb(z,t.periodStart+L/this.g,t.periodStart+y/this.g),l.push(N))}while(I.sampleSize&&M<I.sampleSize)}return l.filter(Sr)};function fb(e,t,n){var o,u,l;return new Ve().box("payl",ps(function(d){o=Gt(d)})).box("iden",ps(function(d){u=Gt(d)})).box("sttg",ps(function(d){l=Gt(d)})).parse(e),o?hb(o,u,l,t,n):null}function hb(e,t,n,o,u){if(o=new Ge(o,u,""),m2(e,o,new Map),t&&(o.id=t),n)for(e=new ks(n),t=ko(e);t;)y2(o,t,[]),Ps(e),t=ko(e);return o}Y("shaka.text.Mp4VttParser",Nr),Nr.prototype.parseMedia=Nr.prototype.parseMedia,Nr.prototype.parseInit=Nr.prototype.parseInit,Mt['application/mp4; codecs="wvtt"']=function(){return new Nr};function Mr(){}Mr.prototype.parseInit=function(){},Mr.prototype.parseMedia=function(e){var t=Gt(e).replace(/\r+/g,"");if(t=t.trim(),e=[],t=="")return e;t=x(t.split(`

`));for(var n=t.next();!n.done;n=t.next()){n=n.value.split(`
`);var o=new ks(n[0]),u=x2(o),l=Pr(o,/,/g);if(o=x2(o),u==null||l==null||o==null)throw new O(2,2,2001,"Could not parse cue time range in SubViewer");e.push(new Ge(u,o,n.slice(1).join(`
`).trim()))}return e};function x2(e){if(e=Pr(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g),e==null)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}Y("shaka.text.SbvTextParser",Mr),Mr.prototype.parseMedia=Mr.prototype.parseMedia,Mr.prototype.parseInit=Mr.prototype.parseInit,Mt["text/x-subviewer"]=function(){return new Mr};function ir(){this.C=new di}ir.prototype.parseInit=function(){},ir.prototype.parseMedia=function(e,t){var n=Gt(e);return n=S2(n),n=Re(ho(n)),this.C.parseMedia(n,t)};function S2(e){var t=`WEBVTT

`;if(e=="")return t;e=e.replace(/\r+/g,""),e=e.trim(),e=x(e.split(`

`));for(var n=e.next();!n.done;n=e.next())n=n.value.split(/\n/),n[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),t+=n.join(`
`)+`

`;return t}Y("shaka.text.SrtTextParser",ir),ir.srt2webvtt=S2,ir.prototype.parseMedia=ir.prototype.parseMedia,ir.prototype.parseInit=ir.prototype.parseInit,Mt["text/srt"]=function(){return new ir};function Rr(){}Rr.prototype.parseInit=function(){},Rr.prototype.parseMedia=function(e){var t="",n="";e=Gt(e).split(/\r?\n\s*\r?\n/),e=x(e);for(var o=e.next();!o.done;o=e.next()){var u=gb.exec(o.value);u&&(o=u[1],u=u[2],o=="V4 Styles"||o=="V4+ Styles"?t=u:o=="Events"&&(n=u))}e=[],o=null,t=x(t.split(/\r?\n/));for(var l=t.next();!l.done;l=t.next())if(u=l.value,!/^\s*;/.test(u)&&(l=w2.exec(u))){if(u=l[1].trim(),l=l[2].trim(),u=="Format")o=l.split(od);else if(u=="Style"){u=l.split(od),l={};for(var d=0;d<o.length&&d<u.length;d++)l[o[d]]=u[d];e.push(l)}}for(o=[],t=null,u={},n=x(n.split(/\r?\n/)),l=n.next();!l.done;u={Ud:u.Ud},l=n.next())if(l=l.value,!/^\s*;/.test(l)&&(d=w2.exec(l))){if(l=d[1].trim(),d=d[2].trim(),l=="Format")t=d.split(od);else if(l=="Dialogue"){d=d.split(od),l={};for(var f=0;f<t.length&&f<d.length;f++)l[t[f]]=d[f];f=E2(l.Start);var p=E2(l.End);d=new Ge(f,p,d.slice(t.length-1).join(",").replace(/\\N/g,`
`).replace(/\{[^}]+\}/g,"")),u.Ud=l.Style,(l=e.find(function(v){return function(y){return y.Name==v.Ud}}(u)))&&pb(d,l),o.push(d)}}return o};function pb(e,t){var n=t.Fontname;if(n&&(e.fontFamily=n),(n=t.Fontsize)&&(e.fontSize=n+"px"),(n=t.PrimaryColour)&&(n=T2(n))&&(e.color=n),(n=t.BackColour)&&(n=T2(n))&&(e.backgroundColor=n),t.Bold&&(e.fontWeight=700),t.Italic&&(e.fontStyle="italic"),t.Underline&&e.textDecoration.push("underline"),(n=t.Spacing)&&(e.letterSpacing=n+"px"),n=t.Alignment)switch(parseInt(n,10)){case 1:e.displayAlign=wu,e.textAlign="start";break;case 2:e.displayAlign=wu,e.textAlign=Tr;break;case 3:e.displayAlign=wu,e.textAlign="end";break;case 5:e.displayAlign="before",e.textAlign="start";break;case 6:e.displayAlign="before",e.textAlign=Tr;break;case 7:e.displayAlign="before",e.textAlign="end";break;case 9:e.displayAlign="center",e.textAlign="start";break;case 10:e.displayAlign="center",e.textAlign=Tr;break;case 11:e.displayAlign="center",e.textAlign="end"}(n=t.AlphaLevel)&&(e.opacity=parseFloat(n))}function T2(e){return e=parseInt(e.replace("&H",""),16),0<=e?"rgba("+(e&255)+","+(e>>8&255)+","+(e>>16&255)+","+(e>>24&255^255)/255+")":null}function E2(e){return e=mb.exec(e),3600*(e[1]?parseInt(e[1].replace(":",""),10):0)+60*parseInt(e[2],10)+parseFloat(e[3])}Y("shaka.text.SsaTextParser",Rr),Rr.prototype.parseMedia=Rr.prototype.parseMedia,Rr.prototype.parseInit=Rr.prototype.parseInit;var gb=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,w2=/^\s*([^:]+):\s*(.*)/,od=/\s*,\s*/,mb=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;Mt["text/x-ssa"]=function(){return new Rr};/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/function A2(){}var ga;function I2(){ga?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(ga=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=vb):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function vb(e,t){var n=this,o;return F(function(u){return u.g==1?(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),C(u,ga.call(n,e,t),2)):(o=u.h,M2(o)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=ga,u.return(o)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=C2,u.return(C2.call(n,e,t))))})}function C2(e,t){var n=this,o,u,l,d,f,p,v,y,T,E;return F(function(I){if(I.g==1){for(console.assert(n==navigator,'bad "this" for requestMediaKeySystemAccess'),o=N2(e),u=[],l=x(t),d=l.next();!d.done;d=l.next())f=d.value,p=_2(f.videoCapabilities,o),v=_2(f.audioCapabilities,o),f.videoCapabilities&&f.videoCapabilities.length&&!p.length||f.audioCapabilities&&f.audioCapabilities.length&&!v.length||(y=Object.assign({},f),y.videoCapabilities=p,y.audioCapabilities=v,u.push(y));if(!u.length)throw T=Error("Unsupported keySystem or supportedConfigurations."),T.name="NotSupportedError",T.code=DOMException.NOT_SUPPORTED_ERR,T;return C(I,ga.call(n,e,u),2)}return E=I.h,I.return(new sd(E,o))})}function _2(e,t){return e&&e.filter(function(n){return!n.encryptionScheme||n.encryptionScheme==t})}Y("EmeEncryptionSchemePolyfill",A2),A2.install=I2;function k2(){}var ma;function P2(){ma?console.debug("McEncryptionSchemePolyfill: Already installed."):navigator.mediaCapabilities?(ma=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=yb):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function yb(e){var t=this,n,o;return F(function(u){return u.g==1?(console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),C(u,ma.call(t,e),2)):(n=u.h,e.keySystemConfiguration?(o=n.keySystemAccess)&&M2(o)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=ma,u.return(n)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=L2,u.return(L2.call(t,e))):u.return(n))})}function L2(e){var t=this,n,o,u,l,d,f,p,v,y;return F(function(T){switch(T.g){case 1:return console.assert(t==navigator.mediaCapabilities,'bad "this" for decodingInfo'),n=null,e.keySystemConfiguration&&(o=e.keySystemConfiguration,u=o.keySystem,l=o.audio&&o.audio.encryptionScheme,d=o.video&&o.video.encryptionScheme,n=N2(u),f={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},l&&l!=n||d&&d!=n)?T.return(f):C(T,ma.call(t,e),2);case 2:if(p=T.h,p.keySystemAccess){p.keySystemAccess=new sd(p.keySystemAccess,n),T.D(3);break}if(!e.keySystemConfiguration){T.D(3);break}var E=e.keySystemConfiguration,I=[],P=[];return E.audio&&I.push({robustness:E.audio.robustness||"",contentType:e.audio.contentType}),E.video&&P.push({robustness:E.video.robustness||"",contentType:e.video.contentType}),E={initDataTypes:E.initDataType?[E.initDataType]:[],distinctiveIdentifier:E.distinctiveIdentifier,persistentState:E.persistentState,sessionTypes:E.sessionTypes},I.length&&(E.audioCapabilities=I),P.length&&(E.videoCapabilities=P),v=E,y=p,C(T,navigator.requestMediaKeySystemAccess(e.keySystemConfiguration.keySystem,[v]),5);case 5:y.keySystemAccess=T.h;case 3:return T.return(p)}})}Y("McEncryptionSchemePolyfill",k2),k2.install=P2;function sd(e,t){this.h=e,this.g=t,this.keySystem=e.keySystem}sd.prototype.getConfiguration=function(){var e=this.h.getConfiguration();if(e.videoCapabilities)for(var t=x(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.g;if(e.audioCapabilities)for(t=x(e.audioCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.g;return e},sd.prototype.createMediaKeys=function(){return this.h.createMediaKeys()};function N2(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function M2(e){e=e.getConfiguration();var t=e.audioCapabilities&&e.audioCapabilities[0];return!!((e=e.videoCapabilities&&e.videoCapabilities[0]||t)&&e.encryptionScheme!==void 0)}function Y0(){}function R2(){I2(),P2()}Y("EncryptionSchemePolyfills",Y0),Y0.install=R2,typeof m<"u"&&m.exports&&(m.exports=Y0);/*
 @license
 Copyright 2013 Ali Al Dallal

 Licensed under the MIT license.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
*/for(var No={ach:{u:"Lwo",A:"Acholi"},ady:{u:"Адыгэбзэ",A:"Adyghe"},af:{u:"Afrikaans",A:"Afrikaans"},"af-NA":{u:"Afrikaans (Namibia)",A:"Afrikaans (Namibia)"},"af-ZA":{u:"Afrikaans (South Africa)",A:"Afrikaans (South Africa)"},ak:{u:"Tɕɥi",A:"Akan"},ar:{u:"العربية",A:"Arabic"},"ar-AR":{u:"العربية",A:"Arabic"},"ar-MA":{u:"العربية",A:"Arabic (Morocco)"},"ar-SA":{u:"العربية (السعودية)",A:"Arabic (Saudi Arabia)"},"ay-BO":{u:"Aymar aru",A:"Aymara"},az:{u:"Azərbaycan dili",A:"Azerbaijani"},"az-AZ":{u:"Azərbaycan dili",A:"Azerbaijani"},"be-BY":{u:"Беларуская",A:"Belarusian"},bg:{u:"Български",A:"Bulgarian"},"bg-BG":{u:"Български",A:"Bulgarian"},bn:{u:"বাংলা",A:"Bengali"},"bn-IN":{u:"বাংলা (ভারত)",A:"Bengali (India)"},"bn-BD":{u:"বাংলা(বাংলাদেশ)",A:"Bengali (Bangladesh)"},"bs-BA":{u:"Bosanski",A:"Bosnian"},ca:{u:"Català",A:"Catalan"},"ca-ES":{u:"Català",A:"Catalan"},cak:{u:"Maya Kaqchikel",A:"Kaqchikel"},"ck-US":{u:"ᏣᎳᎩ (tsalagi)",A:"Cherokee"},cs:{u:"Čeština",A:"Czech"},"cs-CZ":{u:"Čeština",A:"Czech"},cy:{u:"Cymraeg",A:"Welsh"},"cy-GB":{u:"Cymraeg",A:"Welsh"},da:{u:"Dansk",A:"Danish"},"da-DK":{u:"Dansk",A:"Danish"},de:{u:"Deutsch",A:"German"},"de-AT":{u:"Deutsch (Österreich)",A:"German (Austria)"},"de-DE":{u:"Deutsch (Deutschland)",A:"German (Germany)"},"de-CH":{u:"Deutsch (Schweiz)",A:"German (Switzerland)"},dsb:{u:"Dolnoserbšćina",A:"Lower Sorbian"},el:{u:"Ελληνικά",A:"Greek"},"el-GR":{u:"Ελληνικά",A:"Greek (Greece)"},en:{u:"English",A:"English"},"en-GB":{u:"English (UK)",A:"English (UK)"},"en-AU":{u:"English (Australia)",A:"English (Australia)"},"en-CA":{u:"English (Canada)",A:"English (Canada)"},"en-IE":{u:"English (Ireland)",A:"English (Ireland)"},"en-IN":{u:"English (India)",A:"English (India)"},"en-PI":{u:"English (Pirate)",A:"English (Pirate)"},"en-UD":{u:"English (Upside Down)",A:"English (Upside Down)"},"en-US":{u:"English (US)",A:"English (US)"},"en-ZA":{u:"English (South Africa)",A:"English (South Africa)"},"en@pirate":{u:"English (Pirate)",A:"English (Pirate)"},eo:{u:"Esperanto",A:"Esperanto"},"eo-EO":{u:"Esperanto",A:"Esperanto"},es:{u:"Español",A:"Spanish"},"es-AR":{u:"Español (Argentine)",A:"Spanish (Argentina)"},"es-419":{u:"Español (Latinoamérica)",A:"Spanish (Latin America)"},"es-CL":{u:"Español (Chile)",A:"Spanish (Chile)"},"es-CO":{u:"Español (Colombia)",A:"Spanish (Colombia)"},"es-EC":{u:"Español (Ecuador)",A:"Spanish (Ecuador)"},"es-ES":{u:"Español (España)",A:"Spanish (Spain)"},"es-LA":{u:"Español (Latinoamérica)",A:"Spanish (Latin America)"},"es-NI":{u:"Español (Nicaragua)",A:"Spanish (Nicaragua)"},"es-MX":{u:"Español (México)",A:"Spanish (Mexico)"},"es-US":{u:"Español (Estados Unidos)",A:"Spanish (United States)"},"es-VE":{u:"Español (Venezuela)",A:"Spanish (Venezuela)"},et:{u:"eesti keel",A:"Estonian"},"et-EE":{u:"Eesti (Estonia)",A:"Estonian (Estonia)"},eu:{u:"Euskara",A:"Basque"},"eu-ES":{u:"Euskara",A:"Basque"},fa:{u:"فارسی",A:"Persian"},"fa-IR":{u:"فارسی",A:"Persian"},"fb-LT":{u:"Leet Speak",A:"Leet"},ff:{u:"Fulah",A:"Fulah"},fi:{u:"Suomi",A:"Finnish"},"fi-FI":{u:"Suomi",A:"Finnish"},"fo-FO":{u:"Føroyskt",A:"Faroese"},fr:{u:"Français",A:"French"},"fr-CA":{u:"Français (Canada)",A:"French (Canada)"},"fr-FR":{u:"Français (France)",A:"French (France)"},"fr-BE":{u:"Français (Belgique)",A:"French (Belgium)"},"fr-CH":{u:"Français (Suisse)",A:"French (Switzerland)"},"fy-NL":{u:"Frysk",A:"Frisian (West)"},ga:{u:"Gaeilge",A:"Irish"},"ga-IE":{u:"Gaeilge (Gaelic)",A:"Irish (Gaelic)"},gl:{u:"Galego",A:"Galician"},"gl-ES":{u:"Galego",A:"Galician"},"gn-PY":{u:"Avañe'ẽ",A:"Guarani"},"gu-IN":{u:"ગુજરાતી",A:"Gujarati"},"gx-GR":{u:"Ἑλληνική ἀρχαία",A:"Classical Greek"},he:{u:"עברית‏",A:"Hebrew"},"he-IL":{u:"עברית‏",A:"Hebrew"},hi:{u:"हिन्दी",A:"Hindi"},"hi-IN":{u:"हिन्दी",A:"Hindi"},hr:{u:"Hrvatski",A:"Croatian"},"hr-HR":{u:"Hrvatski",A:"Croatian"},hsb:{u:"Hornjoserbšćina",A:"Upper Sorbian"},ht:{u:"Kreyòl",A:"Haitian Creole"},hu:{u:"Magyar",A:"Hungarian"},"hu-HU":{u:"Magyar",A:"Hungarian"},"hy-AM":{u:"Հայերեն",A:"Armenian"},id:{u:"Bahasa Indonesia",A:"Indonesian"},"id-ID":{u:"Bahasa Indonesia",A:"Indonesian"},is:{u:"Íslenska",A:"Icelandic"},"is-IS":{u:"Íslenska (Iceland)",A:"Icelandic (Iceland)"},it:{u:"Italiano",A:"Italian"},"it-IT":{u:"Italiano",A:"Italian"},ja:{u:"日本語",A:"Japanese"},"ja-JP":{u:"日本語",A:"Japanese"},"jv-ID":{u:"Basa Jawa",A:"Javanese"},"ka-GE":{u:"ქართული",A:"Georgian"},"kk-KZ":{u:"Қазақша",A:"Kazakh"},km:{u:"ភាសាខ្មែរ",A:"Khmer"},"km-KH":{u:"ភាសាខ្មែរ",A:"Khmer"},kab:{u:"Taqbaylit",A:"Kabyle"},kn:{u:"ಕನ್ನಡ",A:"Kannada"},"kn-IN":{u:"ಕನ್ನಡ (India)",A:"Kannada (India)"},ko:{u:"한국어",A:"Korean"},"ko-KR":{u:"한국어 (韩国)",A:"Korean (Korea)"},ku:{u:"Kurdî",A:"Kurdish"},"ku-TR":{u:"Kurdî",A:"Kurdish"},la:{u:"Latin",A:"Latin"},"la-VA":{u:"Latin",A:"Latin"},lb:{u:"Lëtzebuergesch",A:"Luxembourgish"},"li-NL":{u:"Lèmbörgs",A:"Limburgish"},lt:{u:"Lietuvių",A:"Lithuanian"},"lt-LT":{u:"Lietuvių",A:"Lithuanian"},lv:{u:"Latviešu",A:"Latvian"},"lv-LV":{u:"Latviešu",A:"Latvian"},mai:{u:"मैथिली, মৈথিলী",A:"Maithili"},"mg-MG":{u:"Malagasy",A:"Malagasy"},mk:{u:"Македонски",A:"Macedonian"},"mk-MK":{u:"Македонски (Македонски)",A:"Macedonian (Macedonian)"},ml:{u:"മലയാളം",A:"Malayalam"},"ml-IN":{u:"മലയാളം",A:"Malayalam"},"mn-MN":{u:"Монгол",A:"Mongolian"},mr:{u:"मराठी",A:"Marathi"},"mr-IN":{u:"मराठी",A:"Marathi"},ms:{u:"Bahasa Melayu",A:"Malay"},"ms-MY":{u:"Bahasa Melayu",A:"Malay"},mt:{u:"Malti",A:"Maltese"},"mt-MT":{u:"Malti",A:"Maltese"},my:{u:"ဗမာစကာ",A:"Burmese"},nb:{u:"Norsk (bokmål)",A:"Norwegian (bokmal)"},"nb-NO":{u:"Norsk (bokmål)",A:"Norwegian (bokmal)"},ne:{u:"नेपाली",A:"Nepali"},"ne-NP":{u:"नेपाली",A:"Nepali"},nl:{u:"Nederlands",A:"Dutch"},"nl-BE":{u:"Nederlands (België)",A:"Dutch (Belgium)"},"nl-NL":{u:"Nederlands (Nederland)",A:"Dutch (Netherlands)"},"nn-NO":{u:"Norsk (nynorsk)",A:"Norwegian (nynorsk)"},no:{u:"Norsk",A:"Norwegian"},oc:{u:"Occitan",A:"Occitan"},"or-IN":{u:"ଓଡ଼ିଆ",A:"Oriya"},pa:{u:"ਪੰਜਾਬੀ",A:"Punjabi"},"pa-IN":{u:"ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",A:"Punjabi (India)"},pl:{u:"Polski",A:"Polish"},"pl-PL":{u:"Polski",A:"Polish"},"ps-AF":{u:"پښتو",A:"Pashto"},pt:{u:"Português",A:"Portuguese"},"pt-BR":{u:"Português (Brasil)",A:"Portuguese (Brazil)"},"pt-PT":{u:"Português (Portugal)",A:"Portuguese (Portugal)"},"qu-PE":{u:"Qhichwa",A:"Quechua"},"rm-CH":{u:"Rumantsch",A:"Romansh"},ro:{u:"Română",A:"Romanian"},"ro-RO":{u:"Română",A:"Romanian"},ru:{u:"Русский",A:"Russian"},"ru-RU":{u:"Русский",A:"Russian"},"sa-IN":{u:"संस्कृतम्",A:"Sanskrit"},"se-NO":{u:"Davvisámegiella",A:"Northern Sámi"},"si-LK":{u:"පළාත",A:"Sinhala (Sri Lanka)"},sk:{u:"Slovenčina",A:"Slovak"},"sk-SK":{u:"Slovenčina (Slovakia)",A:"Slovak (Slovakia)"},sl:{u:"Slovenščina",A:"Slovenian"},"sl-SI":{u:"Slovenščina",A:"Slovenian"},"so-SO":{u:"Soomaaliga",A:"Somali"},sq:{u:"Shqip",A:"Albanian"},"sq-AL":{u:"Shqip",A:"Albanian"},sr:{u:"Српски",A:"Serbian"},"sr-RS":{u:"Српски (Serbia)",A:"Serbian (Serbia)"},su:{u:"Basa Sunda",A:"Sundanese"},sv:{u:"Svenska",A:"Swedish"},"sv-SE":{u:"Svenska",A:"Swedish"},sw:{u:"Kiswahili",A:"Swahili"},"sw-KE":{u:"Kiswahili",A:"Swahili (Kenya)"},ta:{u:"தமிழ்",A:"Tamil"},"ta-IN":{u:"தமிழ்",A:"Tamil"},te:{u:"తెలుగు",A:"Telugu"},"te-IN":{u:"తెలుగు",A:"Telugu"},tg:{u:"забо́ни тоҷикӣ́",A:"Tajik"},"tg-TJ":{u:"тоҷикӣ",A:"Tajik"},th:{u:"ภาษาไทย",A:"Thai"},"th-TH":{u:"ภาษาไทย (ประเทศไทย)",A:"Thai (Thailand)"},tl:{u:"Filipino",A:"Filipino"},"tl-PH":{u:"Filipino",A:"Filipino"},tlh:{u:"tlhIngan-Hol",A:"Klingon"},tr:{u:"Türkçe",A:"Turkish"},"tr-TR":{u:"Türkçe",A:"Turkish"},"tt-RU":{u:"татарча",A:"Tatar"},uk:{u:"Українська",A:"Ukrainian"},"uk-UA":{u:"Українська",A:"Ukrainian"},ur:{u:"اردو",A:"Urdu"},"ur-PK":{u:"اردو",A:"Urdu"},uz:{u:"O'zbek",A:"Uzbek"},"uz-UZ":{u:"O'zbek",A:"Uzbek"},vi:{u:"Tiếng Việt",A:"Vietnamese"},"vi-VN":{u:"Tiếng Việt",A:"Vietnamese"},"xh-ZA":{u:"isiXhosa",A:"Xhosa"},yi:{u:"ייִדיש",A:"Yiddish"},"yi-DE":{u:"ייִדיש (German)",A:"Yiddish (German)"},zh:{u:"中文",A:"Chinese"},"zh-HANS":{u:"中文简体",A:"Chinese Simplified"},"zh-HANT":{u:"中文繁體",A:"Chinese Traditional"},"zh-CN":{u:"中文（中国）",A:"Chinese Simplified (China)"},"zh-HK":{u:"中文（香港）",A:"Chinese Traditional (Hong Kong)"},"zh-SG":{u:"中文（新加坡）",A:"Chinese Simplified (Singapore)"},"zh-TW":{u:"中文（台灣）",A:"Chinese Traditional (Taiwan)"},"zu-ZA":{u:"isiZulu",A:"Zulu"}},b2=x(Object.keys(No)),Q0=b2.next();!Q0.done;Q0=b2.next()){var D2=Q0.value;No[D2.toLowerCase()]=No[D2]}function me(e,t){var n=this;this.parent=e,this.controls=t,this.eventManager=new Ue,this.localization=this.controls.bb,this.player=this.controls.lc(),this.video=this.controls.Kb(),this.adManager=this.player.od(),this.ad=t.getAd(),this.eventManager.o(this.adManager,"ad-started",function(o){n.ad=o.ad}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.ad=null})}me.prototype.release=function(){this.eventManager.release(),this.ad=this.adManager=this.video=this.player=this.localization=this.eventManager=this.controls=this.parent=null},Y("shaka.ui.Element",me),me.prototype.release=me.prototype.release;function O2(e){return J0(e,"shaka-back-to-overflow-button")}function J0(e,t){var n=e.getElementsByClassName(t);return n.length?n[0]:null}function va(e){e&&(e=J0(e,"shaka-chosen-item"))&&e.parentElement.focus()}function Rs(){var e=le("i");return e.classList.add("material-icons-round"),e.classList.add("shaka-chosen-item"),e.textContent="done",e.ariaHidden="true",e}function pe(e,t){e&&(t?e.classList.remove("shaka-hidden"):e.classList.add("shaka-hidden"))}function bs(e,t){var n=Math.floor(e/3600),o=Math.floor(e/60%60),u=Math.floor(e%60);return 10>u&&(u="0"+u),u=o+":"+u,t&&(10>o&&(u="0"+u),u=n+":"+u),u}function ud(e,t){me.call(this,e,t);var n=this;this.i=le("div"),this.i.classList.add("shaka-ad-counter"),this.parent.appendChild(this.i),this.h=le("span"),this.h.classList.add("shaka-ad-counter-span"),this.i.appendChild(this.h),this.g=new fe(function(){var o=Math.round(n.ad.getRemainingTime()),u=n.ad.getDuration();o!=-1&&u!=-1&&(0<o?(o=bs(u-o,!1)+" / "+bs(u,!1),1<n.ad.getSequenceLength()?n.h.textContent=o:(u=n.localization.resolve("AD_TIME"),n.h.textContent=u.replace("[AD_TIME]",o))):(n.g.stop(),n.h.textContent=""))}),this.eventManager.o(this.localization,"locale-updated",function(){}),this.eventManager.o(this.localization,"locale-changed",function(){}),this.eventManager.o(this.adManager,"ad-started",function(){n.g.Ga(),n.g.na(.5)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.g.stop(),n.h.textContent=""}),this.ad&&(this.g.Ga(),this.g.na(.5))}K(ud,me),ud.prototype.release=function(){this.g.stop(),this.g=null,me.prototype.release.call(this)},Y("shaka.ui.AdCounter",ud);function Z0(e,t){me.call(this,e,t);var n=this;this.g=le("div"),this.g.classList.add("shaka-ad-position"),pe(this.g,!1),this.parent.appendChild(this.g),this.h=le("span"),this.h.classList.add("shaka-ad-position-span"),this.g.appendChild(this.h),this.eventManager.o(this.localization,"locale-updated",function(){n.ad&&ad(n)}),this.eventManager.o(this.localization,"locale-changed",function(){n.ad&&ad(n)}),this.eventManager.o(this.adManager,"ad-started",function(){ad(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.h.textContent="",pe(n.g,!1)}),this.ad&&ad(this)}K(Z0,me);function ad(e){var t=e.ad.getSequenceLength();if(1<t){var n=e.ad.getPositionInSequence();e.h.textContent=e.localization.resolve("AD_PROGRESS").replace("[AD_ON]",String(n)).replace("[NUM_ADS]",String(t)),pe(e.g,!0)}}Y("shaka.ui.AdPosition",Z0);function rr(e,t){me.call(this,e,t);var n=this;this.button=wt(),this.parent.appendChild(this.button),this.eventManager.o(this.localization,"locale-updated",function(){n.g()}),this.eventManager.o(this.localization,"locale-changed",function(){n.g()}),this.eventManager.o(this.video,"play",function(){n.g(),n.h()}),this.eventManager.o(this.video,"pause",function(){n.g(),n.h()}),this.eventManager.o(this.video,"seeking",function(){n.g(),n.h()}),this.eventManager.o(this.adManager,"ad-paused",function(){n.g(),n.h()}),this.eventManager.o(this.adManager,"ad-resumed",function(){n.g(),n.h()}),this.eventManager.o(this.adManager,"ad-started",function(){n.g(),n.h()}),this.eventManager.o(this.button,"click",function(){n.ad&&n.ad.isLinear()?V2(n.controls):z2(n.controls)}),this.ad&&(this.g(),this.h())}K(rr,me),rr.prototype.isPaused=function(){if(this.ad&&this.ad.isLinear())var e=this.ad.isPaused();else e=this.controls,e=e.g.paused&&!e.ka;return e},rr.prototype.g=function(){},rr.prototype.h=function(){},Y("shaka.ui.PlayButton",rr);function ya(e,t){rr.call(this,e,t),this.button.classList.add("shaka-play-button"),this.button.classList.add("shaka-no-propagation"),this.h(),this.g()}K(ya,rr),ya.prototype.h=function(){this.isPaused()?this.button.setAttribute("icon","play"):this.button.setAttribute("icon","pause")},ya.prototype.g=function(){var e=this.isPaused()?"PLAY":"PAUSE";this.button.ariaLabel=this.localization.resolve(e)},Y("shaka.ui.BigPlayButton",ya);function xa(e,t){me.call(this,e,t);var n=this;this.m=this.controls.m,this.h=this.controls.i,this.i=[],this.g=le("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-context-menu"),this.g.classList.add("shaka-hidden"),this.h.appendChild(this.g),this.eventManager.o(this.h,"contextmenu",function(o){if(n.g.classList.contains("shaka-hidden")){o.preventDefault();var u=n.h.getBoundingClientRect();n.g.style.left=o.clientX-u.left+"px",n.g.style.top=o.clientY-u.top+"px",pe(n.g,!0)}else pe(n.g,!1)}),this.eventManager.o(c,"click",function(){pe(n.g,!1)}),xb(this)}K(xa,me),xa.prototype.release=function(){this.h=null;for(var e=x(this.i),t=e.next();!t.done;t=e.next())t.value.release();this.i=[],me.prototype.release.call(this)};function ld(e,t){U2.set(e,t)}function xb(e){for(var t=x(e.m.contextMenuElements),n=t.next();!n.done;n=t.next()){n=n.value;var o=U2.get(n);o?e.i.push(o.create(e.g,e.controls)):je("Unrecognized context menu element:",n)}}Y("shaka.ui.ContextMenu",xa),xa.registerElement=ld;var U2=new Map;function xt(e,t,n,o){me.call(this,e,t);var u=this;this.container=le("div"),this.container.classList.add("shaka-range-container"),this.container.classList.add.apply(this.container.classList,b(n)),this.g=!1,this.bar=document.createElement("input"),this.l=new fe(function(){u.onChangeEnd(),u.g=!1}),this.bar.classList.add("shaka-range-element"),this.bar.classList.add.apply(this.bar.classList,b(o)),this.bar.type="range",this.bar.step="any",this.bar.min="0",this.bar.max="1",this.bar.value="0",this.container.appendChild(this.bar),this.parent.appendChild(this.container),this.eventManager.o(this.bar,"mousedown",function(){u.controls.Ub()&&(u.g=!0,u.onChangeStart())}),this.eventManager.o(this.bar,"touchstart",function(l){u.controls.Ub()&&(u.g=!0,eg(u,l),u.onChangeStart())}),this.eventManager.o(this.bar,"input",function(){u.onChange()}),this.eventManager.o(this.bar,"touchmove",function(l){u.g&&(eg(u,l),u.onChange())}),this.eventManager.o(this.bar,"touchend",function(l){u.g&&(u.g=!1,eg(u,l),u.onChangeEnd())}),this.eventManager.o(this.bar,"mouseup",function(){u.g&&(u.g=!1,u.onChangeEnd())})}K(xt,me),g=xt.prototype,g.release=function(){this.l&&(this.l.stop(),this.l=null),me.prototype.release.call(this)},g.setRange=function(e,t){this.bar.min=e,this.bar.max=t},g.onChangeStart=function(){},g.onChange=function(){},g.onChangeEnd=function(){},g.changeTo=function(e){this.g||(this.g=!0,this.onChangeStart());var t=parseFloat(this.bar.min),n=parseFloat(this.bar.max);this.bar.value=e>n?n:e<t?t:e,this.onChange(),this.l.U(.5)},g.getValue=function(){return parseFloat(this.bar.value)},g.setValue=function(e){this.g||(this.bar.value=e)};function eg(e,t){t.preventDefault();var n=t.changedTouches[0],o=e.bar.getBoundingClientRect(),u=parseFloat(e.bar.min),l=parseFloat(e.bar.max);n=u+(l-u)/o.width*(n.clientX-o.left),n<u?n=u:n>l&&(n=l),e.bar.value=n}Y("shaka.ui.RangeElement",xt),xt.prototype.setValue=xt.prototype.setValue,xt.prototype.getValue=xt.prototype.getValue,xt.prototype.changeTo=xt.prototype.changeTo,xt.prototype.onChangeEnd=xt.prototype.onChangeEnd,xt.prototype.onChange=xt.prototype.onChange,xt.prototype.onChangeStart=xt.prototype.onChangeStart,xt.prototype.setRange=xt.prototype.setRange;function Sa(e,t){xt.call(this,e,t,["shaka-seek-bar-container"],["shaka-seek-bar","shaka-no-propagation","shaka-show-controls-on-mouse-over"]);var n=this;this.j=le("div"),this.j.classList.add("shaka-ad-markers"),this.container.insertBefore(this.j,this.container.childNodes[0]),this.m=this.controls.m,this.h=new fe(function(){n.video.currentTime=n.getValue()}),this.s=new fe(function(){F2(n)}),this.B=!1,this.i=[],this.eventManager.o(this.localization,"locale-updated",function(){return ng(n)}),this.eventManager.o(this.localization,"locale-changed",function(){return ng(n)}),this.eventManager.o(this.adManager,"ad-started",function(){tg(n)||pe(n.container,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){tg(n)&&pe(n.container,!0)}),this.eventManager.o(this.adManager,"ad-cue-points-changed",function(o){n.i=o.cuepoints,j2(n)}),this.eventManager.o(this.player,"unloading",function(){n.i=[],j2(n)}),this.setValue(this.video.currentTime),this.update(),ng(this),this.ad&&pe(this.container,!1)}K(Sa,xt),g=Sa.prototype,g.release=function(){this.h&&(this.h.stop(),this.h=null,this.s.stop(),this.s=null),xt.prototype.release.call(this)},g.onChangeStart=function(){this.B=!this.video.paused,this.controls.He(!0),this.video.pause()},g.onChange=function(){this.video.duration&&(this.update(),this.h.U(.125))},g.onChangeEnd=function(){this.h.Ga(),this.controls.He(!1),this.B&&this.video.play()},g.isShowing=function(){return!this.container.classList.contains("shaka-hidden")},g.update=function(){var e=this.m.seekBarColors,t=this.getValue(),n=this.video.buffered.length,o=n?this.video.buffered.start(0):0,u=n?this.video.buffered.end(n-1):0,l=this.player.Na(),d=l.end-l.start;this.setRange(l.start,l.end),tg(this)?(pe(this.container,!0),n==0?this.container.style.background=e.base:(n=(Math.max(o,l.start)-l.start)/d||0,u=(Math.min(u,l.end)-l.start)/d||0,t=(Math.min(Math.max(t,l.start),l.end)-l.start)/d||0,this.container.style.background="linear-gradient("+["to right",(this.m.showUnbufferedStart?e.base:e.played)+" "+100*n+"%",e.played+" "+100*n+"%",e.played+" "+100*t+"%",e.buffered+" "+100*t+"%",e.buffered+" "+100*u+"%",e.base+" "+100*u+"%"].join()+")")):pe(this.container,!1)};function F2(e){if(e.i.length){for(var t=e.player.Na(),n=t.end-t.start,o=["to right"],u=[],l=e.m.seekBarColors.adBreaks,d=!1,f=x(e.i),p=f.next();!p.done;p=f.next())if(p=p.value,p.start!=-1||p.end||(d=!0),p.start>=t.start&&p.start<t.end&&!(p.end&&p.end>t.end)){var v=(p.start-t.start)/n||0,y=v+.01;p.end&&(y=(p.end-t.start)/n||0),u.push({start:v,end:y})}for(t=x(u),p=t.next();!p.done;p=t.next())n=p.value,o.push("transparent "+100*n.start+"%"),o.push(l+" "+100*n.start+"%"),o.push(l+" "+100*n.end+"%"),o.push("transparent "+100*n.end+"%");d&&(o.push("transparent 99%"),o.push(l+" 99%")),e.j.style.background="linear-gradient("+o.join(",")+")"}else e.j.style.background="transparent"}function j2(e){F2(e);var t=e.player.Na();t=t.end-t.start,e.player.W()&&5<t&&e.s.na(1)}function tg(e){var t=e.player.Na();return t=t.end-t.start,e.player.W()&&5>t?!1:e.ad==null||!e.ad.isLinear()}function ng(e){e.bar.ariaLabel=e.localization.resolve("SEEK")}Y("shaka.ui.SeekBar",Sa);function ig(){}ig.prototype.create=function(e,t){return new Sa(e,t)},Sa.Factory=ig;function se(e,t,n,o){Se.call(this);var u=this;this.ha=!0,this.m=o,this.B=new it(n,e,this.m.castReceiverAppId),this.Db=!0,this.g=this.B.Kb(),this.C=n,this.G=this.B.lc(),this.Ua=e,this.j=t,this.ob=this.G.od(),this.s=this.l=null,this.ka=!1,this.I=[],this.nc=[],this.Gb=!1,this.sa=new fe(function(){u.j.style.cursor="none",u.Gb=!1,fi(u)}),this.Ba=new fe(function(){u.i.removeAttribute("shown"),u.L.U(2)}),this.L=new fe(function(){for(var l=x(u.I),d=l.next();!d.done;d=l.next())pe(d.value,!1)}),this.cb=new fe(function(){u.Ub()&&dd(u)}),this.M=null,this.J=[],this.bb=Rb(),this.h=new Ue,this.configure(this.m),kb(this),this.Ca=new Set,rg(this),this.cb.na(.125),this.h.o(this.bb,"locale-changed",function(l){u.ob.setLocale(l.locales[0])})}K(se,Se),g=se.prototype,g.destroy=function(){var e=this;return F(function(t){switch(t.g){case 1:if(document.pictureInPictureElement!=e.C){t.D(2);break}return C(t,document.exitPictureInPicture(),2);case 2:if(e.h&&(e.h.release(),e.h=null),e.sa&&(e.sa.stop(),e.sa=null),e.Ba&&(e.Ba.stop(),e.Ba=null),e.L&&(e.L.stop(),e.L=null),e.cb&&(e.cb.stop(),e.cb=null),B2(e),e.i&&(e.j.removeChild(e.i),e.i=null),!e.B){t.D(4);break}return C(t,e.B.destroy(),5);case 5:e.B=null;case 4:if(!e.Ua){t.D(6);break}return C(t,e.Ua.destroy(),7);case 7:e.Ua=null;case 6:e.G=null,e.C=null,e.g=null,e.bb=null,e.Ca.clear(),Se.prototype.release.call(e),Z(t)}})};function B2(e){for(var t=x(e.J),n=t.next();!n.done;n=t.next())n.value.release();e.J=[]}function Ut(e,t){og.set(e,t)}g.Sf=function(e){this.Db=e,rg(this)},g.Og=function(){fi(this)},g.configure=function(e){this.m=e,this.B.Xe(e.castReceiverAppId),this.s&&(this.s=null),this.Eb&&(this.Eb=null),this.pb&&(this.pb=null),this.i?(xs(this.i),B2(this)):(Sb(this),_b(this)),this.j.classList.add("shaka-video-container"),this.C.classList.add("shaka-video"),Eb(this),this.m.addBigPlayButton&&Tb(this),this.m.customContextMenu&&(this.pb=new xa(this.ia,this),this.J.push(this.pb)),this.Aa||Ab(this),this.zb=le("div"),this.zb.classList.add("shaka-server-side-ad-container"),this.i.appendChild(this.zb),Ib(this),this.I=Array.from(this.j.getElementsByClassName("shaka-settings-menu")),this.I.push.apply(this.I,b(Array.from(this.j.getElementsByClassName("shaka-overflow-menu")))),Cb(this),this.nc=Array.from(this.j.getElementsByClassName("shaka-show-controls-on-mouse-over")),fi(this),e=x(this.j.getElementsByClassName("shaka-no-propagation"));for(var t=e.next();!t.done;t=e.next()){t=t.value;var n=function(o){return o.stopPropagation()};this.h.o(t,"click",n),this.h.o(t,"dblclick",n)}},g.De=function(e){(this.ha=e)?(this.j.setAttribute("shaka-controls","true"),this.C.tabIndex=-1,this.C.controls=!1):this.j.removeAttribute("shaka-controls"),fi(this)},g.Df=function(e){this.C.controls=e,this.C.tabIndex=e?0:-1,e&&this.De(!1)},g.getAd=function(){return this.l},g.eg=function(){return this.B},g.rg=function(){return this.bb},g.Ig=function(){return this.j},g.Kb=function(){return this.g},g.qg=function(){return this.C},g.lc=function(){return this.G},g.pg=function(){return this.Ua},g.jg=function(){return this.i},g.Ag=function(){return this.zb},g.gg=function(){return this.$},g.hg=function(){return this.m},g.Ng=function(){return this.ka},g.He=function(e){this.ka=e},g.Lg=function(){return this.Db},g.jf=function(){return this.s?this.s.getValue():this.g.currentTime},g.Ef=function(e){this.M=e},g.jd=function(){return this.I.some(function(e){return!e.classList.contains("shaka-hidden")})},g.pc=function(){this.L.Ga()},g.Ne=function(){var e=this,t;return F(function(n){switch(n.g){case 1:if(document.fullscreenElement)return screen.orientation&&screen.orientation.unlock(),C(n,document.exitFullscreen(),0);if(ae(n,4),!document.pictureInPictureElement){n.D(6);break}return C(n,document.exitPictureInPicture(),6);case 6:return C(n,e.j.requestFullscreen({navigationUI:"hide"}),8);case 8:if(!e.m.forceLandscapeOnFullscreen||!screen.orientation){n.D(9);break}return ae(n,10),C(n,screen.orientation.lock("landscape"),12);case 12:Ae(n,9,4);break;case 10:ge(n,4);case 9:Ae(n,0);break;case 4:t=ge(n),e.dispatchEvent(new oe("error",new Map().set("detail",t))),n.D(0)}})},g.Gf=function(){pe(this.P,!0),pe(this.$,!0),this.i.setAttribute("ad-active","true")},g.mf=function(){pe(this.P,!1),pe(this.$,!1),this.i.removeAttribute("ad-active")};function z2(e){e.ha&&e.g.duration&&(e.G.Ue(),e.g.paused&&!e.ka?e.g.play():e.g.pause())}function V2(e){e.l&&e.l.isPaused()?e.l.play():e.l&&e.l.pause()}function Sb(e){e.i=le("div"),e.i.classList.add("shaka-controls-container"),e.j.appendChild(e.i),e.j.setAttribute("shaka-controls","true"),e.h.o(e.i,"touchstart",function(t){e.g.duration&&(e.Ub()?e.M=Date.now():(Ta(e,t),t.preventDefault()))},{passive:!1}),e.h.o(e.i,"click",function(){G2(e)}),e.h.o(e.i,"dblclick",function(){e.m.doubleClickForFullscreen&&document.fullscreenEnabled&&e.Ne()})}function Tb(e){var t=le("div");t.classList.add("shaka-play-button-container"),e.i.appendChild(t),e.Eb=new ya(t,e),e.J.push(e.Eb)}function Eb(e){var t=le("div");t.classList.add("shaka-scrim-container"),e.i.appendChild(t)}function wb(e){e.P=le("div"),e.P.classList.add("shaka-ad-controls");var t=e.l!=null&&e.l.isLinear();pe(e.P,t),e.S.appendChild(e.P),t=new Z0(e.P,e),e.J.push(t),t=new ud(e.P,e),e.J.push(t)}function Ab(e){e.Aa=le("div"),e.Aa.classList.add("shaka-spinner-container"),e.j.appendChild(e.Aa);var t=le("div");t.classList.add("shaka-spinner"),e.Aa.appendChild(t),e=document.createElementNS("http://www.w3.org/2000/svg","svg"),e.classList.add("shaka-spinner-svg"),e.setAttribute("viewBox","0 0 30 30"),t.appendChild(e),t=document.createElementNS("http://www.w3.org/2000/svg","circle"),t.classList.add("shaka-spinner-path"),t.setAttribute("cx","15"),t.setAttribute("cy","15"),t.setAttribute("r","14.5"),t.setAttribute("fill","none"),t.setAttribute("stroke-width","1"),t.setAttribute("stroke-miterlimit","10"),e.appendChild(t)}function Ib(e){e.S=le("div"),e.S.classList.add("shaka-bottom-controls"),e.S.classList.add("shaka-no-propagation"),e.i.appendChild(e.S),e.h.o(e.S,"click",function(u){u.target.closest(".shaka-overflow-button")||e.pc()}),wb(e),e.ia=le("div"),e.ia.classList.add("shaka-controls-button-panel"),e.ia.classList.add("shaka-show-controls-on-mouse-over"),e.m.enableTooltips&&e.ia.classList.add("shaka-tooltips-on"),e.S.appendChild(e.ia);for(var t={},n=x(e.m.controlPanelElements),o=n.next();!o.done;t={Bc:t.Bc},o=n.next())o=o.value,og.get(o)?(o=og.get(o).create(e.ia,e),typeof o.release!="function"&&(un("shaka.extern.IUIElement","Please update UI elements to have a release() method."),t.Bc=o,t.Bc.release=function(u){return function(){u.Bc.destroy&&u.Bc.destroy()}}(t)),e.J.push(o)):je("Unrecognized control panel element requested:",o)}function Cb(e){if(e.m.addSeekBar)e.s=K2.create(e.S,e),e.J.push(e.s);else{e=x(e.I);for(var t=e.next();!t.done;t=e.next())t.value.classList.add("shaka-low-position")}}function _b(e){e.$=le("div"),e.$.classList.add("shaka-client-side-ad-container"),pe(e.$,!1),e.h.o(e.$,"click",function(){G2(e)}),e.j.appendChild(e.$)}function kb(e){e.h.o(e.G,"buffering",function(){e.ha&&pe(e.Aa,e.G.Rc())}),e.ha&&pe(e.Aa,e.G.Rc()),e.h.o(c,"keydown",function(t){Nb(e,t)}),e.h.o(c,"click",function(){return e.pc()}),e.h.o(e,"submenuopen",function(){e.pc()}),e.h.o(e.g,"play",function(){fi(e)}),e.h.o(e.g,"pause",function(){fi(e)}),e.h.o(e.j,"mousemove",function(t){Ta(e,t)}),e.h.o(e.j,"touchmove",function(t){Ta(e,t)},{passive:!0}),e.h.o(e.j,"touchend",function(t){Ta(e,t)},{passive:!0}),e.h.o(e.j,"mouseleave",function(){e.M||e.sa.Ga()}),e.h.o(e.B,"caststatuschanged",function(){rg(e)}),e.h.o(e.j,"keydown",function(t){var n=document.activeElement,o=n&&n.classList?n.classList.contains("shaka-volume-bar"):!1,u=n&&n.classList&&n.classList.contains("shaka-seek-bar");if(e.i.contains(n)&&Ta(e,t),e.m.enableKeyboardPlaybackControls)switch(t.key){case"ArrowLeft":e.s&&!o&&(t.preventDefault(),cd(e,e.s.getValue()-5));break;case"ArrowRight":e.s&&!o&&(t.preventDefault(),cd(e,e.s.getValue()+5));break;case"Home":e.s&&cd(e,e.G.Na().start);break;case"End":e.s&&cd(e,e.G.Na().end);break;case" ":u&&H2(e)}}),e.h.o(e.j,"keyup",function(t){e.Ca.delete(t.key)}),e.h.o(e.ob,"ad-started",function(t){e.l=t.ad,e.Gf()}),e.h.o(e.ob,"ad-stopped",function(){e.l=null,e.mf()}),screen.orientation&&e.h.o(screen.orientation,"change",function(){return F(function(t){return C(t,Pb(e),0)})}),e.h.o(document,"fullscreenchange",function(){e.l&&e.l.resize(e.C.offsetWidth,e.C.offsetHeight)})}function Pb(e){return F(function(t){return e.g&&e.g.readyState!=0&&!e.B.xa()&&e.m.enableFullscreenOnRotation?screen.orientation.type.includes("landscape")&&!document.fullscreenElement?C(t,e.j.requestFullscreen({navigationUI:"hide"}),0):screen.orientation.type.includes("portrait")&&document.fullscreenElement?C(t,document.exitFullscreen(),0):t.D(0):t.return()})}function Ta(e,t){t.type=="mousemove"&&(e.i.classList.remove("shaka-keyboard-navigation"),fi(e)),t.type=="touchstart"||t.type=="touchmove"||t.type=="touchend"||t.type=="keyup"?e.M=Date.now():e.M+1e3<Date.now()&&(e.M=null),e.M&&t.type=="mousemove"||(e.j.style.cursor="",e.Gb=!0,e.L.stop(),e.Ub()||(dd(e),fi(e)),e.sa.stop(),t.type!="touchend"&&t.type!="keyup"&&e.M||e.sa.U(3))}function Lb(e){return c.matchMedia("hover: hover").matches?e.nc.some(function(t){return t.matches(":hover")}):!1}function fi(e){var t=e.l?e.l.isPaused():!1,n=e.g.paused&&!e.ka,o=e.i.classList.contains("shaka-keyboard-navigation");t||(!e.l||!e.l.isLinear())&&n||e.Gb||o||Lb(e)?(dd(e),e.i.setAttribute("shown","true"),e.Ba.stop()):e.Ba.U(e.m.fadeDelay)}function G2(e){e.ha&&(e.jd()?e.L.Ga():e.m.singleClickForPlayAndPause&&H2(e))}function H2(e){e.l&&e.l.isLinear()?V2(e):z2(e)}function rg(e){var t=e.B.xa();e.dispatchEvent(new oe("caststatuschanged",new Map().set("newStatus",t))),t?e.i.setAttribute("casting","true"):e.i.removeAttribute("casting")}g.Ub=function(){return this.ha?this.i.getAttribute("shown")!=null||this.i.getAttribute("casting")!=null:!1};function cd(e,t){e.s.changeTo(t),e.Ub()&&dd(e)}function dd(e){if(e.s)if(e.s.setValue(e.g.currentTime),e.s.update(),e.s.isShowing())for(var t=x(e.I),n=t.next();!n.done;n=t.next())n.value.classList.remove("shaka-low-position");else for(t=x(e.I),n=t.next();!n.done;n=t.next())n.value.classList.add("shaka-low-position");e.dispatchEvent(new oe("timeandseekrangeupdated"))}function Nb(e,t){e.Ca.add(t.key);var n=e.jd();t.key=="Tab"&&(e.i.classList.add("shaka-keyboard-navigation"),fi(e),e.h.o(c,"mousedown",function(){e.h.Ta(c,"mousedown")})),t.key=="Escape"&&e.L.Ga(),n&&e.Ca.has("Tab")&&Mb(e,t)}function Mb(e,t){var n=e.I.filter(function(l){return!l.classList.contains("shaka-hidden")});if(n.length){var o=n[0];if(o.childNodes.length){for(n=o.firstElementChild;n&&n.classList.contains("shaka-hidden");)n=n.nextElementSibling;for(o=o.lastElementChild;o&&o.classList.contains("shaka-hidden");)o=o.previousElementSibling;var u=document.activeElement;e.Ca.has("Shift")?u==n&&(t.preventDefault(),o.focus()):u==o&&(t.preventDefault(),n.focus())}}}function Rb(){var e=new _t("en");return e.ma("ar",new Map([["AD_DURATION","مدة الإعلان"],["AD_PROGRESS","الإعلان [AD_ON] من [NUM_ADS]"],["AD_TIME","الإعلان: [AD_TIME]"],["AUTO_QUALITY","تلقائي"],["BACK","رجوع"],["CAPTIONS","الترجمة والشرح"],["CAST","إرسال..."],["ENTER_LOOP_MODE","تكرار الفيديو الحالي"],["ENTER_PICTURE_IN_PICTURE",'الدخول في وضع "نافذة ضمن نافذة"'],["EXIT_FULL_SCREEN","إنهاء وضع ملء الشاشة"],["EXIT_LOOP_MODE","إيقاف تكرار الفيديو الحالي"],["EXIT_PICTURE_IN_PICTURE",'الخروج من وضع "نافذة ضمن نافذة"'],["FAST_FORWARD","تقديم سريع"],["FULL_SCREEN","ملء الشاشة"],["LANGUAGE","اللغة"],["LIVE","مباشر"],["LOOP","تكرار"],["MORE_SETTINGS","مزيد من الإعدادات"],["MULTIPLE_LANGUAGES","لغات متعددة"],["MUTE","كتم الصوت"],["NOT_APPLICABLE","غير سارٍ"],["OFF","إيقاف"],["ON","تشغيل"],["PAUSE","إيقاف مؤقت"],["PICTURE_IN_PICTURE","نافذة ضمن النافذة"],["PLAY","التشغيل"],["PLAYBACK_RATE","سرعة التشغيل"],["RESOLUTION","درجة الدقة"],["REWIND","ترجيع"],["SEEK","البحث بالتمرير"],["SKIP_AD","تخطّي الإعلان"],["SKIP_TO_LIVE","الانتقال إلى بث مباشر"],["UNDETERMINED_LANGUAGE","غير محدد"],["UNMUTE","إعادة الصوت"],["UNRECOGNIZED_LANGUAGE","غير معروف"],["VOLUME","مستوى الصوت"]])),e.ma("de",new Map([["AD_DURATION","Dauer der Werbeanzeige"],["AD_PROGRESS","Werbung [AD_ON] von [NUM_ADS]"],["AD_TIME","Werbeanzeige: [AD_TIME]"],["AUTO_QUALITY","Automatisch"],["BACK","Zurück"],["CAPTIONS","Untertitel"],["CAST","Streamen..."],["ENTER_LOOP_MODE","In Endlosschleife spielen"],["ENTER_PICTURE_IN_PICTURE","Bild-im-Bild-Modus aktivieren"],["EXIT_FULL_SCREEN","Vollbildmodus beenden"],["EXIT_LOOP_MODE","Endlosschleife stoppen"],["EXIT_PICTURE_IN_PICTURE","Bild-im-Bild-Modus beenden"],["FAST_FORWARD","Vorspulen"],["FULL_SCREEN","Vollbildmodus"],["LANGUAGE","Sprache"],["LIVE","Live"],["LOOP","Schleife"],["MORE_SETTINGS","Weitere Einstellungen"],["MULTIPLE_LANGUAGES","Mehrere Sprachen"],["MUTE","Stummschalten"],["NOT_APPLICABLE","Nicht zutreffend"],["OFF","Aus"],["ON","Ein"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Bild im Bild"],["PLAY","Wiedergabe"],["PLAYBACK_RATE","Geschwindigkeit"],["RESOLUTION","Auflösung"],["REWIND","Zurückspulen"],["SEEK","Suche"],["SKIP_AD","Überspringen"],["SKIP_TO_LIVE","Zum Live-Videostream wechseln"],["UNDETERMINED_LANGUAGE","Unbestimmt"],["UNMUTE","Stummschaltung aufheben"],["UNRECOGNIZED_LANGUAGE","Unbekannt"],["VOLUME","Lautstärke"]])),e.ma("en",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter Picture-in-Picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit Picture-in-Picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip Ad"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognized"],["VOLUME","Volume"]])),e.ma("en-GB",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_TIME","Ad: [AD_TIME]"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter picture-in-picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit picture-in-picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip ad"],["SKIP_TO_LIVE","Skip ahead to live"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognised"],["VOLUME","volume"]])),e.ma("es",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anuncio: [AD_TIME]"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Enviar..."],["ENTER_LOOP_MODE","Reproducir en bucle el vídeo actual"],["ENTER_PICTURE_IN_PICTURE","Activar el modo imagen en imagen"],["EXIT_FULL_SCREEN","Salir del modo de pantalla completa"],["EXIT_LOOP_MODE","Dejar de reproducir en bucle el vídeo actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo imagen en imagen"],["FAST_FORWARD","Avanzar rápidamente"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Reproducir en bucle"],["MORE_SETTINGS","Más ajustes"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Imagen en imagen"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["RESOLUTION","Resolución"],["REWIND","Rebobinar"],["SEEK","Buscar"],["SKIP_AD","Saltar anuncio"],["SKIP_TO_LIVE","Ir al vídeo en directo"],["SUBTITLE_FORCED","Forzado"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Activar sonido"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.ma("es-419",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anuncio: [AD_TIME]"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Transmitir..."],["ENTER_LOOP_MODE","Repetir indefinidamente el video actual"],["ENTER_PICTURE_IN_PICTURE","Ingresar al modo de pantalla en pantalla"],["EXIT_FULL_SCREEN","Salir de pantalla completa"],["EXIT_LOOP_MODE","Detener la repetición indefinida del video actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo de pantalla en pantalla"],["FAST_FORWARD","Avanzar"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Repetir indefinidamente"],["MORE_SETTINGS","Más opciones de configuración"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Detener"],["PICTURE_IN_PICTURE","Pantalla en pantalla"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["RESOLUTION","Resolución"],["REWIND","Retroceder"],["SEEK","Buscar"],["SKIP_AD","Omitir anuncio"],["SKIP_TO_LIVE","Adelantar hasta la transmisión en vivo"],["SUBTITLE_FORCED","Forzado"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Dejar de silenciar"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),e.ma("fr",new Map([["AD_DURATION","Durée de l'annonce"],["AD_PROGRESS","Annonce [AD_ON] sur [NUM_ADS]"],["AD_TIME","Annonce : [AD_TIME]"],["AUTO_QUALITY","Automatique"],["BACK","Retour"],["CAPTIONS","Sous-titres"],["CAST","Caster…"],["ENTER_LOOP_MODE","Lire en boucle la vidéo en cours"],["ENTER_PICTURE_IN_PICTURE","Utiliser le mode Picture-in-Picture"],["EXIT_FULL_SCREEN","Quitter le mode plein écran"],["EXIT_LOOP_MODE","Arrêter la lecture en boucle de la vidéo en cours"],["EXIT_PICTURE_IN_PICTURE","Quitter le mode PIP (Picture-in-picture)"],["FAST_FORWARD","Avance rapide"],["FULL_SCREEN","Plein écran"],["LANGUAGE","Langue"],["LIVE","En direct"],["LOOP","Répéter"],["MORE_SETTINGS","Plus de paramètres"],["MULTIPLE_LANGUAGES","Plusieurs langues"],["MUTE","Couper le son"],["NOT_APPLICABLE","Non applicable"],["OFF","Désactivée"],["ON","Activée"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Visionner"],["PLAYBACK_RATE","Vitesse de lecture"],["RESOLUTION","Résolution"],["REWIND","Retour arrière"],["SEEK","Chercher"],["SKIP_AD","Passer l'annonce"],["SKIP_TO_LIVE","Accéder à la partie la plus récente du direct"],["UNDETERMINED_LANGUAGE","Langue indéterminée"],["UNMUTE","Réactiver le son"],["UNRECOGNIZED_LANGUAGE","Non reconnu"],["VOLUME","Volume"]])),e.ma("it",new Map([["AD_DURATION","Durata dell'annuncio"],["AD_PROGRESS","Annuncio [AD_ON] di [NUM_ADS]"],["AD_TIME","Annuncio: [AD_TIME]"],["AUTO_QUALITY","Automatica"],["BACK","Indietro"],["CAPTIONS","Sottotitoli"],["CAST","Trasmetti..."],["ENTER_LOOP_MODE","Riproduci in loop il video corrente"],["ENTER_PICTURE_IN_PICTURE","Attiva Picture in picture"],["EXIT_FULL_SCREEN","Esci da schermo intero"],["EXIT_LOOP_MODE","Interrompi riproduzione in loop del video corrente"],["EXIT_PICTURE_IN_PICTURE","Esci da Picture in picture"],["FAST_FORWARD","Avanti veloce"],["FULL_SCREEN","Schermo intero"],["LANGUAGE","Lingua"],["LIVE","Dal vivo"],["LOOP","Riproduci in loop"],["MORE_SETTINGS","Altre impostazioni"],["MULTIPLE_LANGUAGES","Più lingue"],["MUTE","Disattiva audio"],["NOT_APPLICABLE","Non applicabile"],["OFF","Disattivo"],["ON","Attivo"],["PAUSE","Metti in pausa"],["PICTURE_IN_PICTURE","Picture in picture"],["PLAY","Riproduci"],["PLAYBACK_RATE","Velocità di riproduzione"],["RESOLUTION","Risoluzione"],["REWIND","Riavvolgi"],["SEEK","Cerca"],["SKIP_AD","Salta annuncio"],["SKIP_TO_LIVE","Passa alla trasmissione dal vivo"],["UNDETERMINED_LANGUAGE","Indeterminata"],["UNMUTE","Riattiva audio"],["UNRECOGNIZED_LANGUAGE","Non riconosciuto"],["VOLUME","Volume"]])),e.ma("ja",new Map([["AD_DURATION","広告再生時間"],["AD_PROGRESS","[AD_ON] 番目の広告（全 [NUM_ADS] 個）"],["AD_TIME","広告: [AD_TIME]"],["AUTO_QUALITY","自動"],["BACK","戻る"],["CAPTIONS","字幕"],["CAST","キャスト..."],["ENTER_LOOP_MODE","現在の動画をループ再生"],["ENTER_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを開始"],["EXIT_FULL_SCREEN","全画面表示を終了"],["EXIT_LOOP_MODE","現在の動画のループ再生を停止"],["EXIT_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを終了"],["FAST_FORWARD","早送り"],["FULL_SCREEN","全画面表示"],["LANGUAGE","言語"],["LIVE","ライブ"],["LOOP","ループ"],["MORE_SETTINGS","詳細設定"],["MULTIPLE_LANGUAGES","多言語"],["MUTE","ミュート"],["NOT_APPLICABLE","該当なし"],["OFF","オフ"],["ON","オン"],["PAUSE","一時停止"],["PICTURE_IN_PICTURE","ピクチャー イン ピクチャー"],["PLAY","再生"],["PLAYBACK_RATE","再生速度"],["RESOLUTION","解像度"],["REWIND","巻き戻し"],["SEEK","シーク再生"],["SKIP_AD","広告をスキップ"],["SKIP_TO_LIVE","ライブ配信までスキップ"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","ミュートを解除"],["UNRECOGNIZED_LANGUAGE","不明"],["VOLUME","音量"]])),e.ma("ko",new Map([["AD_DURATION","광고 기간"],["AD_PROGRESS","광고 [AD_ON]/[NUM_ADS]"],["AD_TIME","광고: [AD_TIME]"],["AUTO_QUALITY","자동"],["BACK","뒤로"],["CAPTIONS","자막"],["CAST","전송..."],["ENTER_LOOP_MODE","현재 동영상 반복 재생"],["ENTER_PICTURE_IN_PICTURE","PIP 모드 시작"],["EXIT_FULL_SCREEN","전체화면 닫기"],["EXIT_LOOP_MODE","현재 동영상 반복 재생 중지"],["EXIT_PICTURE_IN_PICTURE","PIP 모드 종료"],["FAST_FORWARD","빨리 감기"],["FULL_SCREEN","전체화면"],["LANGUAGE","언어"],["LIVE","실시간"],["LOOP","반복 재생"],["MORE_SETTINGS","설정 더보기"],["MULTIPLE_LANGUAGES","여러 언어"],["MUTE","음소거"],["NOT_APPLICABLE","해당 사항 없음"],["OFF","사용 안함"],["ON","사용"],["PAUSE","일시중지"],["PICTURE_IN_PICTURE","PIP 모드"],["PLAY","재생"],["PLAYBACK_RATE","재생 속도"],["RESOLUTION","해상도"],["REWIND","되감기"],["SEEK","찾기"],["SKIP_AD","광고 건너뛰기"],["SKIP_TO_LIVE","라이브 동영상으로 건너뛰기"],["UNDETERMINED_LANGUAGE","미정"],["UNMUTE","음소거 해제"],["UNRECOGNIZED_LANGUAGE","알 수 없음"],["VOLUME","볼륨"]])),e.ma("nl",new Map([["AD_DURATION","Advertentieduur"],["AD_PROGRESS","Advertentie [AD_ON] van [NUM_ADS]"],["AD_TIME","Advertentie: [AD_TIME]"],["AUTO_QUALITY","Automatisch"],["BACK","Terug"],["CAPTIONS","Ondertiteling"],["CAST","Casten..."],["ENTER_LOOP_MODE","De huidige video lussen"],["ENTER_PICTURE_IN_PICTURE","Scherm-in-scherm openen"],["EXIT_FULL_SCREEN","Volledig scherm sluiten"],["EXIT_LOOP_MODE","De huidige video niet meer lussen"],["EXIT_PICTURE_IN_PICTURE","Scherm-in-scherm afsluiten"],["FAST_FORWARD","Vooruitspoelen"],["FULL_SCREEN","Volledig scherm"],["LANGUAGE","Taal"],["LIVE","Live"],["LOOP","Lussen"],["MORE_SETTINGS","Meer instellingen"],["MULTIPLE_LANGUAGES","Meerdere talen"],["MUTE","Dempen"],["NOT_APPLICABLE","Niet van toepassing"],["OFF","Uit"],["ON","Aan"],["PAUSE","Onderbreken"],["PICTURE_IN_PICTURE","Scherm-in-scherm"],["PLAY","Afspelen"],["PLAYBACK_RATE","Afspeelsnelheid"],["RESOLUTION","Resolutie"],["REWIND","Terugspoelen"],["SEEK","Zoeken"],["SKIP_AD","Advertentie overslaan"],["SKIP_TO_LIVE","Doorgaan naar live"],["UNDETERMINED_LANGUAGE","Onbepaald"],["UNMUTE","Dempen opheffen"],["UNRECOGNIZED_LANGUAGE","Onbekend"],["VOLUME","Volume"]])),e.ma("pl",new Map([["AD_DURATION","Czas trwania reklamy"],["AD_PROGRESS","Reklama [AD_ON] z [NUM_ADS]"],["AD_TIME","Reklama: [AD_TIME]"],["AUTO_QUALITY","Automatycznie"],["BACK","Wstecz"],["CAPTIONS","Napisy"],["CAST","Przesyłaj..."],["ENTER_LOOP_MODE","Odtwarzaj bieżący film w pętli"],["ENTER_PICTURE_IN_PICTURE","Włącz tryb obrazu w obrazie"],["EXIT_FULL_SCREEN","Zamknij pełny ekran"],["EXIT_LOOP_MODE","Wyłącz odtwarzanie bieżącego filmu w pętli"],["EXIT_PICTURE_IN_PICTURE","Wyłącz tryb obrazu w obrazie"],["FAST_FORWARD","Przewiń do przodu"],["FULL_SCREEN","Pełny ekran"],["LANGUAGE","Język"],["LIVE","Na żywo"],["LOOP","Odtwarzaj w pętli"],["MORE_SETTINGS","Więcej ustawień"],["MULTIPLE_LANGUAGES","Wiele języków"],["MUTE","Wycisz"],["NOT_APPLICABLE","Nie dotyczy"],["OFF","Wyłączone"],["ON","Włączone"],["PAUSE","Wstrzymaj"],["PICTURE_IN_PICTURE","Obraz w obrazie"],["PLAY","Odtwórz"],["PLAYBACK_RATE","Szybkość odtwarzania"],["RESOLUTION","Rozdzielczość"],["REWIND","Przewiń do tyłu"],["SEEK","Szukaj"],["SKIP_AD","Pomiń reklamę"],["SKIP_TO_LIVE","Przejdź do transmisji na żywo"],["UNDETERMINED_LANGUAGE","Nie określono"],["UNMUTE","Wyłącz wyciszenie"],["UNRECOGNIZED_LANGUAGE","Nierozpoznany"],["VOLUME","Głośność"]])),e.ma("pt-BR",new Map([["AD_DURATION","Duração do anúncio"],["AD_PROGRESS","Anúncio [AD_ON] de [NUM_ADS]"],["AD_TIME","Anúncio: [AD_TIME]"],["AUTO_QUALITY","Automática"],["BACK","Voltar"],["CAPTIONS","Legendas"],["CAST","Transmitir..."],["ENTER_LOOP_MODE","Repetir o vídeo atual"],["ENTER_PICTURE_IN_PICTURE","Entrar no modo picture-in-picture"],["EXIT_FULL_SCREEN","Sair do modo tela cheia"],["EXIT_LOOP_MODE","Parar repetição do vídeo atual"],["EXIT_PICTURE_IN_PICTURE","Sair de picture-in-picture"],["FAST_FORWARD","Avançar"],["FULL_SCREEN","Tela cheia"],["LANGUAGE","Idioma"],["LIVE","Ao vivo"],["LOOP","Repetir"],["MORE_SETTINGS","Mais definições"],["MULTIPLE_LANGUAGES","Vários idiomas"],["MUTE","Desativar som"],["NOT_APPLICABLE","Não relevante"],["OFF","Desativado"],["ON","Ativado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Reproduzir"],["PLAYBACK_RATE","Velocidade da reprodução"],["RESOLUTION","Resolução"],["REWIND","Retroceder"],["SEEK","Procurar"],["SKIP_AD","Pular anúncio"],["SKIP_TO_LIVE","Pular para transmissão ao vivo"],["UNDETERMINED_LANGUAGE","Indeterminado"],["UNMUTE","Ativar som"],["UNRECOGNIZED_LANGUAGE","Não reconhecido"],["VOLUME","Volume"]])),e.ma("ru",new Map([["AD_DURATION","Продолжительность рекламы"],["AD_PROGRESS","Реклама [AD_ON] из [NUM_ADS]"],["AD_TIME","Реклама: [AD_TIME]"],["AUTO_QUALITY","Авто"],["BACK","Назад"],["CAPTIONS","Субтитры"],["CAST","Транслировать..."],["ENTER_LOOP_MODE","Зациклить текущее видео"],["ENTER_PICTURE_IN_PICTURE",'Перейти в режим "Картинка в картинке"'],["EXIT_FULL_SCREEN","Обычный режим"],["EXIT_LOOP_MODE","Отменить зацикливание текущего видео"],["EXIT_PICTURE_IN_PICTURE",'Выйти из режима "Картинка в картинке"'],["FAST_FORWARD","Перемотка вперед"],["FULL_SCREEN","Полноэкранный режим"],["LANGUAGE","Язык"],["LIVE","Прямой эфир"],["LOOP","Зациклить"],["MORE_SETTINGS","Дополнительные настройки"],["MULTIPLE_LANGUAGES","Несколько языков"],["MUTE","Отключить звук"],["NOT_APPLICABLE","Неприменимо"],["OFF","Выкл."],["ON","Вкл."],["PAUSE","Пауза"],["PICTURE_IN_PICTURE","Картинка в картинке"],["PLAY","Воспроизвести"],["PLAYBACK_RATE","Скорость воспроизведения"],["RESOLUTION","Разрешение"],["REWIND","Перемотать назад"],["SEEK","Перемотка"],["SKIP_AD","Пропустить"],["SKIP_TO_LIVE","Пропустить и перейти к прямой трансляции"],["UNDETERMINED_LANGUAGE","Не указано"],["UNMUTE","Включить звук"],["UNRECOGNIZED_LANGUAGE","Не распознано"],["VOLUME","Громкость"]])),e.ma("th",new Map([["AD_DURATION","ระยะเวลาโฆษณา"],["AD_PROGRESS","โฆษณา [AD_ON] จาก [NUM_ADS] รายการ"],["AD_TIME","โฆษณา: [AD_TIME]"],["AUTO_QUALITY","อัตโนมัติ"],["BACK","กลับ"],["CAPTIONS","คำบรรยาย"],["CAST","แคสต์..."],["ENTER_LOOP_MODE","วนซ้ำวิดีโอปัจจุบัน"],["ENTER_PICTURE_IN_PICTURE","เข้าสู่การแสดงภาพซ้อนภาพ"],["EXIT_FULL_SCREEN","ออกจากการแสดงแบบเต็มหน้าจอ"],["EXIT_LOOP_MODE","หยุดวนซ้ำวิดีโอปัจจุบัน"],["EXIT_PICTURE_IN_PICTURE","ออกจากการแสดงภาพซ้อนภาพ"],["FAST_FORWARD","กรอไปข้างหน้า"],["FULL_SCREEN","เต็มหน้าจอ"],["LANGUAGE","ภาษา"],["LIVE","สด"],["LOOP","ลูป"],["MORE_SETTINGS","การตั้งค่าเพิ่มเติม"],["MULTIPLE_LANGUAGES","หลายภาษา"],["MUTE","ปิดเสียง"],["NOT_APPLICABLE","ไม่เกี่ยวข้อง"],["OFF","ปิด"],["ON","เปิด"],["PAUSE","หยุดชั่วคราว"],["PICTURE_IN_PICTURE","การแสดงภาพซ้อนภาพ"],["PLAY","เล่น"],["PLAYBACK_RATE","ความเร็วในการเล่น"],["RESOLUTION","ความละเอียด"],["REWIND","กรอกลับ"],["SEEK","ค้นหา"],["SKIP_AD","ข้ามโฆษณา"],["SKIP_TO_LIVE","ข้ามไปที่การถ่ายทอดสด"],["UNDETERMINED_LANGUAGE","ไม่กำหนด"],["UNMUTE","เปิดเสียง"],["UNRECOGNIZED_LANGUAGE","ที่ไม่รู้จัก"],["VOLUME","ระดับเสียง"]])),e.ma("tr",new Map([["AD_DURATION","Reklam süresi"],["AD_PROGRESS","[AD_ON]/[NUM_ADS] reklam"],["AD_TIME","Reklam: [AD_TIME]"],["AUTO_QUALITY","Otomatik"],["BACK","Geri"],["CAPTIONS","Altyazılar"],["CAST","Yayınla..."],["ENTER_LOOP_MODE","Mevcut videoyu döngüye al"],["ENTER_PICTURE_IN_PICTURE","Pencere içinde Pencere moduna gir"],["EXIT_FULL_SCREEN","Tam ekrandan çık"],["EXIT_LOOP_MODE","Mevcut videonun döngüsünü durdur"],["EXIT_PICTURE_IN_PICTURE","Pencere İçinde Pencereden Çık"],["FAST_FORWARD","İleri sar"],["FULL_SCREEN","Tam ekran"],["LANGUAGE","Dil"],["LIVE","Canlı"],["LOOP","Döngü"],["MORE_SETTINGS","Daha fazla ayar"],["MULTIPLE_LANGUAGES","Birden çok dil"],["MUTE","Sesi kapat"],["NOT_APPLICABLE","Geçerli değil"],["OFF","Kapalı"],["ON","Açık"],["PAUSE","Duraklat"],["PICTURE_IN_PICTURE","Pencere İçinde Pencere"],["PLAY","Oynat"],["PLAYBACK_RATE","Çalma hızı"],["RESOLUTION","Çözünürlük"],["REWIND","Geri sar"],["SEEK","Ara"],["SKIP_AD","Reklamı Atla"],["SKIP_TO_LIVE","Canlı yayına atla"],["UNDETERMINED_LANGUAGE","Belirsiz"],["UNMUTE","Sesi aç"],["UNRECOGNIZED_LANGUAGE","Tanınmayan"],["VOLUME","Ses"]])),e.ma("zh",new Map([["AD_DURATION","广告持续时间"],["AD_PROGRESS","广告 [AD_ON]/[NUM_ADS]"],["AD_TIME","广告：[AD_TIME]"],["AUTO_QUALITY","自动"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投射…"],["ENTER_LOOP_MODE","循环播放当前视频"],["ENTER_PICTURE_IN_PICTURE","进入“画中画”模式"],["EXIT_FULL_SCREEN","退出全屏模式"],["EXIT_LOOP_MODE","停止循环播放当前视频"],["EXIT_PICTURE_IN_PICTURE","退出“画中画”模式"],["FAST_FORWARD","快进"],["FULL_SCREEN","全屏"],["LANGUAGE","语言"],["LIVE","直播"],["LOOP","循环播放"],["MORE_SETTINGS","更多设置"],["MULTIPLE_LANGUAGES","多种语言"],["MUTE","静音"],["NOT_APPLICABLE","不适用"],["OFF","关闭"],["ON","开启"],["PAUSE","暂停"],["PICTURE_IN_PICTURE","画中画"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["RESOLUTION","分辨率"],["REWIND","快退"],["SEEK","进度"],["SKIP_AD","跳过广告"],["SKIP_TO_LIVE","跳至当前直播"],["UNDETERMINED_LANGUAGE","未确定"],["UNMUTE","取消静音"],["UNRECOGNIZED_LANGUAGE","无法识别"],["VOLUME","音量"]])),e.ma("zh-TW",new Map([["AD_DURATION","廣告長度"],["AD_PROGRESS","廣告 [AD_ON]/[NUM_ADS]"],["AD_TIME","廣告：[AD_TIME]"],["AUTO_QUALITY","自動"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放..."],["ENTER_LOOP_MODE","循環播放目前的影片"],["ENTER_PICTURE_IN_PICTURE","進入子母畫面"],["EXIT_FULL_SCREEN","退出全螢幕模式"],["EXIT_LOOP_MODE","停止循環播放目前的影片"],["EXIT_PICTURE_IN_PICTURE","離開子母畫面"],["FAST_FORWARD","快轉"],["FULL_SCREEN","全螢幕"],["LANGUAGE","語言"],["LIVE","直播"],["LOOP","循環播放"],["MORE_SETTINGS","顯示更多設定"],["MULTIPLE_LANGUAGES","多種語言"],["MUTE","靜音"],["NOT_APPLICABLE","不適用"],["OFF","關閉"],["ON","開啟"],["PAUSE","暫停"],["PICTURE_IN_PICTURE","子母畫面"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["RESOLUTION","解析度"],["REWIND","倒轉"],["SEEK","搜尋"],["SKIP_AD","略過廣告"],["SKIP_TO_LIVE","跳至当前直播"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","取消靜音"],["UNRECOGNIZED_LANGUAGE","無法辨識"],["VOLUME","音量"]])),e.We(navigator.languages||[]),e}Y("shaka.ui.Controls",se),se.prototype.isOpaque=se.prototype.Ub,se.prototype.hideAdUI=se.prototype.mf,se.prototype.showAdUI=se.prototype.Gf,se.prototype.toggleFullScreen=se.prototype.Ne,se.prototype.hideSettingsMenus=se.prototype.pc,se.prototype.anySettingsMenusAreOpen=se.prototype.jd,se.prototype.setLastTouchEventTime=se.prototype.Ef,se.prototype.getDisplayTime=se.prototype.jf,se.prototype.isCastAllowed=se.prototype.Lg,se.prototype.setSeeking=se.prototype.He,se.prototype.isSeeking=se.prototype.Ng,se.prototype.getConfig=se.prototype.hg,se.prototype.getClientSideAdContainer=se.prototype.gg,se.prototype.getServerSideAdContainer=se.prototype.Ag,se.prototype.getControlsContainer=se.prototype.jg,se.prototype.getLocalPlayer=se.prototype.pg,se.prototype.getPlayer=se.prototype.lc,se.prototype.getLocalVideo=se.prototype.qg,se.prototype.getVideo=se.prototype.Kb,se.prototype.getVideoContainer=se.prototype.Ig,se.prototype.getLocalization=se.prototype.rg,se.prototype.getCastProxy=se.prototype.eg,se.prototype.getAd=se.prototype.getAd,se.prototype.setEnabledNativeControls=se.prototype.Df,se.prototype.setEnabledShakaControls=se.prototype.De,se.prototype.configure=se.prototype.configure,se.prototype.loadComplete=se.prototype.Og,se.prototype.allowCast=se.prototype.Sf,se.registerSeekBar=function(e){K2=e},se.registerElement=Ut,se.prototype.destroy=se.prototype.destroy;var og=new Map,K2=new ig;function Ea(e,t){me.call(this,e,t);var n=this;this.m=this.controls.m,this.j=this.controls.i,this.i=[],this.g=wt(),this.g.classList.add("shaka-overflow-menu-button"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),this.g.textContent="more_vert",this.parent.appendChild(this.g),this.h=le("div"),this.h.classList.add("shaka-overflow-menu"),this.h.classList.add("shaka-no-propagation"),this.h.classList.add("shaka-show-controls-on-mouse-over"),this.h.classList.add("shaka-hidden"),this.j.appendChild(this.h),bb(this),this.eventManager.o(this.localization,"locale-updated",function(){sg(n)}),this.eventManager.o(this.localization,"locale-changed",function(){sg(n)}),this.eventManager.o(this.adManager,"ad-started",function(){n.ad&&n.ad.isLinear()&&pe(n.g,!1)}),this.eventManager.o(this.adManager,"ad-stopped",function(){pe(n.g,!0)}),this.eventManager.o(this.controls,"submenuopen",function(){pe(n.h,!1)}),this.eventManager.o(this.h,"touchstart",function(o){n.controls.Ef(Date.now()),o.stopPropagation()}),this.eventManager.o(this.g,"click",function(){Db(n)}),sg(this),this.ad&&this.ad.isLinear()&&pe(this.g,!1)}K(Ea,me),Ea.prototype.release=function(){this.j=null;for(var e=x(this.i),t=e.next();!t.done;t=e.next())t.value.release();this.i=[],me.prototype.release.call(this)};function Mi(e,t){ug.set(e,t)}function bb(e){for(var t=x(e.m.overflowMenuButtons),n=t.next();!n.done;n=t.next())n=n.value,ug.get(n)?(n=ug.get(n),e.i.push(n.create(e.h,e.controls))):je("Unrecognized overflow menu element requested:",n)}function Db(e){if(e.controls.jd())e.controls.pc();else{pe(e.h,!0),fi(e.controls);var t=function(n){return n.classList.contains("shaka-hidden")==0};D_(e.h.childNodes,t)&&vu(e.h.childNodes,t)[0].focus()}}function sg(e){e.g.ariaLabel=e.localization.resolve("MORE_SETTINGS")}Y("shaka.ui.OverflowMenu",Ea),Ea.registerElement=Mi;function W2(){}W2.prototype.create=function(e,t){return new Ea(e,t)},Ut("overflow_menu",new W2);var ug=new Map;function ag(e,t){me.call(this,e,t);var n=this;this.g=wt(),this.g.classList.add("shaka-airplay-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.h=le("i"),this.h.classList.add("material-icons-round"),this.h.textContent="airplay",this.g.appendChild(this.h),c.WebKitPlaybackTargetAvailabilityEvent||this.g.classList.add("shaka-hidden");var o=le("label");o.classList.add("shaka-overflow-button-label"),o.classList.add("shaka-overflow-menu-only"),this.j=le("span"),o.appendChild(this.j),this.i=le("span"),this.i.classList.add("shaka-current-selection-span"),o.appendChild(this.i),this.g.appendChild(o),this.parent.appendChild(this.g),lg(this),$2(this),this.eventManager.o(this.localization,"locale-updated",function(){lg(n)}),this.eventManager.o(this.localization,"locale-changed",function(){lg(n)}),this.eventManager.o(this.g,"click",function(){n.controls.Kb().webkitShowPlaybackTargetPicker()}),o=this.controls.Kb(),this.eventManager.o(o,"webkitplaybacktargetavailabilitychanged",function(u){var l=n.player.kf()==$n;pe(n.g,u.availability=="available"&&l)}),this.eventManager.o(o,"webkitcurrentplaybacktargetiswirelesschanged",function(){$2(n)})}K(ag,me);function $2(e){var t=e.controls.Kb();e.g.ariaPressed=t&&t.webkitCurrentPlaybackTargetIsWireless?"true":"false"}function lg(e){e.g.ariaLabel=e.localization.resolve("AIRPLAY"),e.j.textContent=e.localization.resolve("AIRPLAY")}Y("shaka.ui.AirPlayButton",ag);function cg(){}cg.prototype.create=function(e,t){return new ag(e,t)},Mi("airplay",new cg),Ut("airplay",new cg);function Wt(e,t,n){this.h=e,this.m=fd(this),t.dataset.shakaPlayerContainer="",t.ui=this,this.$d()&&t.classList.add("shaka-mobile"),this.g=new se(e,t,n,this.m),this.configure({}),n.controls||e.Ke(t),t.ui=this,n.ui=this}g=Wt.prototype,g.destroy=function(){var e=this;return F(function(t){if(t.g==1)return e.g?C(t,e.g.destroy(),2):t.D(2);if(t.g!=4)return e.g=null,e.h?C(t,e.h.destroy(),4):t.D(4);e.h=null,Z(t)})},g.$d=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)?!0:bu()&&1<navigator.maxTouchPoints},g.getConfiguration=function(){var e=fd(this);return Ju(e,this.m,fd(this),{},""),e},g.configure=function(e,t){arguments.length==2&&typeof e=="string"&&(e=cc(e,t)),Ju(this.m,e,fd(this),{},""),this.m.castReceiverAppId&&!this.m.overflowMenuButtons.includes("cast")&&this.m.overflowMenuButtons.push("cast"),this.g.configure(this.m),this.g.dispatchEvent(new oe("uiupdated"))},g.ig=function(){return this.g},g.oh=function(e){this.g.De(e)};function fd(e){var t={controlPanelElements:"play_pause time_and_duration spacer mute volume fullscreen overflow_menu".split(" "),overflowMenuButtons:"captions quality language picture_in_picture cast playback_rate".split(" "),statisticsList:"width height corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent".split(" "),contextMenuElements:["loop","picture_in_picture","statistics"],playbackRates:[.5,.75,1,1.25,1.5,1.75,2],fastForwardRates:[2,4,8,1],rewindRates:[-1,-2,-4,-8],addSeekBar:!0,addBigPlayButton:!1,customContextMenu:!1,castReceiverAppId:"",clearBufferOnQualityChange:!0,showUnbufferedStart:!1,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)",adBreaks:"rgb(255, 204, 0)"},volumeBarColors:{base:"rgba(255, 255, 255, 0.54)",level:"rgb(255, 255, 255)"},trackLabelFormat:fg,fadeDelay:0,doubleClickForFullscreen:!0,singleClickForPlayAndPause:!0,enableKeyboardPlaybackControls:!0,enableFullscreenOnRotation:!0,forceLandscapeOnFullscreen:!0,enableTooltips:!1};return c.WebKitPlaybackTargetAvailabilityEvent&&t.overflowMenuButtons.push("airplay"),e.$d()&&(t.addBigPlayButton=!0,t.controlPanelElements=t.controlPanelElements.filter(function(n){return n!="play_pause"&&n!="volume"})),t}function q2(){var e,t,n,o,u,l,d,f,p,v,y,T,E;return F(function(I){switch(I.g){case 1:if(mw(),!MS())return dg("shaka-ui-load-failed",Y2),I.return();if(e=document.querySelectorAll("[data-shaka-player-container]"),t=document.querySelectorAll("[data-shaka-player]"),!t.length&&!e.length){I.D(2);break}if(t.length&&!e.length){for(n=x(t),o=n.next();!o.done;o=n.next())u=o.value,u.ui||(l=document.createElement("div"),d=u.parentElement,d.replaceChild(l,u),l.appendChild(u),X2(l,u));I.D(2);break}f=x(e),p=f.next();case 4:if(p.done){I.D(2);break}if(v=p.value,v.ui){I.D(5);break}for(y=null,T=x(t),o=T.next();!o.done;o=T.next())if(E=o.value,E.parentElement==v){y=E;break}return y||(y=document.createElement("video"),y.setAttribute("playsinline",""),v.appendChild(y)),ae(I,7),C(I,X2(v,y),9);case 9:Ae(I,5);break;case 7:return ge(I),dg("shaka-ui-load-failed",Q2),I.return();case 5:p=f.next(),I.D(4);break;case 2:dg("shaka-ui-loaded"),Z(I)}})}function dg(e,t){var n=null;t!=null&&(n={reasonCode:t}),n=new CustomEvent(e,{detail:n}),document.dispatchEvent(n)}function X2(e,t){var n,o,u,l,d,f,p,v;return F(function(y){switch(y.g){case 1:n=new G(t),o=new Wt(n,e,t),u="",e.dataset&&e.dataset.shakaPlayerCastReceiverId?u=e.dataset.shakaPlayerCastReceiverId:t.dataset&&t.dataset.shakaPlayerCastReceiverId&&(u=t.dataset.shakaPlayerCastReceiverId),u.length&&o.configure({castReceiverAppId:u}),t.controls&&o.g.Df(!0),(l=t.getAttribute("src"))&&(d=document.createElement("source"),d.setAttribute("src",l),t.appendChild(d),t.removeAttribute("src")),f=x(t.querySelectorAll("source")),p=f.next();case 2:if(p.done){y.D(0);break}return v=p.value,ae(y,5),C(y,o.g.lc().load(v.getAttribute("src")),7);case 7:y.D(0);break;case 5:ge(y);case 3:p=f.next(),y.D(2)}})}Y("shaka.ui.Overlay",Wt),Wt.prototype.setEnabled=Wt.prototype.oh,Wt.prototype.getControls=Wt.prototype.ig,Wt.prototype.configure=Wt.prototype.configure,Wt.prototype.getConfiguration=Wt.prototype.getConfiguration,Wt.prototype.isMobile=Wt.prototype.$d,Wt.prototype.destroy=Wt.prototype.destroy;var fg=0;Wt.TrackLabelFormat={LANGUAGE:fg,ROLE:1,LANGUAGE_ROLE:2,LABEL:3};var Y2=0,Q2=1;Wt.FailReasonCode={NO_BROWSER_SUPPORT:Y2,PLAYER_FAILED_TO_LOAD:Q2},document.readyState=="complete"?F(function(e){if(e.g==1)return C(e,Promise.resolve(),2);q2(),Z(e)}):c.addEventListener("load",q2);function J2(e,t,n,o,u,l,d){function f(z,j){return z+": "+j}function p(z){return z.type=="variant"?z.audioRoles?z.audioRoles.join(", "):void 0:z.roles.join(", ")}var v=e.find(function(z){return z.active==1}),y=O2(t);xs(t),t.appendChild(y),y=new Map;for(var T=x(e),E=T.next();!E.done;E=T.next())E=E.value,y.has(E.language)||y.set(E.language,new Set),y.get(E.language).add(p(E));for(y=new Set,v=v?f(v.language,p(v)):"",T={},e=x(e),E=e.next();!E.done;T={$a:T.$a},E=e.next()){T.$a=E.value,E=T.$a.language;var I=T.$a.forced,P=l.resolve($_.Nf),L=p(T.$a),M=f(E,L);if(!y.has(M)){y.add(M);var N=wt();N.addEventListener("click",function(z){return function(){n(z.$a)}}(T));var V=le("span");switch(N.appendChild(V),V.textContent=Ob(E,l),d){case fg:I&&(V.textContent+=" ("+P+")");break;case 1:L?V.textContent=L:(je("Track #"+T.$a.id+" does not have a role, but the UI is configured to only show role."),V.textContent="?"),I&&(V.textContent+=" ("+P+")");break;case 2:L&&(V.textContent+=": "+L),I&&(V.textContent+=" ("+P+")");break;case 3:T.$a.label?V.textContent=T.$a.label:(je("Track #"+T.$a.id+" does not have a label, but the UI is configured to only show labels."),V.textContent="?")}o&&M==v&&(N.appendChild(Rs()),V.classList.add("shaka-chosen-item"),N.ariaSelected="true",u.textContent=V.textContent),t.appendChild(N)}}}function Ob(e,t){if(!e&&!t)return"";switch(e){case"mul":return t.resolve("MULTIPLE_LANGUAGES");case"und":return t.resolve("UNDETERMINED_LANGUAGE");case"zxx":return t.resolve("NOT_APPLICABLE")}var n=ts(e);return e in No?No[e].u:n in No?No[n].u+" ("+e+")":t.resolve("UNRECOGNIZED_LANGUAGE")+" ("+e+")"}function Ri(e,t,n){me.call(this,e,t);var o=this;Ub(this,n),Fb(this),jb(this),this.eventManager.o(this.button,"click",function(){o.menu.classList.contains("shaka-hidden")?(o.controls.dispatchEvent(new oe("submenuopen")),pe(o.menu,!0),va(o.menu)):pe(o.menu,!1)})}K(Ri,me);function Ub(e,t){e.button=wt(),e.button.classList.add("shaka-overflow-button"),e.icon=le("i"),e.icon.classList.add("material-icons-round"),e.icon.textContent=t,e.button.appendChild(e.icon);var n=le("label");n.classList.add("shaka-overflow-button-label"),n.classList.add("shaka-overflow-menu-only"),e.nameSpan=le("span"),n.appendChild(e.nameSpan),e.currentSelection=le("span"),e.currentSelection.classList.add("shaka-current-selection-span"),n.appendChild(e.currentSelection),e.button.appendChild(n),e.parent.appendChild(e.button)}function Fb(e){e.menu=le("div"),e.menu.classList.add("shaka-no-propagation"),e.menu.classList.add("shaka-show-controls-on-mouse-over"),e.menu.classList.add("shaka-settings-menu"),e.menu.classList.add("shaka-hidden"),e.backButton=wt(),e.backButton.classList.add("shaka-back-to-overflow-button"),e.menu.appendChild(e.backButton),e.eventManager.o(e.backButton,"click",function(){e.controls.pc()});var t=le("i");t.classList.add("material-icons-round"),t.textContent="close",e.backButton.appendChild(t),e.backSpan=le("span"),e.backButton.appendChild(e.backSpan),e.controls.i.appendChild(e.menu)}function jb(e){e.parent.classList.contains("shaka-overflow-menu")&&(e.backButton.firstChild.textContent="arrow_back",e.eventManager.o(e.backButton,"click",function(){pe(e.parent,!0),e.parent.childNodes[0].focus(),fi(e.controls)}))}Y("shaka.ui.SettingsMenu",Ri);function hg(e,t){Ri.call(this,e,t,"language");var n=this;this.button.classList.add("shaka-language-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-audio-languages"),this.eventManager.o(this.localization,"locale-updated",function(){gg(n)}),this.eventManager.o(this.localization,"locale-changed",function(){gg(n)}),this.eventManager.o(this.player,"trackschanged",function(){var o=0<n.player.fb().length;pe(n.button,o),pg(n)}),this.eventManager.o(this.player,"variantchanged",function(){pg(n)}),gg(this),pg(this)}K(hg,Ri);function pg(e){var t=e.player.fb();J2(t,e.menu,function(n){e.player.Dd(n.language,n.roles[0])},!0,e.currentSelection,e.localization,e.controls.m.trackLabelFormat),va(e.menu),e.controls.dispatchEvent(new oe("languageselectionupdated")),e.button.setAttribute("shaka-status",e.currentSelection.innerText)}function gg(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("LANGUAGE"),e.nameSpan.textContent=e.localization.resolve("LANGUAGE"),e.backSpan.textContent=e.localization.resolve("LANGUAGE")}Y("shaka.ui.AudioLanguageSelection",hg);function mg(){}mg.prototype.create=function(e,t){return new hg(e,t)},Mi("language",new mg),Ut("language",new mg);function vg(e,t){me.call(this,e,t);var n=this;this.h=this.controls.B,this.g=wt(),this.g.classList.add("shaka-cast-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.i=le("i"),this.i.classList.add("material-icons-round"),this.i.textContent="cast",this.g.appendChild(this.i);var o=le("label");o.classList.add("shaka-overflow-button-label"),o.classList.add("shaka-overflow-menu-only"),this.l=le("span"),o.appendChild(this.l),this.j=le("span"),this.j.classList.add("shaka-current-selection-span"),o.appendChild(this.j),this.g.appendChild(o),this.parent.appendChild(this.g),yg(this),Z2(this),this.eventManager.o(this.localization,"locale-updated",function(){yg(n)}),this.eventManager.o(this.localization,"locale-changed",function(){yg(n)}),this.eventManager.o(this.g,"click",function(){Bb(n)}),this.eventManager.o(this.controls,"caststatuschanged",function(){Z2(n)})}K(vg,me);function Bb(e){var t;F(function(n){if(n.g==1)return e.h.xa()?(e.h.Hf(),n.D(0)):(ae(n,3),e.g.disabled=!0,C(n,e.h.cast(),5));if(n.g!=3)return e.g.disabled=!1,Ae(n,0);t=ge(n),e.g.disabled=!1,t.code!=8004&&e.controls.dispatchEvent(new oe("error",new Map().set("detail",t))),Z(n)})}function Z2(e){var t=e.h.Te()&&e.controls.Db,n=e.h.xa();pe(e.g,t),e.i.textContent=n?"cast_connected":"cast",t&&(e.g.ariaPressed=n?"true":"false"),e4(e)}function e4(e){e.j.textContent=e.h.xa()?e.h.Bd():e.localization.resolve("OFF")}function yg(e){e.g.ariaLabel=e.localization.resolve("CAST"),e.l.textContent=e.localization.resolve("CAST"),e4(e)}Y("shaka.ui.CastButton",vg);function xg(){}xg.prototype.create=function(e,t){return new vg(e,t)},Mi("cast",new xg),Ut("cast",new xg);function Sg(e,t){me.call(this,e,t);var n=this;this.g=wt(),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-fast-forward-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status","1x"),this.g.textContent="fast_forward",this.parent.appendChild(this.g),Tg(this),this.h=this.controls.m.fastForwardRates,this.eventManager.o(this.localization,"locale-updated",function(){Tg(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Tg(n)}),this.eventManager.o(this.g,"click",function(){if(n.video.duration){var o=n.h.indexOf(n.player.Jb())+1;o=o!=n.h.length?n.h[o]:n.h[0],n.player.Pe(o),n.g.setAttribute("shaka-status",o+"x")}})}K(Sg,me);function Tg(e){e.g.ariaLabel=e.localization.resolve("FAST_FORWARD")}Y("shaka.ui.FastForwardButton",Sg);function t4(){}t4.prototype.create=function(e,t){return new Sg(e,t)},Ut("fast_forward",new t4);function Eg(e,t){me.call(this,e,t);var n=this;this.g=wt(),this.g.classList.add("shaka-fullscreen-button"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),document.fullscreenEnabled||this.g.classList.add("shaka-hidden"),this.g.textContent="fullscreen",this.parent.appendChild(this.g),hd(this),this.eventManager.o(this.localization,"locale-updated",function(){hd(n)}),this.eventManager.o(this.localization,"locale-changed",function(){hd(n)}),this.eventManager.o(this.g,"click",function(){return F(function(o){return C(o,n.controls.Ne(),0)})}),this.eventManager.o(document,"fullscreenchange",function(){n.g.textContent=document.fullscreenElement?"fullscreen_exit":"fullscreen",hd(n)})}K(Eg,me);function hd(e){e.g.ariaLabel=e.localization.resolve(document.fullscreenElement?"EXIT_FULL_SCREEN":"FULL_SCREEN")}Y("shaka.ui.FullscreenButton",Eg);function n4(){}n4.prototype.create=function(e,t){return new Eg(e,t)},Ut("fullscreen",new n4);function pd(e,t){me.call(this,e,t);var n=this;this.g=wt(),this.g.classList.add("shaka-loop-button"),this.g.classList.add("shaka-tooltip"),this.i=le("i"),this.i.classList.add("material-icons-round"),this.i.textContent="repeat",this.g.appendChild(this.i);var o=le("label");o.classList.add("shaka-overflow-button-label"),o.classList.add("shaka-overflow-menu-only"),this.j=le("span"),this.j.textContent=this.localization.resolve("LOOP"),o.appendChild(this.j),this.l=le("span"),this.l.classList.add("shaka-current-selection-span"),o.appendChild(this.l),this.g.appendChild(o),gd(this),this.parent.appendChild(this.g),this.eventManager.o(this.localization,"locale-updated",function(){gd(n)}),this.eventManager.o(this.localization,"locale-changed",function(){gd(n)}),this.eventManager.o(this.g,"click",function(){n.video.loop=!n.video.loop,n.h.Ga(),n.h.na(1)}),this.s=this.video.loop,this.h=new fe(function(){n.s!=n.video.loop&&(gd(n),n.s=n.video.loop)}),this.h.na(1)}K(pd,me),pd.prototype.release=function(){this.h.stop(),this.h=null,me.prototype.release.call(this)};function gd(e){e.j.textContent=e.localization.resolve("LOOP"),e.l.textContent=e.localization.resolve(e.video.loop?"ON":"OFF"),e.i.textContent=e.video.loop?"repeat_on":"repeat",e.g.ariaLabel=e.localization.resolve(e.video.loop?"EXIT_LOOP_MODE":"ENTER_LOOP_MODE")}Y("shaka.ui.LoopButton",pd);function md(){}md.prototype.create=function(e,t){return new pd(e,t)},Mi("loop",new md),Ut("loop",new md),ld("loop",new md);function wg(e,t){me.call(this,e,t);var n=this;this.g=wt(),this.g.classList.add("shaka-mute-button"),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-tooltip"),this.parent.appendChild(this.g),Mo(this),wa(this),this.eventManager.o(this.localization,"locale-updated",function(){Mo(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Mo(n)}),this.eventManager.o(this.g,"click",function(){n.ad&&n.ad.isLinear()?n.ad.setMuted(!n.ad.isMuted()):n.video.muted=!n.video.muted}),this.eventManager.o(this.video,"volumechange",function(){Mo(n),wa(n)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){Mo(n),wa(n)}),this.eventManager.o(this.adManager,"ad-muted",function(){Mo(n),wa(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.ad=null,Mo(n),wa(n)})}K(wg,me);function Mo(e){var t=e.ad?e.ad.isMuted()?"UNMUTE":"MUTE":e.video.muted?"UNMUTE":"MUTE";e.g.ariaLabel=e.localization.resolve(t)}function wa(e){var t=e.ad?e.ad.isMuted()?"volume_off":"volume_up":e.video.muted?"volume_off":"volume_up";e.g.textContent=t}Y("shaka.ui.MuteButton",wg);function i4(){}i4.prototype.create=function(e,t){return new wg(e,t)},Ut("mute",new i4);function Ag(e,t){me.call(this,e,t);var n=this;this.l=this.controls.C,this.g=wt(),this.g.classList.add("shaka-pip-button"),this.g.classList.add("shaka-tooltip"),this.i=le("i"),this.i.classList.add("material-icons-round"),this.i.textContent="picture_in_picture_alt",this.g.appendChild(this.i);var o=le("label");o.classList.add("shaka-overflow-button-label"),o.classList.add("shaka-overflow-menu-only"),this.j=le("span"),this.j.textContent=this.localization.resolve("PICTURE_IN_PICTURE"),o.appendChild(this.j),this.h=le("span"),this.h.classList.add("shaka-current-selection-span"),o.appendChild(this.h),this.g.appendChild(o),Ig(this),this.parent.appendChild(this.g),document.pictureInPictureEnabled&&!this.video.disablePictureInPicture||pe(this.g,!1),this.eventManager.o(this.localization,"locale-updated",function(){Ig(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Ig(n)}),this.eventManager.o(this.g,"click",function(){zb(n)}),this.eventManager.o(this.l,"enterpictureinpicture",function(){n.i.textContent="branding_watermark",n.g.ariaLabel=n.localization.resolve("EXIT_PICTURE_IN_PICTURE"),n.h.textContent=n.localization.resolve("ON")}),this.eventManager.o(this.l,"leavepictureinpicture",function(){n.i.textContent="picture_in_picture_alt",n.g.ariaLabel=n.localization.resolve("ENTER_PICTURE_IN_PICTURE"),n.h.textContent=n.localization.resolve("OFF")}),this.eventManager.o(this.controls,"caststatuschanged",function(u){u.newStatus?document.pictureInPictureEnabled&&!n.video.disablePictureInPicture&&pe(n.g,!1):document.pictureInPictureEnabled&&!n.video.disablePictureInPicture&&pe(n.g,!0)}),this.eventManager.o(this.player,"trackschanged",function(){Vb(n)})}K(Ag,me);function zb(e){var t;F(function(n){if(n.g==1)return ae(n,2),document.pictureInPictureElement?C(n,document.exitPictureInPicture(),5):(document.fullscreenElement&&document.exitFullscreen(),C(n,e.video.requestPictureInPicture(),5));if(n.g!=2)return Ae(n,0);t=ge(n),e.controls.dispatchEvent(new oe("error",new Map().set("detail",t))),Z(n)})}function Ig(e){e.j.textContent=e.localization.resolve("PICTURE_IN_PICTURE"),e.g.ariaLabel=e.localization.resolve(document.pictureInPictureElement?"EXIT_PICTURE_IN_PICTURE":"ENTER_PICTURE_IN_PICTURE"),e.h.textContent=e.localization.resolve(document.pictureInPictureElement?"ON":"OFF")}function Vb(e){F(function(t){return!document.pictureInPictureEnabled||e.video.disablePictureInPicture?(pe(e.g,!1),t.D(0)):!e.player||!e.player.pf()?(pe(e.g,!0),t.D(0)):(pe(e.g,!1),document.pictureInPictureElement?C(t,document.exitPictureInPicture(),0):t.D(0))})}Y("shaka.ui.PipButton",Ag);function vd(){}vd.prototype.create=function(e,t){return new Ag(e,t)},Mi("picture_in_picture",new vd),Ut("picture_in_picture",new vd),ld("picture_in_picture",new vd);function Cg(e,t){Ri.call(this,e,t,"slow_motion_video");var n=this;this.button.classList.add("shaka-playbackrate-button"),this.menu.classList.add("shaka-playback-rates"),this.button.classList.add("shaka-tooltip-status"),this.eventManager.o(this.localization,"locale-updated",function(){_g(n)}),this.eventManager.o(this.localization,"locale-changed",function(){_g(n)}),this.eventManager.o(this.player,"ratechange",function(){r4(n,n.player.Jb())}),this.g=new Map(this.controls.m.playbackRates.map(function(o){return[o+"x",o]})),_g(this),Gb(this),r4(this,this.player.Jb())}K(Cg,Ri);function _g(e){e.backButton.ariaLabel=e.localization.resolve("BACK"),e.button.ariaLabel=e.localization.resolve("PLAYBACK_RATE"),e.nameSpan.textContent=e.localization.resolve("PLAYBACK_RATE"),e.backSpan.textContent=e.localization.resolve("PLAYBACK_RATE")}function r4(e,t){var n=J0(e.menu,"material-icons-round shaka-chosen-item");if(n){var o=n.parentElement;o.removeAttribute("aria-selected"),o.getElementsByTagName("span")[0].classList.remove("shaka-chosen-item"),o.removeChild(n)}(n=Array.from(e.menu.querySelectorAll("span")).find(function(u){return e.g.get(u.textContent)==t}))&&(o=n.parentElement,o.appendChild(Rs()),o.ariaSelected="true",n.classList.add("shaka-chosen-item")),e.currentSelection.textContent=t+"x",e.button.setAttribute("shaka-status",t+"x")}function Gb(e){for(var t={},n=x(e.g.keys()),o=n.next();!o.done;t={Cc:t.Cc},o=n.next()){t.Cc=o.value,o=wt();var u=le("span");u.textContent=t.Cc,o.appendChild(u),e.eventManager.o(o,"click",function(l){return function(){e.video.playbackRate=e.g.get(l.Cc),e.video.defaultPlaybackRate=e.g.get(l.Cc)}}(t)),e.menu.appendChild(o)}va(e.menu)}Y("shaka.ui.PlaybackRateSelection",Cg);function kg(){}kg.prototype.create=function(e,t){return new Cg(e,t)},Mi("playback_rate",new kg),Ut("playback_rate",new kg);function Pg(e,t){me.call(this,e,t);var n=this;this.g=wt(),this.g.classList.add("shaka-current-time"),yd(this,"0:00"),this.parent.appendChild(this.g),this.eventManager.o(this.g,"click",function(){n.player.W()&&(n.video.currentTime=n.player.Na().end)}),this.eventManager.o(this.controls,"timeandseekrangeupdated",function(){var o=n.controls.ka,u=n.controls.jf(),l=n.video.duration,d=n.player.Na(),f=d.end-d.start;n.player.W()?(u=Math.max(0,Math.floor(d.end-u)),l=3600<=f,1<=u||o?(yd(n,"- "+bs(u,l)),n.g.disabled=!1):(yd(n,n.localization.resolve("LIVE")),n.g.disabled=!0)):(o=3600<=l,u=bs(u,o),l&&(u+=" / "+bs(l,o)),yd(n,u),n.g.disabled=!0)}),this.eventManager.o(this.player,"trackschanged",function(){n.player.W()&&(n.g.ariaLabel=n.localization.resolve("SKIP_TO_LIVE"))})}K(Pg,me);function yd(e,t){t!=e.g.textContent&&(e.g.textContent=t)}Y("shaka.ui.PresentationTimeTracker",Pg);function o4(){}o4.prototype.create=function(e,t){return new Pg(e,t)},Ut("time_and_duration",new o4);function Lg(e,t){Ri.call(this,e,t,"settings");var n=this;this.button.classList.add("shaka-resolution-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-resolutions"),this.eventManager.o(this.localization,"locale-updated",function(){Ng(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Ng(n)}),this.eventManager.o(this.player,"variantchanged",function(){Aa(n)}),this.eventManager.o(this.player,"trackschanged",function(){Aa(n)}),this.eventManager.o(this.player,"abrstatuschanged",function(){Aa(n)}),Aa(this),Ng(this)}K(Lg,Ri);function Aa(e){var t=e.player.fb();if(t.length&&!t[0].height)pe(e.menu,!1),pe(e.button,!1);else{pe(e.button,!0),t.sort(function(p,v){return v.height-p.height});var n=t.find(function(p){return p.active});n&&(t=t.filter(function(p){return p.language==n.language&&p.channelsCount==n.channelsCount})),t=t.filter(function(p,v){return t.findIndex(function(y){return y.height==p.height})==v});var o=O2(e.menu);xs(e.menu),e.menu.appendChild(o),o=e.player.getConfiguration().abr.enabled;for(var u={},l=x(t),d=l.next();!d.done;u={Fc:u.Fc},d=l.next()){u.Fc=d.value,d=wt(),d.classList.add("explicit-resolution"),e.eventManager.o(d,"click",function(p){return function(){var v=p.Fc;e.player.configure({abr:{enabled:!1}}),e.player.Be(v,e.controls.m.clearBufferOnQualityChange)}}(u));var f=le("span");f.textContent=u.Fc.height+"p",d.appendChild(f),o||u.Fc!=n||(d.ariaSelected="true",d.appendChild(Rs()),f.classList.add("shaka-chosen-item"),e.currentSelection.textContent=f.textContent),e.menu.appendChild(d)}u=wt(),u.classList.add("shaka-enable-abr-button"),e.eventManager.o(u,"click",function(){e.player.configure({abr:{enabled:!0}}),Aa(e)}),e.g=le("span"),e.g.classList.add("shaka-auto-span"),e.g.textContent=e.localization.resolve("AUTO_QUALITY"),u.appendChild(e.g),o&&(u.ariaSelected="true",u.appendChild(Rs()),e.g.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),e.menu.appendChild(u),va(e.menu),e.controls.dispatchEvent(new oe("resolutionselectionupdated"))}}function Ng(e){e.button.ariaLabel=e.localization.resolve("RESOLUTION"),e.backButton.ariaLabel=e.localization.resolve("RESOLUTION"),e.backSpan.textContent=e.localization.resolve("RESOLUTION"),e.nameSpan.textContent=e.localization.resolve("RESOLUTION"),e.g.textContent=e.localization.resolve("AUTO_QUALITY"),e.player.getConfiguration().abr.enabled&&(e.currentSelection.textContent=e.localization.resolve("AUTO_QUALITY"))}Y("shaka.ui.ResolutionSelection",Lg);function Mg(){}Mg.prototype.create=function(e,t){return new Lg(e,t)},Mi("quality",new Mg),Ut("quality",new Mg);function Rg(e,t){me.call(this,e,t);var n=this;this.g=wt(),this.g.classList.add("material-icons-round"),this.g.classList.add("shaka-rewind-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status",this.localization.resolve("OFF")),this.g.textContent="fast_rewind",this.parent.appendChild(this.g),bg(this),this.h=this.controls.m.rewindRates,this.eventManager.o(this.localization,"locale-updated",function(){bg(n)}),this.eventManager.o(this.localization,"locale-changed",function(){bg(n)}),this.eventManager.o(this.g,"click",function(){if(n.video.duration){var o=n.h.indexOf(n.player.Jb())+1;o=o!=n.h.length?n.h[o]:n.h[0],n.player.Pe(o),n.g.setAttribute("shaka-status",o+"x")}})}K(Rg,me);function bg(e){e.g.ariaLabel=e.localization.resolve("REWIND")}Y("shaka.ui.RewindButton",Rg);function s4(){}s4.prototype.create=function(e,t){return new Rg(e,t)},Ut("rewind",new s4);function Dg(e,t){me.call(this,e,t);var n=this;this.j=le("div"),this.j.classList.add("shaka-skip-ad-container"),this.parent.appendChild(this.j),this.h=le("div"),this.h.classList.add("shaka-skip-ad-counter"),pe(this.h,!1),this.j.appendChild(this.h),this.g=wt(),this.g.classList.add("shaka-skip-ad-button"),this.g.disabled=!0,pe(this.g,!1),this.g.classList.add("shaka-no-propagation"),this.j.appendChild(this.g),Og(this),this.i=new fe(function(){var o=Math.round(n.ad.getTimeUntilSkippable());0<o?n.h.textContent=o:(n.i.stop(),pe(n.h,!1))}),this.eventManager.o(this.localization,"locale-updated",function(){Og(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Og(n)}),this.eventManager.o(this.adManager,"ad-started",function(){u4(n)}),this.eventManager.o(this.adManager,"ad-skip-state-changed",function(){n.ad.canSkipNow()&&(n.g.disabled=!1,n.i.stop(),pe(n.h,!1))}),this.eventManager.o(this.adManager,"ad-stopped",function(){n.i.stop(),n.g.disabled=!0,pe(n.g,!1),pe(n.h,!1)}),this.eventManager.o(this.g,"click",function(){n.ad.skip()}),this.ad&&u4(this)}K(Dg,me),Dg.prototype.release=function(){this.i.stop(),this.i=null,me.prototype.release.call(this)};function Og(e){e.g.textContent=e.localization.resolve("SKIP_AD")}function u4(e){e.ad.isSkippable()&&(pe(e.g,!0),pe(e.h,!0),e.h.textContent="",e.i.Ga(),e.i.na(.5))}Y("shaka.ui.SkipAdButton",Dg);function Ia(e,t){rr.call(this,e,t),this.button.classList.add("shaka-small-play-button"),this.button.classList.add("material-icons-round"),this.button.classList.add("shaka-tooltip"),this.h(),this.g()}K(Ia,rr),Ia.prototype.h=function(){this.button.textContent=this.video.ended?"replay":this.isPaused()?"play_arrow":"pause"},Ia.prototype.g=function(){if(this.video.ended)this.button.ariaLabel=this.localization.resolve("REPLAY");else{var e=this.isPaused()?"PLAY":"PAUSE";this.button.ariaLabel=this.localization.resolve(e)}},Y("shaka.ui.SmallPlayButton",Ia);function a4(){}a4.prototype.create=function(e,t){return new Ia(e,t)},Ut("play_pause",new a4);function Ug(e,t){me.call(this,e,t);var n=le("div");n.classList.add("shaka-spacer"),n.ariaHidden="true",this.parent.appendChild(n)}K(Ug,me),Y("shaka.ui.Spacer",Ug);function l4(){}l4.prototype.create=function(e,t){return new Ug(e,t)},Ut("spacer",new l4);function xd(e,t){function n(v){return bs(f.h[v],!1)+" (m)"}function o(v){return Math.round(f.h[v]/1e3)+" (kbits/s)"}function u(v){return f.h[v].toFixed(2)+" (s)"}function l(v){return f.h[v]+" (frames)"}function d(v){return f.h[v]+" (px)"}me.call(this,e,t);var f=this;this.i=wt(),this.i.classList.add("shaka-statistics-button"),this.j=le("i"),this.j.classList.add("material-icons-round"),this.j.textContent="insert_chart_outlined",this.i.appendChild(this.j);var p=le("label");p.classList.add("shaka-overflow-button-label"),this.B=le("span"),p.appendChild(this.B),this.s=le("span"),this.s.classList.add("shaka-current-selection-span"),p.appendChild(this.s),this.i.appendChild(p),this.parent.appendChild(this.i),this.g=le("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-show-controls-on-mouse-over"),this.g.classList.add("shaka-statistics-container"),this.g.classList.add("shaka-hidden"),this.controls.i.appendChild(this.g),this.I=[],this.J=["stateHistory","switchHistory"],this.h=this.player.getStats(),this.C={},this.G={width:d,height:d,completionPercent:function(v){return f.h[v]+" (%)"},bufferingTime:u,drmTimeSeconds:u,licenseTime:u,liveLatency:u,loadLatency:u,manifestTimeSeconds:u,estimatedBandwidth:o,streamBandwidth:o,maxSegmentDuration:n,pauseTime:n,playTime:n,corruptedFrames:l,decodedFrames:l,droppedFrames:l},this.l=new fe(function(){f.h=f.player.getStats();for(var v=x(f.I),y=v.next();!y.done;y=v.next())y=y.value,f.C[y].textContent=f.G[y](y)}),Sd(this),Hb(this),this.eventManager.o(this.localization,"locale-updated",function(){Sd(f)}),this.eventManager.o(this.localization,"locale-changed",function(){Sd(f)}),this.eventManager.o(this.i,"click",function(){pe(f.parent,!1),f.g.classList.contains("shaka-hidden")?(f.j.textContent="insert_chart",f.l.na(.1),pe(f.g,!0)):(f.j.textContent="insert_chart_outlined",f.l.stop(),pe(f.g,!1)),Sd(f)})}K(xd,me);function Sd(e){e.B.textContent=e.localization.resolve("STATISTICS"),e.i.ariaLabel=e.localization.resolve("STATISTICS"),e.s.textContent=e.localization.resolve(e.g.classList.contains("shaka-hidden")?"OFF":"ON")}function Hb(e){for(var t=x(e.controls.m.statisticsList),n=t.next();!n.done;n=t.next())if(n=n.value,n in e.h&&!e.J.includes(n)){var o=e.g,u=o.appendChild,l=e,d=le("div"),f=le("label");f.textContent=n+":",d.appendChild(f),f=le("span"),f.textContent=l.G[n](n),d.appendChild(f),l.C[n]=f,u.call(o,d),e.I.push(n)}else je("Unrecognized statistic element:",n)}xd.prototype.release=function(){this.l.stop(),this.l=null,me.prototype.release.call(this)},Y("shaka.ui.StatisticsButton",xd);function Fg(){}Fg.prototype.create=function(e,t){return new xd(e,t)},Mi("statistics",new Fg),ld("statistics",new Fg);function jg(e,t){Ri.call(this,e,t,"closed_caption");var n=this;this.button.classList.add("shaka-caption-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-text-languages"),this.player&&this.player.Vb()?this.button.ariaPressed="true":this.button.ariaPressed="false",Kb(this),this.eventManager.o(this.localization,"locale-updated",function(){Bg(n),Ro(n)}),this.eventManager.o(this.localization,"locale-changed",function(){Bg(n),Ro(n)}),this.eventManager.o(this.player,"texttrackvisibility",function(){c4(n),Ro(n)}),this.eventManager.o(this.player,"textchanged",function(){Ro(n)}),this.eventManager.o(this.player,"trackschanged",function(){d4(n)}),c4(this),Bg(this),Ro(this),d4(this)}K(jg,Ri);function Kb(e){var t=wt();t.ariaSelected="true",e.menu.appendChild(t),t.appendChild(Rs()),e.g=le("span"),e.g.classList.add("shaka-auto-span"),t.appendChild(e.g)}function c4(e){e.player.Vb()?(e.icon.textContent="closed_caption_disabled",e.button.ariaPressed="true"):(e.icon.textContent="closed_caption",e.button.ariaPressed="false"),e.controls.dispatchEvent(new oe("captionselectionupdated"))}function Ro(e){var t=e.player.vb();J2(t,e.menu,function(n){return Wb(e,n)},e.player.Vb(),e.currentSelection,e.localization,e.controls.m.trackLabelFormat),t=wt(),t.classList.add("shaka-turn-captions-off-button"),e.eventManager.o(t,"click",function(){e.player.Je(!1),Ro(e)}),t.appendChild(e.g),e.menu.appendChild(t),e.player.Vb()||(t.ariaSelected="true",t.appendChild(Rs()),e.g.classList.add("shaka-chosen-item"),e.currentSelection.textContent=e.localization.resolve("OFF")),e.button.setAttribute("shaka-status",e.currentSelection.textContent),va(e.menu),e.controls.dispatchEvent(new oe("captionselectionupdated"))}function Wb(e,t){return F(function(n){return e.player.Ae(t),C(n,e.player.Je(!0),0)})}function Bg(e){e.button.ariaLabel=e.localization.resolve("CAPTIONS"),e.backButton.ariaLabel=e.localization.resolve("BACK"),e.nameSpan.textContent=e.localization.resolve("CAPTIONS"),e.backSpan.textContent=e.localization.resolve("CAPTIONS"),e.g.textContent=e.localization.resolve("OFF")}function d4(e){var t=0<e.player.vb().length;pe(e.button,t),Ro(e)}Y("shaka.ui.TextSelection",jg);function zg(){}zg.prototype.create=function(e,t){return new jg(e,t)},Mi("captions",new zg),Ut("captions",new zg);function Td(e,t){xt.call(this,e,t,["shaka-volume-bar-container"],["shaka-volume-bar"]);var n=this;this.m=this.controls.m,this.eventManager.o(this.video,"volumechange",function(){return Vg(n)}),this.eventManager.o(this.adManager,"ad-volume-changed",function(){return f4(n)}),this.eventManager.o(this.adManager,"ad-muted",function(){return f4(n)}),this.eventManager.o(this.adManager,"ad-stopped",function(){return Vg(n)}),this.eventManager.o(this.localization,"locale-updated",function(){return Gg(n)}),this.eventManager.o(this.localization,"locale-changed",function(){return Gg(n)}),Vg(this),Gg(this),this.ad&&this.onChange()}K(Td,xt),Td.prototype.onChange=function(){this.ad&&this.ad.isLinear()?this.ad.setVolume(this.getValue()):(this.video.volume=this.getValue(),this.video.muted=this.video.volume==0)};function Vg(e){e.video.muted?e.setValue(0):e.setValue(e.video.volume),h4(e)}function f4(e){var t=e.ad.getVolume();e.setValue(t),h4(e)}function h4(e){var t=e.m.volumeBarColors,n=["to right"];n.push(t.level+100*e.getValue()+"%"),n.push(t.base+100*e.getValue()+"%"),n.push(t.base+"100%"),e.container.style.background="linear-gradient("+n.join(",")+")"}function Gg(e){e.bar.ariaLabel=e.localization.resolve("VOLUME")}Y("shaka.ui.VolumeBar",Td);function p4(){}p4.prototype.create=function(e,t){return new Td(e,t)},Ut("volume",new p4)}).call(s,i,i,void 0);for(var a in s.shaka)r[a]=s.shaka[a]})()})(kv);var MU=["src","config","chromeless","className"];function RU(r,i){var s=r.src,a=r.config,c=r.chromeless,h=r.className,m=CU(r,MU),g=pi.default.useRef(null),S=pi.default.useRef(null),w=pi.default.useState(null),A=MA(w,2),_=A[0],k=A[1],U=pi.default.useState(null),x=MA(U,2),b=x[0],$=x[1];return pi.default.useEffect(function(){var D=new kv.Player(S.current);if(k(D),!c){var R=new kv.ui.Overlay(D,g.current,S.current);$(R)}return function(){D.destroy()}},[]),pi.default.useEffect(function(){_&&a&&_.configure(a)},[_,a]),pi.default.useEffect(function(){_&&s&&_.load(s)},[_,s]),pi.default.useImperativeHandle(i,function(){return{get player(){return _},get ui(){return b},get videoElement(){return S.current}}},[_,b]),pi.default.createElement("div",{ref:g,className:h},pi.default.createElement("video",_v({ref:S,style:{maxWidth:"100%",width:"100%"}},m)))}var bU=pi.default.forwardRef(RU),DU=bU,Jo=function(){this.init=function(){var i={};this.on=function(s,a){i[s]||(i[s]=[]),i[s]=i[s].concat(a)},this.off=function(s,a){var c;return i[s]?(c=i[s].indexOf(a),i[s]=i[s].slice(),i[s].splice(c,1),c>-1):!1},this.trigger=function(s){var a,c,h,m;if(a=i[s],!!a)if(arguments.length===2)for(h=a.length,c=0;c<h;++c)a[c].call(this,arguments[1]);else{for(m=[],c=arguments.length,c=1;c<arguments.length;++c)m.push(arguments[c]);for(h=a.length,c=0;c<h;++c)a[c].apply(this,m)}},this.dispose=function(){i={}}}};Jo.prototype.pipe=function(r){return this.on("data",function(i){r.push(i)}),this.on("done",function(i){r.flush(i)}),this.on("partialdone",function(i){r.partialFlush(i)}),this.on("endedtimeline",function(i){r.endTimeline(i)}),this.on("reset",function(i){r.reset(i)}),r};Jo.prototype.push=function(r){this.trigger("data",r)};Jo.prototype.flush=function(r){this.trigger("done",r)};Jo.prototype.partialFlush=function(r){this.trigger("partialdone",r)};Jo.prototype.endTimeline=function(r){this.trigger("endedtimeline",r)};Jo.prototype.reset=function(r){this.trigger("reset",r)};var Fn=Jo,by=9e4,Dy,Oy,dh,Uy,dC,fC,hC;Dy=function(i){return i*by};Oy=function(i,s){return i*s};dh=function(i){return i/by};Uy=function(i,s){return i/s};dC=function(i,s){return Dy(Uy(i,s))};fC=function(i,s){return Oy(dh(i),s)};hC=function(i,s,a){return dh(a?i:i-s)};var ro={ONE_SECOND_IN_TS:by,secondsToVideoTs:Dy,secondsToAudioTs:Oy,videoTsToSeconds:dh,audioTsToSeconds:Uy,audioTsToVideoTs:dC,videoTsToAudioTs:fC,metadataTsToSeconds:hC},OU=Fn,UU=ro.ONE_SECOND_IN_TS,Of,bA=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Of=function(i){var s,a=0;Of.prototype.init.call(this),this.skipWarn_=function(c,h){this.trigger("log",{level:"warn",message:"adts skiping bytes "+c+" to "+h+" in frame "+a+" outside syncword"})},this.push=function(c){var h=0,m,g,S,w,A;if(i||(a=0),c.type==="audio"){s&&s.length?(S=s,s=new Uint8Array(S.byteLength+c.data.byteLength),s.set(S),s.set(c.data,S.byteLength)):s=c.data;for(var _;h+7<s.length;){if(s[h]!==255||(s[h+1]&246)!==240){typeof _!="number"&&(_=h),h++;continue}if(typeof _=="number"&&(this.skipWarn_(_,h),_=null),g=(~s[h+1]&1)*2,m=(s[h+3]&3)<<11|s[h+4]<<3|(s[h+5]&224)>>5,w=((s[h+6]&3)+1)*1024,A=w*UU/bA[(s[h+2]&60)>>>2],s.byteLength-h<m)break;this.trigger("data",{pts:c.pts+a*A,dts:c.dts+a*A,sampleCount:w,audioobjecttype:(s[h+2]>>>6&3)+1,channelcount:(s[h+2]&1)<<2|(s[h+3]&192)>>>6,samplerate:bA[(s[h+2]&60)>>>2],samplingfrequencyindex:(s[h+2]&60)>>>2,samplesize:16,data:s.subarray(h+7+g,h+m)}),a++,h+=m}typeof _=="number"&&(this.skipWarn_(_,h),_=null),s=s.subarray(h)}},this.flush=function(){a=0,this.trigger("done")},this.reset=function(){s=void 0,this.trigger("reset")},this.endTimeline=function(){s=void 0,this.trigger("endedtimeline")}};Of.prototype=new OU;var fh=Of,pC;pC=function(i){var s=i.byteLength,a=0,c=0;this.length=function(){return 8*s},this.bitsAvailable=function(){return 8*s+c},this.loadWord=function(){var h=i.byteLength-s,m=new Uint8Array(4),g=Math.min(4,s);if(g===0)throw new Error("no bytes available");m.set(i.subarray(h,h+g)),a=new DataView(m.buffer).getUint32(0),c=g*8,s-=g},this.skipBits=function(h){var m;c>h?(a<<=h,c-=h):(h-=c,m=Math.floor(h/8),h-=m*8,s-=m,this.loadWord(),a<<=h,c-=h)},this.readBits=function(h){var m=Math.min(c,h),g=a>>>32-m;return c-=m,c>0?a<<=m:s>0&&this.loadWord(),m=h-m,m>0?g<<m|this.readBits(m):g},this.skipLeadingZeros=function(){var h;for(h=0;h<c;++h)if(a&2147483648>>>h)return a<<=h,c-=h,h;return this.loadWord(),h+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var h=this.skipLeadingZeros();return this.readBits(h+1)-1},this.readExpGolomb=function(){var h=this.readUnsignedExpGolomb();return 1&h?1+h>>>1:-1*(h>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var FU=pC,gC=Fn,jU=FU,Uf,wl,mC;wl=function(){var i=0,s,a;wl.prototype.init.call(this),this.push=function(c){var h;a?(h=new Uint8Array(a.byteLength+c.data.byteLength),h.set(a),h.set(c.data,a.byteLength),a=h):a=c.data;for(var m=a.byteLength;i<m-3;i++)if(a[i+2]===1){s=i+5;break}for(;s<m;)switch(a[s]){case 0:if(a[s-1]!==0){s+=2;break}else if(a[s-2]!==0){s++;break}i+3!==s-2&&this.trigger("data",a.subarray(i+3,s-2));do s++;while(a[s]!==1&&s<m);i=s-2,s+=3;break;case 1:if(a[s-1]!==0||a[s-2]!==0){s+=3;break}this.trigger("data",a.subarray(i+3,s-2)),i=s-2,s+=3;break;default:s+=3;break}a=a.subarray(i),s-=i,i=0},this.reset=function(){a=null,i=0,this.trigger("reset")},this.flush=function(){a&&a.byteLength>3&&this.trigger("data",a.subarray(i+3)),a=null,i=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}};wl.prototype=new gC;mC={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0};Uf=function(){var i=new wl,s,a,c,h,m,g,S;Uf.prototype.init.call(this),s=this,this.push=function(w){w.type==="video"&&(a=w.trackId,c=w.pts,h=w.dts,i.push(w))},i.on("data",function(w){var A={trackId:a,pts:c,dts:h,data:w,nalUnitTypeCode:w[0]&31};switch(A.nalUnitTypeCode){case 5:A.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:A.nalUnitType="sei_rbsp",A.escapedRBSP=m(w.subarray(1));break;case 7:A.nalUnitType="seq_parameter_set_rbsp",A.escapedRBSP=m(w.subarray(1)),A.config=g(A.escapedRBSP);break;case 8:A.nalUnitType="pic_parameter_set_rbsp";break;case 9:A.nalUnitType="access_unit_delimiter_rbsp";break}s.trigger("data",A)}),i.on("done",function(){s.trigger("done")}),i.on("partialdone",function(){s.trigger("partialdone")}),i.on("reset",function(){s.trigger("reset")}),i.on("endedtimeline",function(){s.trigger("endedtimeline")}),this.flush=function(){i.flush()},this.partialFlush=function(){i.partialFlush()},this.reset=function(){i.reset()},this.endTimeline=function(){i.endTimeline()},S=function(A,_){var k=8,U=8,x,b;for(x=0;x<A;x++)U!==0&&(b=_.readExpGolomb(),U=(k+b+256)%256),k=U===0?k:U},m=function(A){for(var _=A.byteLength,k=[],U=1,x,b;U<_-2;)A[U]===0&&A[U+1]===0&&A[U+2]===3?(k.push(U+2),U+=2):U++;if(k.length===0)return A;x=_-k.length,b=new Uint8Array(x);var $=0;for(U=0;U<x;$++,U++)$===k[0]&&($++,k.shift()),b[U]=A[$];return b},g=function(A){var _=0,k=0,U=0,x=0,b,$,D,R,B,W,ee,K,re,ce,Qe,C=[1,1],Z,ae;if(b=new jU(A),$=b.readUnsignedByte(),R=b.readUnsignedByte(),D=b.readUnsignedByte(),b.skipUnsignedExpGolomb(),mC[$]&&(B=b.readUnsignedExpGolomb(),B===3&&b.skipBits(1),b.skipUnsignedExpGolomb(),b.skipUnsignedExpGolomb(),b.skipBits(1),b.readBoolean()))for(Qe=B!==3?8:12,ae=0;ae<Qe;ae++)b.readBoolean()&&(ae<6?S(16,b):S(64,b));if(b.skipUnsignedExpGolomb(),W=b.readUnsignedExpGolomb(),W===0)b.readUnsignedExpGolomb();else if(W===1)for(b.skipBits(1),b.skipExpGolomb(),b.skipExpGolomb(),ee=b.readUnsignedExpGolomb(),ae=0;ae<ee;ae++)b.skipExpGolomb();if(b.skipUnsignedExpGolomb(),b.skipBits(1),K=b.readUnsignedExpGolomb(),re=b.readUnsignedExpGolomb(),ce=b.readBits(1),ce===0&&b.skipBits(1),b.skipBits(1),b.readBoolean()&&(_=b.readUnsignedExpGolomb(),k=b.readUnsignedExpGolomb(),U=b.readUnsignedExpGolomb(),x=b.readUnsignedExpGolomb()),b.readBoolean()&&b.readBoolean()){switch(Z=b.readUnsignedByte(),Z){case 1:C=[1,1];break;case 2:C=[12,11];break;case 3:C=[10,11];break;case 4:C=[16,11];break;case 5:C=[40,33];break;case 6:C=[24,11];break;case 7:C=[20,11];break;case 8:C=[32,11];break;case 9:C=[80,33];break;case 10:C=[18,11];break;case 11:C=[15,11];break;case 12:C=[64,33];break;case 13:C=[160,99];break;case 14:C=[4,3];break;case 15:C=[3,2];break;case 16:C=[2,1];break;case 255:{C=[b.readUnsignedByte()<<8|b.readUnsignedByte(),b.readUnsignedByte()<<8|b.readUnsignedByte()];break}}C&&C[0]/C[1]}return{profileIdc:$,levelIdc:D,profileCompatibility:R,width:(K+1)*16-_*2-k*2,height:(2-ce)*(re+1)*16-U*2-x*2,sarRatio:C}}};Uf.prototype=new gC;var Fy={H264Stream:Uf,NalByteStream:wl},vC={Adts:fh,h264:Fy},yC=Math.pow(2,32),BU=function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a;return s.getBigUint64?(a=s.getBigUint64(0),a<Number.MAX_SAFE_INTEGER?Number(a):a):s.getUint32(0)*yC+s.getUint32(4)},gu={getUint64:BU,MAX_UINT32:yC},DA=gu.MAX_UINT32,Ne,xC,SC,Pv,TC,EC,wC,AC,Lv,IC,CC,_C,kC,PC,LC,NC,MC,RC,bC,DC,OC,Nv,ke,Mv,UC,FC,OA,UA,jC,BC,zC,VC,cf,GC,HC,KC;(function(){var r;if(ke={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(r in ke)ke.hasOwnProperty(r)&&(ke[r]=[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3)]);Mv=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),FC=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),UC=new Uint8Array([0,0,0,1]),OA=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),UA=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),jC={video:OA,audio:UA},VC=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),zC=new Uint8Array([0,0,0,0,0,0,0,0]),cf=new Uint8Array([0,0,0,0,0,0,0,0]),GC=cf,HC=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),KC=cf,BC=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})();Ne=function(i){var s=[],a=0,c,h,m;for(c=1;c<arguments.length;c++)s.push(arguments[c]);for(c=s.length;c--;)a+=s[c].byteLength;for(h=new Uint8Array(a+8),m=new DataView(h.buffer,h.byteOffset,h.byteLength),m.setUint32(0,h.byteLength),h.set(i,4),c=0,a=8;c<s.length;c++)h.set(s[c],a),a+=s[c].byteLength;return h};xC=function(){return Ne(ke.dinf,Ne(ke.dref,VC))};SC=function(i){return Ne(ke.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,i.audioobjecttype<<3|i.samplingfrequencyindex>>>1,i.samplingfrequencyindex<<7|i.channelcount<<3,6,1,2]))};Pv=function(){return Ne(ke.ftyp,Mv,UC,Mv,FC)};NC=function(i){return Ne(ke.hdlr,jC[i])};TC=function(i){return Ne(ke.mdat,i)};LC=function(i){var s=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,i.duration>>>24&255,i.duration>>>16&255,i.duration>>>8&255,i.duration&255,85,196,0,0]);return i.samplerate&&(s[12]=i.samplerate>>>24&255,s[13]=i.samplerate>>>16&255,s[14]=i.samplerate>>>8&255,s[15]=i.samplerate&255),Ne(ke.mdhd,s)};PC=function(i){return Ne(ke.mdia,LC(i),NC(i.type),wC(i))};EC=function(i){return Ne(ke.mfhd,new Uint8Array([0,0,0,0,(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255]))};wC=function(i){return Ne(ke.minf,i.type==="video"?Ne(ke.vmhd,BC):Ne(ke.smhd,zC),xC(),RC(i))};AC=function(i,s){for(var a=[],c=s.length;c--;)a[c]=DC(s[c]);return Ne.apply(null,[ke.moof,EC(i)].concat(a))};Lv=function(i){for(var s=i.length,a=[];s--;)a[s]=_C(i[s]);return Ne.apply(null,[ke.moov,CC(4294967295)].concat(a).concat(IC(i)))};IC=function(i){for(var s=i.length,a=[];s--;)a[s]=OC(i[s]);return Ne.apply(null,[ke.mvex].concat(a))};CC=function(i){var s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Ne(ke.mvhd,s)};MC=function(i){var s=i.samples||[],a=new Uint8Array(4+s.length),c,h;for(h=0;h<s.length;h++)c=s[h].flags,a[h+4]=c.dependsOn<<4|c.isDependedOn<<2|c.hasRedundancy;return Ne(ke.sdtp,a)};RC=function(i){return Ne(ke.stbl,bC(i),Ne(ke.stts,KC),Ne(ke.stsc,GC),Ne(ke.stsz,HC),Ne(ke.stco,cf))};(function(){var r,i;bC=function(a){return Ne(ke.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),a.type==="video"?r(a):i(a))},r=function(a){var c=a.sps||[],h=a.pps||[],m=[],g=[],S,w;for(S=0;S<c.length;S++)m.push((c[S].byteLength&65280)>>>8),m.push(c[S].byteLength&255),m=m.concat(Array.prototype.slice.call(c[S]));for(S=0;S<h.length;S++)g.push((h[S].byteLength&65280)>>>8),g.push(h[S].byteLength&255),g=g.concat(Array.prototype.slice.call(h[S]));if(w=[ke.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(a.width&65280)>>8,a.width&255,(a.height&65280)>>8,a.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),Ne(ke.avcC,new Uint8Array([1,a.profileIdc,a.profileCompatibility,a.levelIdc,255].concat([c.length],m,[h.length],g))),Ne(ke.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],a.sarRatio){var A=a.sarRatio[0],_=a.sarRatio[1];w.push(Ne(ke.pasp,new Uint8Array([(A&4278190080)>>24,(A&16711680)>>16,(A&65280)>>8,A&255,(_&4278190080)>>24,(_&16711680)>>16,(_&65280)>>8,_&255])))}return Ne.apply(null,w)},i=function(a){return Ne(ke.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(a.channelcount&65280)>>8,a.channelcount&255,(a.samplesize&65280)>>8,a.samplesize&255,0,0,0,0,(a.samplerate&65280)>>8,a.samplerate&255,0,0]),SC(a))}})();kC=function(i){var s=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(i.id&4278190080)>>24,(i.id&16711680)>>16,(i.id&65280)>>8,i.id&255,0,0,0,0,(i.duration&4278190080)>>24,(i.duration&16711680)>>16,(i.duration&65280)>>8,i.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(i.width&65280)>>8,i.width&255,0,0,(i.height&65280)>>8,i.height&255,0,0]);return Ne(ke.tkhd,s)};DC=function(i){var s,a,c,h,m,g,S;return s=Ne(ke.tfhd,new Uint8Array([0,0,0,58,(i.id&4278190080)>>24,(i.id&16711680)>>16,(i.id&65280)>>8,i.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),g=Math.floor(i.baseMediaDecodeTime/DA),S=Math.floor(i.baseMediaDecodeTime%DA),a=Ne(ke.tfdt,new Uint8Array([1,0,0,0,g>>>24&255,g>>>16&255,g>>>8&255,g&255,S>>>24&255,S>>>16&255,S>>>8&255,S&255])),m=32+20+8+16+8+8,i.type==="audio"?(c=Nv(i,m),Ne(ke.traf,s,a,c)):(h=MC(i),c=Nv(i,h.length+m),Ne(ke.traf,s,a,c,h))};_C=function(i){return i.duration=i.duration||4294967295,Ne(ke.trak,kC(i),PC(i))};OC=function(i){var s=new Uint8Array([0,0,0,0,(i.id&4278190080)>>24,(i.id&16711680)>>16,(i.id&65280)>>8,i.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return i.type!=="video"&&(s[s.length-1]=0),Ne(ke.trex,s)};(function(){var r,i,s;s=function(c,h){var m=0,g=0,S=0,w=0;return c.length&&(c[0].duration!==void 0&&(m=1),c[0].size!==void 0&&(g=2),c[0].flags!==void 0&&(S=4),c[0].compositionTimeOffset!==void 0&&(w=8)),[0,0,m|g|S|w,1,(c.length&4278190080)>>>24,(c.length&16711680)>>>16,(c.length&65280)>>>8,c.length&255,(h&4278190080)>>>24,(h&16711680)>>>16,(h&65280)>>>8,h&255]},i=function(c,h){var m,g,S,w,A,_;for(w=c.samples||[],h+=8+12+16*w.length,S=s(w,h),g=new Uint8Array(S.length+w.length*16),g.set(S),m=S.length,_=0;_<w.length;_++)A=w[_],g[m++]=(A.duration&4278190080)>>>24,g[m++]=(A.duration&16711680)>>>16,g[m++]=(A.duration&65280)>>>8,g[m++]=A.duration&255,g[m++]=(A.size&4278190080)>>>24,g[m++]=(A.size&16711680)>>>16,g[m++]=(A.size&65280)>>>8,g[m++]=A.size&255,g[m++]=A.flags.isLeading<<2|A.flags.dependsOn,g[m++]=A.flags.isDependedOn<<6|A.flags.hasRedundancy<<4|A.flags.paddingValue<<1|A.flags.isNonSyncSample,g[m++]=A.flags.degradationPriority&240<<8,g[m++]=A.flags.degradationPriority&15,g[m++]=(A.compositionTimeOffset&4278190080)>>>24,g[m++]=(A.compositionTimeOffset&16711680)>>>16,g[m++]=(A.compositionTimeOffset&65280)>>>8,g[m++]=A.compositionTimeOffset&255;return Ne(ke.trun,g)},r=function(c,h){var m,g,S,w,A,_;for(w=c.samples||[],h+=8+12+8*w.length,S=s(w,h),m=new Uint8Array(S.length+w.length*8),m.set(S),g=S.length,_=0;_<w.length;_++)A=w[_],m[g++]=(A.duration&4278190080)>>>24,m[g++]=(A.duration&16711680)>>>16,m[g++]=(A.duration&65280)>>>8,m[g++]=A.duration&255,m[g++]=(A.size&4278190080)>>>24,m[g++]=(A.size&16711680)>>>16,m[g++]=(A.size&65280)>>>8,m[g++]=A.size&255;return Ne(ke.trun,m)},Nv=function(c,h){return c.type==="audio"?r(c,h):i(c,h)}})();var hh={ftyp:Pv,mdat:TC,moof:AC,moov:Lv,initSegment:function(i){var s=Pv(),a=Lv(i),c;return c=new Uint8Array(s.byteLength+a.byteLength),c.set(s),c.set(a,s.byteLength),c}},zU=function(i){return i>>>0},VU=function(i){return("00"+i.toString(16)).slice(-2)},ph={toUnsigned:zU,toHexString:VU},GU=function(i){var s="";return s+=String.fromCharCode(i[0]),s+=String.fromCharCode(i[1]),s+=String.fromCharCode(i[2]),s+=String.fromCharCode(i[3]),s},jy=GU,HU=ph.toUnsigned,KU=jy,WU=function r(i,s){var a=[],c,h,m,g,S;if(!s.length)return null;for(c=0;c<i.byteLength;)h=HU(i[c]<<24|i[c+1]<<16|i[c+2]<<8|i[c+3]),m=KU(i.subarray(c+4,c+8)),g=h>1?c+h:i.byteLength,m===s[0]&&(s.length===1?a.push(i.subarray(c+8,g)):(S=r(i.subarray(c+8,g),s.slice(1)),S.length&&(a=a.concat(S)))),c=g;return a},By=WU,$U=function(i){for(var s=0,a=String.fromCharCode(i[s]),c="";a!=="\0";)c+=a,s++,a=String.fromCharCode(i[s]);return c+=a,c},qU={uint8ToCString:$U},Bd=qU.uint8ToCString,XU=gu.getUint64,YU=function(i){var s=4,a=i[0],c,h,m,g,S,w,A,_;if(a===0){c=Bd(i.subarray(s)),s+=c.length,h=Bd(i.subarray(s)),s+=h.length;var k=new DataView(i.buffer);m=k.getUint32(s),s+=4,S=k.getUint32(s),s+=4,w=k.getUint32(s),s+=4,A=k.getUint32(s),s+=4}else if(a===1){var k=new DataView(i.buffer);m=k.getUint32(s),s+=4,g=XU(i.subarray(s)),s+=8,w=k.getUint32(s),s+=4,A=k.getUint32(s),s+=4,c=Bd(i.subarray(s)),s+=c.length,h=Bd(i.subarray(s)),s+=h.length}_=new Uint8Array(i.subarray(s,i.byteLength));var U={scheme_id_uri:c,value:h,timescale:m||1,presentation_time:g,presentation_time_delta:S,event_duration:w,id:A,message_data:_};return JU(a,U)?U:void 0},QU=function(i,s,a,c){return i||i===0?i/s:c+a/s},JU=function(i,s){var a=s.scheme_id_uri!=="\0",c=i===0&&FA(s.presentation_time_delta)&&a,h=i===1&&FA(s.presentation_time)&&a;return!(i>1)&&c||h},FA=function(i){return i!==void 0||i!==null},ZU={parseEmsgBox:YU,scaleTime:QU},e6=function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a={version:i[0],flags:new Uint8Array(i.subarray(1,4)),trackId:s.getUint32(4)},c=a.flags[2]&1,h=a.flags[2]&2,m=a.flags[2]&8,g=a.flags[2]&16,S=a.flags[2]&32,w=a.flags[0]&65536,A=a.flags[0]&131072,_;return _=8,c&&(_+=4,a.baseDataOffset=s.getUint32(12),_+=4),h&&(a.sampleDescriptionIndex=s.getUint32(_),_+=4),m&&(a.defaultSampleDuration=s.getUint32(_),_+=4),g&&(a.defaultSampleSize=s.getUint32(_),_+=4),S&&(a.defaultSampleFlags=s.getUint32(_)),w&&(a.durationIsEmpty=!0),!c&&A&&(a.baseDataOffsetIsMoof=!0),a},zy=e6,t6=function(i){return{isLeading:(i[0]&12)>>>2,dependsOn:i[0]&3,isDependedOn:(i[1]&192)>>>6,hasRedundancy:(i[1]&48)>>>4,paddingValue:(i[1]&14)>>>1,isNonSyncSample:i[1]&1,degradationPriority:i[2]<<8|i[3]}},n6=t6,jA=n6,i6=function(i){var s={version:i[0],flags:new Uint8Array(i.subarray(1,4)),samples:[]},a=new DataView(i.buffer,i.byteOffset,i.byteLength),c=s.flags[2]&1,h=s.flags[2]&4,m=s.flags[1]&1,g=s.flags[1]&2,S=s.flags[1]&4,w=s.flags[1]&8,A=a.getUint32(4),_=8,k;for(c&&(s.dataOffset=a.getInt32(_),_+=4),h&&A&&(k={flags:jA(i.subarray(_,_+4))},_+=4,m&&(k.duration=a.getUint32(_),_+=4),g&&(k.size=a.getUint32(_),_+=4),w&&(s.version===1?k.compositionTimeOffset=a.getInt32(_):k.compositionTimeOffset=a.getUint32(_),_+=4),s.samples.push(k),A--);A--;)k={},m&&(k.duration=a.getUint32(_),_+=4),g&&(k.size=a.getUint32(_),_+=4),S&&(k.flags=jA(i.subarray(_,_+4)),_+=4),w&&(s.version===1?k.compositionTimeOffset=a.getInt32(_):k.compositionTimeOffset=a.getUint32(_),_+=4),s.samples.push(k);return s},Vy=i6,r6=ph.toUnsigned,o6=gu.getUint64,s6=function(i){var s={version:i[0],flags:new Uint8Array(i.subarray(1,4))};return s.version===1?s.baseMediaDecodeTime=o6(i.subarray(4)):s.baseMediaDecodeTime=r6(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),s},Gy=s6,Wa;typeof window<"u"?Wa=window:typeof ti<"u"?Wa=ti:typeof self<"u"?Wa=self:Wa={};var WC=Wa,u6=function(i,s,a){if(!i)return-1;for(var c=a;c<i.length;c++)if(i[c]===s)return c;return-1},a6={typedArrayIndexOf:u6},zd=a6.typedArrayIndexOf,Vd={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},$C=function(i,s,a){var c,h="";for(c=s;c<a;c++)h+="%"+("00"+i[c].toString(16)).slice(-2);return h},Da=function(i,s,a){return decodeURIComponent($C(i,s,a))},Oa=function(i,s,a){return unescape($C(i,s,a))},$a=function(i){return i[0]<<21|i[1]<<14|i[2]<<7|i[3]},qa={APIC:function(i){var s=1,a,c,h="-->";i.data[0]===Vd.Utf8&&(a=zd(i.data,0,s),!(a<0)&&(i.mimeType=Oa(i.data,s,a),s=a+1,i.pictureType=i.data[s],s++,c=zd(i.data,0,s),!(c<0)&&(i.description=Da(i.data,s,c),s=c+1,i.mimeType===h?i.url=Oa(i.data,s,i.data.length):i.pictureData=i.data.subarray(s,i.data.length))))},"T*":function(i){i.data[0]===Vd.Utf8&&(i.value=Da(i.data,1,i.data.length).replace(/\0*$/,""),i.values=i.value.split("\0"))},TXXX:function(i){var s;i.data[0]===Vd.Utf8&&(s=zd(i.data,0,1),s!==-1&&(i.description=Da(i.data,1,s),i.value=Da(i.data,s+1,i.data.length).replace(/\0*$/,""),i.data=i.value))},"W*":function(i){i.url=Oa(i.data,0,i.data.length).replace(/\0.*$/,"")},WXXX:function(i){var s;i.data[0]===Vd.Utf8&&(s=zd(i.data,0,1),s!==-1&&(i.description=Da(i.data,1,s),i.url=Oa(i.data,s+1,i.data.length).replace(/\0.*$/,"")))},PRIV:function(i){var s;for(s=0;s<i.data.length;s++)if(i.data[s]===0){i.owner=Oa(i.data,0,s);break}i.privateData=i.data.subarray(s+1),i.data=i.privateData}},l6=function(i){var s,a,c=10,h=0,m=[];if(!(i.length<10||i[0]!=="I".charCodeAt(0)||i[1]!=="D".charCodeAt(0)||i[2]!=="3".charCodeAt(0))){h=$a(i.subarray(6,10)),h+=10;var g=i[5]&64;g&&(c+=4,c+=$a(i.subarray(10,14)),h-=$a(i.subarray(16,20)));do{if(s=$a(i.subarray(c+4,c+8)),s<1)break;a=String.fromCharCode(i[c],i[c+1],i[c+2],i[c+3]);var S={id:a,data:i.subarray(c+10,c+s+10)};S.key=S.id,qa[S.id]?qa[S.id](S):S.id[0]==="T"?qa["T*"](S):S.id[0]==="W"&&qa["W*"](S),m.push(S),c+=10,c+=s}while(c<h);return m}},qC={parseId3Frames:l6,parseSyncSafeInteger:$a,frameParsers:qa},Ff=ph.toUnsigned,Ua=ph.toHexString,Ct=By,Qs=jy,ym=ZU,c6=zy,d6=Vy,f6=Gy,h6=gu.getUint64,XC,YC,QC,JC,ZC,Hy,e_,Rv=WC,p6=qC.parseId3Frames;XC=function(i){var s={},a=Ct(i,["moov","trak"]);return a.reduce(function(c,h){var m,g,S,w,A;return m=Ct(h,["tkhd"])[0],!m||(g=m[0],S=g===0?12:20,w=Ff(m[S]<<24|m[S+1]<<16|m[S+2]<<8|m[S+3]),A=Ct(h,["mdia","mdhd"])[0],!A)?null:(g=A[0],S=g===0?12:20,c[w]=Ff(A[S]<<24|A[S+1]<<16|A[S+2]<<8|A[S+3]),c)},s)};YC=function(i,s){var a;a=Ct(s,["moof","traf"]);var c=a.reduce(function(h,m){var g=Ct(m,["tfhd"])[0],S=Ff(g[4]<<24|g[5]<<16|g[6]<<8|g[7]),w=i[S]||9e4,A=Ct(m,["tfdt"])[0],_=new DataView(A.buffer,A.byteOffset,A.byteLength),k;A[0]===1?k=h6(A.subarray(4,12)):k=_.getUint32(4);var U;return typeof k=="bigint"?U=k/Rv.BigInt(w):typeof k=="number"&&!isNaN(k)&&(U=k/w),U<Number.MAX_SAFE_INTEGER&&(U=Number(U)),U<h&&(h=U),h},1/0);return typeof c=="bigint"||isFinite(c)?c:0};QC=function(i,s){var a=Ct(s,["moof","traf"]),c=0,h=0,m;if(a&&a.length){var g=Ct(a[0],["tfhd"])[0],S=Ct(a[0],["trun"])[0],w=Ct(a[0],["tfdt"])[0];if(g){var A=c6(g);m=A.trackId}if(w){var _=f6(w);c=_.baseMediaDecodeTime}if(S){var k=d6(S);k.samples&&k.samples.length&&(h=k.samples[0].compositionTimeOffset||0)}}var U=i[m]||9e4;typeof c=="bigint"&&(h=Rv.BigInt(h),U=Rv.BigInt(U));var x=(c+h)/U;return typeof x=="bigint"&&x<Number.MAX_SAFE_INTEGER&&(x=Number(x)),x};JC=function(i){var s=Ct(i,["moov","trak"]),a=[];return s.forEach(function(c){var h=Ct(c,["mdia","hdlr"]),m=Ct(c,["tkhd"]);h.forEach(function(g,S){var w=Qs(g.subarray(8,12)),A=m[S],_,k,U;w==="vide"&&(_=new DataView(A.buffer,A.byteOffset,A.byteLength),k=_.getUint8(0),U=k===0?_.getUint32(12):_.getUint32(20),a.push(U))})}),a};Hy=function(i){var s=i[0],a=s===0?12:20;return Ff(i[a]<<24|i[a+1]<<16|i[a+2]<<8|i[a+3])};ZC=function(i){var s=Ct(i,["moov","trak"]),a=[];return s.forEach(function(c){var h={},m=Ct(c,["tkhd"])[0],g,S;m&&(g=new DataView(m.buffer,m.byteOffset,m.byteLength),S=g.getUint8(0),h.id=S===0?g.getUint32(12):g.getUint32(20));var w=Ct(c,["mdia","hdlr"])[0];if(w){var A=Qs(w.subarray(8,12));A==="vide"?h.type="video":A==="soun"?h.type="audio":h.type=A}var _=Ct(c,["mdia","minf","stbl","stsd"])[0];if(_){var k=_.subarray(8);h.codec=Qs(k.subarray(4,8));var U=Ct(k,[h.codec])[0],x,b;U&&(/^[asm]vc[1-9]$/i.test(h.codec)?(x=U.subarray(78),b=Qs(x.subarray(4,8)),b==="avcC"&&x.length>11?(h.codec+=".",h.codec+=Ua(x[9]),h.codec+=Ua(x[10]),h.codec+=Ua(x[11])):h.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(h.codec)?(x=U.subarray(28),b=Qs(x.subarray(4,8)),b==="esds"&&x.length>20&&x[19]!==0?(h.codec+="."+Ua(x[19]),h.codec+="."+Ua(x[20]>>>2&63).replace(/^0/,"")):h.codec="mp4a.40.2"):h.codec=h.codec.toLowerCase())}var $=Ct(c,["mdia","mdhd"])[0];$&&(h.timescale=Hy($)),a.push(h)}),a};e_=function(i,s){s===void 0&&(s=0);var a=Ct(i,["emsg"]);return a.map(function(c){var h=ym.parseEmsgBox(new Uint8Array(c)),m=p6(h.message_data);return{cueTime:ym.scaleTime(h.presentation_time,h.timescale,h.presentation_time_delta,s),duration:ym.scaleTime(h.event_duration,h.timescale),frames:m}})};var g6={findBox:Ct,parseType:Qs,timescale:XC,startTime:YC,compositionStartTime:QC,videoTrackIds:JC,tracks:ZC,getTimescaleFromMediaHeader:Hy,getEmsgID3:e_},m6=function(i){var s,a,c=[],h=[];for(h.byteLength=0,h.nalCount=0,h.duration=0,c.byteLength=0,s=0;s<i.length;s++)a=i[s],a.nalUnitType==="access_unit_delimiter_rbsp"?(c.length&&(c.duration=a.dts-c.dts,h.byteLength+=c.byteLength,h.nalCount+=c.length,h.duration+=c.duration,h.push(c)),c=[a],c.byteLength=a.data.byteLength,c.pts=a.pts,c.dts=a.dts):(a.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(c.keyFrame=!0),c.duration=a.dts-c.dts,c.byteLength+=a.data.byteLength,c.push(a));return h.length&&(!c.duration||c.duration<=0)&&(c.duration=h[h.length-1].duration),h.byteLength+=c.byteLength,h.nalCount+=c.length,h.duration+=c.duration,h.push(c),h},v6=function(i){var s,a,c=[],h=[];for(c.byteLength=0,c.nalCount=0,c.duration=0,c.pts=i[0].pts,c.dts=i[0].dts,h.byteLength=0,h.nalCount=0,h.duration=0,h.pts=i[0].pts,h.dts=i[0].dts,s=0;s<i.length;s++)a=i[s],a.keyFrame?(c.length&&(h.push(c),h.byteLength+=c.byteLength,h.nalCount+=c.nalCount,h.duration+=c.duration),c=[a],c.nalCount=a.length,c.byteLength=a.byteLength,c.pts=a.pts,c.dts=a.dts,c.duration=a.duration):(c.duration+=a.duration,c.nalCount+=a.length,c.byteLength+=a.byteLength,c.push(a));return h.length&&c.duration<=0&&(c.duration=h[h.length-1].duration),h.byteLength+=c.byteLength,h.nalCount+=c.nalCount,h.duration+=c.duration,h.push(c),h},y6=function(i){var s;return!i[0][0].keyFrame&&i.length>1&&(s=i.shift(),i.byteLength-=s.byteLength,i.nalCount-=s.nalCount,i[0][0].dts=s.dts,i[0][0].pts=s.pts,i[0][0].duration+=s.duration),i},x6=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},t_=function(i,s){var a=x6();return a.dataOffset=s,a.compositionTimeOffset=i.pts-i.dts,a.duration=i.duration,a.size=4*i.length,a.size+=i.byteLength,i.keyFrame&&(a.flags.dependsOn=2,a.flags.isNonSyncSample=0),a},S6=function(i,s){var a,c,h,m,g,S=s||0,w=[];for(a=0;a<i.length;a++)for(m=i[a],c=0;c<m.length;c++)g=m[c],h=t_(g,S),S+=h.size,w.push(h);return w},T6=function(i){var s,a,c,h,m,g,S=0,w=i.byteLength,A=i.nalCount,_=w+4*A,k=new Uint8Array(_),U=new DataView(k.buffer);for(s=0;s<i.length;s++)for(h=i[s],a=0;a<h.length;a++)for(m=h[a],c=0;c<m.length;c++)g=m[c],U.setUint32(S,g.data.byteLength),S+=4,k.set(g.data,S),S+=g.data.byteLength;return k},E6=function(i,s){var a,c=s||0,h=[];return a=t_(i,c),h.push(a),h},w6=function(i){var s,a,c=0,h=i.byteLength,m=i.length,g=h+4*m,S=new Uint8Array(g),w=new DataView(S.buffer);for(s=0;s<i.length;s++)a=i[s],w.setUint32(c,a.data.byteLength),c+=4,S.set(a.data,c),c+=a.data.byteLength;return S},n_={groupNalsIntoFrames:m6,groupFramesIntoGops:v6,extendFirstKeyFrame:y6,generateSampleTable:S6,concatenateNalData:T6,generateSampleTableForFrame:E6,concatenateNalDataForFrame:w6},Dr=[33,16,5,32,164,27],xm=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],qe=function(i){for(var s=[];i--;)s.push(0);return s},A6=function(i){return Object.keys(i).reduce(function(s,a){return s[a]=new Uint8Array(i[a].reduce(function(c,h){return c.concat(h)},[])),s},{})},Sm,I6=function(){if(!Sm){var r={96e3:[Dr,[227,64],qe(154),[56]],88200:[Dr,[231],qe(170),[56]],64e3:[Dr,[248,192],qe(240),[56]],48e3:[Dr,[255,192],qe(268),[55,148,128],qe(54),[112]],44100:[Dr,[255,192],qe(268),[55,163,128],qe(84),[112]],32e3:[Dr,[255,192],qe(268),[55,234],qe(226),[112]],24e3:[Dr,[255,192],qe(268),[55,255,128],qe(268),[111,112],qe(126),[224]],16e3:[Dr,[255,192],qe(268),[55,255,128],qe(268),[111,255],qe(269),[223,108],qe(195),[1,192]],12e3:[xm,qe(268),[3,127,248],qe(268),[6,255,240],qe(268),[13,255,224],qe(268),[27,253,128],qe(259),[56]],11025:[xm,qe(268),[3,127,248],qe(268),[6,255,240],qe(268),[13,255,224],qe(268),[27,255,192],qe(268),[55,175,128],qe(108),[112]],8e3:[xm,qe(268),[3,121,16],qe(47),[7]]};Sm=A6(r)}return Sm},C6=I6,Gd=ro,_6=function(i){var s,a,c=0;for(s=0;s<i.length;s++)a=i[s],c+=a.data.byteLength;return c},k6=function(i,s,a,c){var h,m=0,g=0,S=0,w=0,A,_,k;if(s.length&&(h=Gd.audioTsToVideoTs(i.baseMediaDecodeTime,i.samplerate),m=Math.ceil(Gd.ONE_SECOND_IN_TS/(i.samplerate/1024)),a&&c&&(g=h-Math.max(a,c),S=Math.floor(g/m),w=S*m),!(S<1||w>Gd.ONE_SECOND_IN_TS/2))){for(A=C6()[i.samplerate],A||(A=s[0].data),_=0;_<S;_++)k=s[0],s.splice(0,0,{data:A,dts:k.dts-m,pts:k.pts-m});return i.baseMediaDecodeTime-=Math.floor(Gd.videoTsToAudioTs(w,i.samplerate)),w}},P6=function(i,s,a){return s.minSegmentDts>=a?i:(s.minSegmentDts=1/0,i.filter(function(c){return c.dts>=a?(s.minSegmentDts=Math.min(s.minSegmentDts,c.dts),s.minSegmentPts=s.minSegmentDts,!0):!1}))},L6=function(i){var s,a,c=[];for(s=0;s<i.length;s++)a=i[s],c.push({size:a.data.byteLength,duration:1024});return c},N6=function(i){var s,a,c=0,h=new Uint8Array(_6(i));for(s=0;s<i.length;s++)a=i[s],h.set(a.data,c),c+=a.data.byteLength;return h},i_={prefixWithSilence:k6,trimAdtsFramesByEarliestDts:P6,generateSampleTable:L6,concatenateFrameData:N6},M6=ro.ONE_SECOND_IN_TS,R6=function(i,s){typeof s.pts=="number"&&(i.timelineStartInfo.pts===void 0&&(i.timelineStartInfo.pts=s.pts),i.minSegmentPts===void 0?i.minSegmentPts=s.pts:i.minSegmentPts=Math.min(i.minSegmentPts,s.pts),i.maxSegmentPts===void 0?i.maxSegmentPts=s.pts:i.maxSegmentPts=Math.max(i.maxSegmentPts,s.pts)),typeof s.dts=="number"&&(i.timelineStartInfo.dts===void 0&&(i.timelineStartInfo.dts=s.dts),i.minSegmentDts===void 0?i.minSegmentDts=s.dts:i.minSegmentDts=Math.min(i.minSegmentDts,s.dts),i.maxSegmentDts===void 0?i.maxSegmentDts=s.dts:i.maxSegmentDts=Math.max(i.maxSegmentDts,s.dts))},b6=function(i){delete i.minSegmentDts,delete i.maxSegmentDts,delete i.minSegmentPts,delete i.maxSegmentPts},D6=function(i,s){var a,c,h=i.minSegmentDts;return s||(h-=i.timelineStartInfo.dts),a=i.timelineStartInfo.baseMediaDecodeTime,a+=h,a=Math.max(0,a),i.type==="audio"&&(c=i.samplerate/M6,a*=c,a=Math.floor(a)),a},gh={clearDtsInfo:b6,calculateTrackBaseMediaDecodeTime:D6,collectDtsInfo:R6},r_=4,O6=128,U6=function(i){for(var s=0,a={payloadType:-1,payloadSize:0},c=0,h=0;s<i.byteLength&&i[s]!==O6;){for(;i[s]===255;)c+=255,s++;for(c+=i[s++];i[s]===255;)h+=255,s++;if(h+=i[s++],!a.payload&&c===r_){var m=String.fromCharCode(i[s+3],i[s+4],i[s+5],i[s+6]);if(m==="GA94"){a.payloadType=c,a.payloadSize=h,a.payload=i.subarray(s,s+h);break}else a.payload=void 0}s+=h,c=0,h=0}return a},F6=function(i){return i.payload[0]!==181||(i.payload[1]<<8|i.payload[2])!==49||String.fromCharCode(i.payload[3],i.payload[4],i.payload[5],i.payload[6])!=="GA94"||i.payload[7]!==3?null:i.payload.subarray(8,i.payload.length-1)},j6=function(i,s){var a=[],c,h,m,g;if(!(s[0]&64))return a;for(h=s[0]&31,c=0;c<h;c++)m=c*3,g={type:s[m+2]&3,pts:i},s[m+2]&4&&(g.ccData=s[m+3]<<8|s[m+4],a.push(g));return a},B6=function(i){for(var s=i.byteLength,a=[],c=1,h,m;c<s-2;)i[c]===0&&i[c+1]===0&&i[c+2]===3?(a.push(c+2),c+=2):c++;if(a.length===0)return i;h=s-a.length,m=new Uint8Array(h);var g=0;for(c=0;c<h;g++,c++)g===a[0]&&(g++,a.shift()),m[c]=i[g];return m},o_={parseSei:U6,parseUserData:F6,parseCaptionPackets:j6,discardEmulationPreventionBytes:B6,USER_DATA_REGISTERED_ITU_T_T35:r_},Ky=Fn,Hd=o_,jn=function r(i){i=i||{},r.prototype.init.call(this),this.parse708captions_=typeof i.parse708captions=="boolean"?i.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new mt(0,0),new mt(0,1),new mt(1,0),new mt(1,1)],this.parse708captions_&&(this.cc708Stream_=new st({captionServices:i.captionServices})),this.reset(),this.ccStreams_.forEach(function(s){s.on("data",this.trigger.bind(this,"data")),s.on("partialdone",this.trigger.bind(this,"partialdone")),s.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};jn.prototype=new Ky;jn.prototype.push=function(r){var i,s,a;if(r.nalUnitType==="sei_rbsp"&&(i=Hd.parseSei(r.escapedRBSP),!!i.payload&&i.payloadType===Hd.USER_DATA_REGISTERED_ITU_T_T35&&(s=Hd.parseUserData(i),!!s))){if(r.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(r.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}a=Hd.parseCaptionPackets(r.pts,s),this.captionPackets_=this.captionPackets_.concat(a),this.latestDts_!==r.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=r.dts}};jn.prototype.flushCCStreams=function(r){this.ccStreams_.forEach(function(i){return r==="flush"?i.flush():i.partialFlush()},this)};jn.prototype.flushStream=function(r){if(!this.captionPackets_.length){this.flushCCStreams(r);return}this.captionPackets_.forEach(function(i,s){i.presortIndex=s}),this.captionPackets_.sort(function(i,s){return i.pts===s.pts?i.presortIndex-s.presortIndex:i.pts-s.pts}),this.captionPackets_.forEach(function(i){i.type<2?this.dispatchCea608Packet(i):this.dispatchCea708Packet(i)},this),this.captionPackets_.length=0,this.flushCCStreams(r)};jn.prototype.flush=function(){return this.flushStream("flush")};jn.prototype.partialFlush=function(){return this.flushStream("partialFlush")};jn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(r){r.reset()})};jn.prototype.dispatchCea608Packet=function(r){this.setsTextOrXDSActive(r)?this.activeCea608Channel_[r.type]=null:this.setsChannel1Active(r)?this.activeCea608Channel_[r.type]=0:this.setsChannel2Active(r)&&(this.activeCea608Channel_[r.type]=1),this.activeCea608Channel_[r.type]!==null&&this.ccStreams_[(r.type<<1)+this.activeCea608Channel_[r.type]].push(r)};jn.prototype.setsChannel1Active=function(r){return(r.ccData&30720)===4096};jn.prototype.setsChannel2Active=function(r){return(r.ccData&30720)===6144};jn.prototype.setsTextOrXDSActive=function(r){return(r.ccData&28928)===256||(r.ccData&30974)===4138||(r.ccData&30974)===6186};jn.prototype.dispatchCea708Packet=function(r){this.parse708captions_&&this.cc708Stream_.push(r)};var z6={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},V6=function(i){var s=z6[i]||i;return i&4096&&i===s?"":String.fromCharCode(s)},jf=function(i){return 32<=i&&i<=127||160<=i&&i<=255},yr=function(i){this.windowNum=i,this.reset()};yr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0};yr.prototype.getText=function(){return this.rows.join(`
`)};yr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0};yr.prototype.newLine=function(r){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(r),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--};yr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1};yr.prototype.addText=function(r){this.rows[this.rowIdx]+=r};yr.prototype.backspace=function(){if(!this.isEmpty()){var r=this.rows[this.rowIdx];this.rows[this.rowIdx]=r.substr(0,r.length-1)}};var mh=function(i,s,a){this.serviceNum=i,this.text="",this.currentWindow=new yr(-1),this.windows=[],this.stream=a,typeof s=="string"&&this.createTextDecoder(s)};mh.prototype.init=function(r,i){this.startPts=r;for(var s=0;s<8;s++)this.windows[s]=new yr(s),typeof i=="function"&&(this.windows[s].beforeRowOverflow=i)};mh.prototype.setCurrentWindow=function(r){this.currentWindow=this.windows[r]};mh.prototype.createTextDecoder=function(r){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(r)}catch(i){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+r+" encoding. "+i})}};var st=function r(i){i=i||{},r.prototype.init.call(this);var s=this,a=i.captionServices||{},c={},h;Object.keys(a).forEach(function(m){h=a[m],/^SERVICE/.test(m)&&(c[m]=h.encoding)}),this.serviceEncodings=c,this.current708Packet=null,this.services={},this.push=function(m){m.type===3?(s.new708Packet(),s.add708Bytes(m)):(s.current708Packet===null&&s.new708Packet(),s.add708Bytes(m))}};st.prototype=new Ky;st.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}};st.prototype.add708Bytes=function(r){var i=r.ccData,s=i>>>8,a=i&255;this.current708Packet.ptsVals.push(r.pts),this.current708Packet.data.push(s),this.current708Packet.data.push(a)};st.prototype.push708Packet=function(){var r=this.current708Packet,i=r.data,s=null,a=null,c=0,h=i[c++];for(r.seq=h>>6,r.sizeCode=h&63;c<i.length;c++)h=i[c++],s=h>>5,a=h&31,s===7&&a>0&&(h=i[c++],s=h),this.pushServiceBlock(s,c,a),a>0&&(c+=a-1)};st.prototype.pushServiceBlock=function(r,i,s){var a,c=i,h=this.current708Packet.data,m=this.services[r];for(m||(m=this.initService(r,c));c<i+s&&c<h.length;c++)a=h[c],jf(a)?c=this.handleText(c,m):a===24?c=this.multiByteCharacter(c,m):a===16?c=this.extendedCommands(c,m):128<=a&&a<=135?c=this.setCurrentWindow(c,m):152<=a&&a<=159?c=this.defineWindow(c,m):a===136?c=this.clearWindows(c,m):a===140?c=this.deleteWindows(c,m):a===137?c=this.displayWindows(c,m):a===138?c=this.hideWindows(c,m):a===139?c=this.toggleWindows(c,m):a===151?c=this.setWindowAttributes(c,m):a===144?c=this.setPenAttributes(c,m):a===145?c=this.setPenColor(c,m):a===146?c=this.setPenLocation(c,m):a===143?m=this.reset(c,m):a===8?m.currentWindow.backspace():a===12?m.currentWindow.clearText():a===13?m.currentWindow.pendingNewLine=!0:a===14?m.currentWindow.clearText():a===141&&c++};st.prototype.extendedCommands=function(r,i){var s=this.current708Packet.data,a=s[++r];return jf(a)&&(r=this.handleText(r,i,{isExtended:!0})),r};st.prototype.getPts=function(r){return this.current708Packet.ptsVals[Math.floor(r/2)]};st.prototype.initService=function(r,i){var a="SERVICE"+r,s=this,a,c;return a in this.serviceEncodings&&(c=this.serviceEncodings[a]),this.services[r]=new mh(r,c,s),this.services[r].init(this.getPts(i),function(h){s.flushDisplayed(h,s.services[r])}),this.services[r]};st.prototype.handleText=function(r,i,s){var a=s&&s.isExtended,c=s&&s.isMultiByte,h=this.current708Packet.data,m=a?4096:0,g=h[r],S=h[r+1],w=i.currentWindow,A,_;return i.textDecoder_&&!a?(c?(_=[g,S],r++):_=[g],A=i.textDecoder_.decode(new Uint8Array(_))):A=V6(m|g),w.pendingNewLine&&!w.isEmpty()&&w.newLine(this.getPts(r)),w.pendingNewLine=!1,w.addText(A),r};st.prototype.multiByteCharacter=function(r,i){var s=this.current708Packet.data,a=s[r+1],c=s[r+2];return jf(a)&&jf(c)&&(r=this.handleText(++r,i,{isMultiByte:!0})),r};st.prototype.setCurrentWindow=function(r,i){var s=this.current708Packet.data,a=s[r],c=a&7;return i.setCurrentWindow(c),r};st.prototype.defineWindow=function(r,i){var s=this.current708Packet.data,a=s[r],c=a&7;i.setCurrentWindow(c);var h=i.currentWindow;return a=s[++r],h.visible=(a&32)>>5,h.rowLock=(a&16)>>4,h.columnLock=(a&8)>>3,h.priority=a&7,a=s[++r],h.relativePositioning=(a&128)>>7,h.anchorVertical=a&127,a=s[++r],h.anchorHorizontal=a,a=s[++r],h.anchorPoint=(a&240)>>4,h.rowCount=a&15,a=s[++r],h.columnCount=a&63,a=s[++r],h.windowStyle=(a&56)>>3,h.penStyle=a&7,h.virtualRowCount=h.rowCount+1,r};st.prototype.setWindowAttributes=function(r,i){var s=this.current708Packet.data,a=s[r],c=i.currentWindow.winAttr;return a=s[++r],c.fillOpacity=(a&192)>>6,c.fillRed=(a&48)>>4,c.fillGreen=(a&12)>>2,c.fillBlue=a&3,a=s[++r],c.borderType=(a&192)>>6,c.borderRed=(a&48)>>4,c.borderGreen=(a&12)>>2,c.borderBlue=a&3,a=s[++r],c.borderType+=(a&128)>>5,c.wordWrap=(a&64)>>6,c.printDirection=(a&48)>>4,c.scrollDirection=(a&12)>>2,c.justify=a&3,a=s[++r],c.effectSpeed=(a&240)>>4,c.effectDirection=(a&12)>>2,c.displayEffect=a&3,r};st.prototype.flushDisplayed=function(r,i){for(var s=[],a=0;a<8;a++)i.windows[a].visible&&!i.windows[a].isEmpty()&&s.push(i.windows[a].getText());i.endPts=r,i.text=s.join(`

`),this.pushCaption(i),i.startPts=r};st.prototype.pushCaption=function(r){r.text!==""&&(this.trigger("data",{startPts:r.startPts,endPts:r.endPts,text:r.text,stream:"cc708_"+r.serviceNum}),r.text="",r.startPts=r.endPts)};st.prototype.displayWindows=function(r,i){var s=this.current708Packet.data,a=s[++r],c=this.getPts(r);this.flushDisplayed(c,i);for(var h=0;h<8;h++)a&1<<h&&(i.windows[h].visible=1);return r};st.prototype.hideWindows=function(r,i){var s=this.current708Packet.data,a=s[++r],c=this.getPts(r);this.flushDisplayed(c,i);for(var h=0;h<8;h++)a&1<<h&&(i.windows[h].visible=0);return r};st.prototype.toggleWindows=function(r,i){var s=this.current708Packet.data,a=s[++r],c=this.getPts(r);this.flushDisplayed(c,i);for(var h=0;h<8;h++)a&1<<h&&(i.windows[h].visible^=1);return r};st.prototype.clearWindows=function(r,i){var s=this.current708Packet.data,a=s[++r],c=this.getPts(r);this.flushDisplayed(c,i);for(var h=0;h<8;h++)a&1<<h&&i.windows[h].clearText();return r};st.prototype.deleteWindows=function(r,i){var s=this.current708Packet.data,a=s[++r],c=this.getPts(r);this.flushDisplayed(c,i);for(var h=0;h<8;h++)a&1<<h&&i.windows[h].reset();return r};st.prototype.setPenAttributes=function(r,i){var s=this.current708Packet.data,a=s[r],c=i.currentWindow.penAttr;return a=s[++r],c.textTag=(a&240)>>4,c.offset=(a&12)>>2,c.penSize=a&3,a=s[++r],c.italics=(a&128)>>7,c.underline=(a&64)>>6,c.edgeType=(a&56)>>3,c.fontStyle=a&7,r};st.prototype.setPenColor=function(r,i){var s=this.current708Packet.data,a=s[r],c=i.currentWindow.penColor;return a=s[++r],c.fgOpacity=(a&192)>>6,c.fgRed=(a&48)>>4,c.fgGreen=(a&12)>>2,c.fgBlue=a&3,a=s[++r],c.bgOpacity=(a&192)>>6,c.bgRed=(a&48)>>4,c.bgGreen=(a&12)>>2,c.bgBlue=a&3,a=s[++r],c.edgeRed=(a&48)>>4,c.edgeGreen=(a&12)>>2,c.edgeBlue=a&3,r};st.prototype.setPenLocation=function(r,i){var s=this.current708Packet.data,a=s[r],c=i.currentWindow.penLoc;return i.currentWindow.pendingNewLine=!0,a=s[++r],c.row=a&15,a=s[++r],c.column=a&63,r};st.prototype.reset=function(r,i){var s=this.getPts(r);return this.flushDisplayed(s,i),this.initService(i.serviceNum,r)};var G6={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Kd=function(i){return i===null?"":(i=G6[i]||i,String.fromCharCode(i))},vh=14,H6=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Go=function(){for(var i=[],s=vh+1;s--;)i.push("");return i},mt=function r(i,s){r.prototype.init.call(this),this.field_=i||0,this.dataChannel_=s||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(a){var c,h,m,g,S;if(c=a.ccData&32639,c===this.lastControlCode_){this.lastControlCode_=null;return}if((c&61440)===4096?this.lastControlCode_=c:c!==this.PADDING_&&(this.lastControlCode_=null),m=c>>>8,g=c&255,c!==this.PADDING_)if(c===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(c===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(a.pts),this.flushDisplayed(a.pts),h=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=h,this.startPts_=a.pts;else if(c===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(a.pts);else if(c===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(a.pts);else if(c===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(a.pts);else if(c===this.CARRIAGE_RETURN_)this.clearFormatting(a.pts),this.flushDisplayed(a.pts),this.shiftRowsUp_(),this.startPts_=a.pts;else if(c===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(c===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(a.pts),this.displayed_=Go();else if(c===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Go();else if(c===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(a.pts),this.displayed_=Go()),this.mode_="paintOn",this.startPts_=a.pts;else if(this.isSpecialCharacter(m,g))m=(m&3)<<8,S=Kd(m|g),this[this.mode_](a.pts,S),this.column_++;else if(this.isExtCharacter(m,g))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),m=(m&3)<<8,S=Kd(m|g),this[this.mode_](a.pts,S),this.column_++;else if(this.isMidRowCode(m,g))this.clearFormatting(a.pts),this[this.mode_](a.pts," "),this.column_++,(g&14)===14&&this.addFormatting(a.pts,["i"]),(g&1)===1&&this.addFormatting(a.pts,["u"]);else if(this.isOffsetControlCode(m,g))this.column_+=g&3;else if(this.isPAC(m,g)){var w=H6.indexOf(c&7968);this.mode_==="rollUp"&&(w-this.rollUpRows_+1<0&&(w=this.rollUpRows_-1),this.setRollUp(a.pts,w)),w!==this.row_&&(this.clearFormatting(a.pts),this.row_=w),g&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(a.pts,["u"]),(c&16)===16&&(this.column_=((c&14)>>1)*4),this.isColorPAC(g)&&(g&14)===14&&this.addFormatting(a.pts,["i"])}else this.isNormalChar(m)&&(g===0&&(g=null),S=Kd(m),S+=Kd(g),this[this.mode_](a.pts,S),this.column_+=S.length)}};mt.prototype=new Ky;mt.prototype.flushDisplayed=function(r){var i=this.displayed_.map(function(s,a){try{return s.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+a+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");i.length&&this.trigger("data",{startPts:this.startPts_,endPts:r,text:i,stream:this.name_})};mt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Go(),this.nonDisplayed_=Go(),this.lastControlCode_=null,this.column_=0,this.row_=vh,this.rollUpRows_=2,this.formatting_=[]};mt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};mt.prototype.isSpecialCharacter=function(r,i){return r===this.EXT_&&i>=48&&i<=63};mt.prototype.isExtCharacter=function(r,i){return(r===this.EXT_+1||r===this.EXT_+2)&&i>=32&&i<=63};mt.prototype.isMidRowCode=function(r,i){return r===this.EXT_&&i>=32&&i<=47};mt.prototype.isOffsetControlCode=function(r,i){return r===this.OFFSET_&&i>=33&&i<=35};mt.prototype.isPAC=function(r,i){return r>=this.BASE_&&r<this.BASE_+8&&i>=64&&i<=127};mt.prototype.isColorPAC=function(r){return r>=64&&r<=79||r>=96&&r<=127};mt.prototype.isNormalChar=function(r){return r>=32&&r<=127};mt.prototype.setRollUp=function(r,i){if(this.mode_!=="rollUp"&&(this.row_=vh,this.mode_="rollUp",this.flushDisplayed(r),this.nonDisplayed_=Go(),this.displayed_=Go()),i!==void 0&&i!==this.row_)for(var s=0;s<this.rollUpRows_;s++)this.displayed_[i-s]=this.displayed_[this.row_-s],this.displayed_[this.row_-s]="";i===void 0&&(i=this.row_),this.topRow_=i-this.rollUpRows_+1};mt.prototype.addFormatting=function(r,i){this.formatting_=this.formatting_.concat(i);var s=i.reduce(function(a,c){return a+"<"+c+">"},"");this[this.mode_](r,s)};mt.prototype.clearFormatting=function(r){if(this.formatting_.length){var i=this.formatting_.reverse().reduce(function(s,a){return s+"</"+a+">"},"");this.formatting_=[],this[this.mode_](r,i)}};mt.prototype.popOn=function(r,i){var s=this.nonDisplayed_[this.row_];s+=i,this.nonDisplayed_[this.row_]=s};mt.prototype.rollUp=function(r,i){var s=this.displayed_[this.row_];s+=i,this.displayed_[this.row_]=s};mt.prototype.shiftRowsUp_=function(){var r;for(r=0;r<this.topRow_;r++)this.displayed_[r]="";for(r=this.row_+1;r<vh+1;r++)this.displayed_[r]="";for(r=this.topRow_;r<this.row_;r++)this.displayed_[r]=this.displayed_[r+1];this.displayed_[this.row_]=""};mt.prototype.paintOn=function(r,i){var s=this.displayed_[this.row_];s+=i,this.displayed_[this.row_]=s};var s_={CaptionStream:jn,Cea608Stream:mt,Cea708Stream:st},yh={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},K6=Fn,W6=8589934592,$6=4294967296,BA="shared",bv=function(i,s){var a=1;for(i>s&&(a=-1);Math.abs(s-i)>$6;)i+=a*W6;return i},u_=function r(i){var s,a;r.prototype.init.call(this),this.type_=i||BA,this.push=function(c){this.type_!==BA&&c.type!==this.type_||(a===void 0&&(a=c.dts),c.dts=bv(c.dts,a),c.pts=bv(c.pts,a),s=c.dts,this.trigger("data",c))},this.flush=function(){a=s,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){a=void 0,s=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};u_.prototype=new K6;var a_={TimestampRolloverStream:u_,handleRollover:bv},q6=Fn,X6=yh,Or=qC,Bf;Bf=function(i){var s={descriptor:i&&i.descriptor},a=0,c=[],h=0,m;if(Bf.prototype.init.call(this),this.dispatchType=X6.METADATA_STREAM_TYPE.toString(16),s.descriptor)for(m=0;m<s.descriptor.length;m++)this.dispatchType+=("00"+s.descriptor[m].toString(16)).slice(-2);this.push=function(g){var S,w,A,_,k,U;if(g.type==="timed-metadata"){if(g.dataAlignmentIndicator&&(h=0,c.length=0),c.length===0&&(g.data.length<10||g.data[0]!=="I".charCodeAt(0)||g.data[1]!=="D".charCodeAt(0)||g.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(c.push(g),h+=g.data.byteLength,c.length===1&&(a=Or.parseSyncSafeInteger(g.data.subarray(6,10)),a+=10),!(h<a)){for(S={data:new Uint8Array(a),frames:[],pts:c[0].pts,dts:c[0].dts},k=0;k<a;)S.data.set(c[0].data.subarray(0,a-k),k),k+=c[0].data.byteLength,h-=c[0].data.byteLength,c.shift();w=10,S.data[5]&64&&(w+=4,w+=Or.parseSyncSafeInteger(S.data.subarray(10,14)),a-=Or.parseSyncSafeInteger(S.data.subarray(16,20)));do{if(A=Or.parseSyncSafeInteger(S.data.subarray(w+4,w+8)),A<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(U=String.fromCharCode(S.data[w],S.data[w+1],S.data[w+2],S.data[w+3]),_={id:U,data:S.data.subarray(w+10,w+A+10)},_.key=_.id,Or.frameParsers[_.id]?Or.frameParsers[_.id](_):_.id[0]==="T"?Or.frameParsers["T*"](_):_.id[0]==="W"&&Or.frameParsers["W*"](_),_.owner==="com.apple.streaming.transportStreamTimestamp"){var x=_.data,b=(x[3]&1)<<30|x[4]<<22|x[5]<<14|x[6]<<6|x[7]>>>2;b*=4,b+=x[7]&3,_.timeStamp=b,S.pts===void 0&&S.dts===void 0&&(S.pts=_.timeStamp,S.dts=_.timeStamp),this.trigger("timestamp",_)}S.frames.push(_),w+=10,w+=A}while(w<a);this.trigger("data",S)}}}};Bf.prototype=new q6;var Y6=Bf,Wy=Fn,Tm=s_,yi=yh,Q6=a_.TimestampRolloverStream,zf,Al,Vf,Fs=188,Em=71;zf=function(){var i=new Uint8Array(Fs),s=0;zf.prototype.init.call(this),this.push=function(a){var c=0,h=Fs,m;for(s?(m=new Uint8Array(a.byteLength+s),m.set(i.subarray(0,s)),m.set(a,s),s=0):m=a;h<m.byteLength;){if(m[c]===Em&&m[h]===Em){this.trigger("data",m.subarray(c,h)),c+=Fs,h+=Fs;continue}c++,h++}c<m.byteLength&&(i.set(m.subarray(c),0),s=m.byteLength-c)},this.flush=function(){s===Fs&&i[0]===Em&&(this.trigger("data",i),s=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){s=0,this.trigger("reset")}};zf.prototype=new Wy;Al=function(){var i,s,a,c;Al.prototype.init.call(this),c=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,i=function(m,g){var S=0;g.payloadUnitStartIndicator&&(S+=m[S]+1),g.type==="pat"?s(m.subarray(S),g):a(m.subarray(S),g)},s=function(m,g){g.section_number=m[7],g.last_section_number=m[8],c.pmtPid=(m[10]&31)<<8|m[11],g.pmtPid=c.pmtPid},a=function(m,g){var S,w,A,_;if(m[5]&1){for(c.programMapTable={video:null,audio:null,"timed-metadata":{}},S=(m[1]&15)<<8|m[2],w=3+S-4,A=(m[10]&15)<<8|m[11],_=12+A;_<w;){var k=m[_],U=(m[_+1]&31)<<8|m[_+2];k===yi.H264_STREAM_TYPE&&c.programMapTable.video===null?c.programMapTable.video=U:k===yi.ADTS_STREAM_TYPE&&c.programMapTable.audio===null?c.programMapTable.audio=U:k===yi.METADATA_STREAM_TYPE&&(c.programMapTable["timed-metadata"][U]=k),_+=((m[_+3]&15)<<8|m[_+4])+5}g.programMapTable=c.programMapTable}},this.push=function(h){var m={},g=4;if(m.payloadUnitStartIndicator=!!(h[1]&64),m.pid=h[1]&31,m.pid<<=8,m.pid|=h[2],(h[3]&48)>>>4>1&&(g+=h[g]+1),m.pid===0)m.type="pat",i(h.subarray(g),m),this.trigger("data",m);else if(m.pid===this.pmtPid)for(m.type="pmt",i(h.subarray(g),m),this.trigger("data",m);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([h,g,m]):this.processPes_(h,g,m)},this.processPes_=function(h,m,g){g.pid===this.programMapTable.video?g.streamType=yi.H264_STREAM_TYPE:g.pid===this.programMapTable.audio?g.streamType=yi.ADTS_STREAM_TYPE:g.streamType=this.programMapTable["timed-metadata"][g.pid],g.type="pes",g.data=h.subarray(m),this.trigger("data",g)}};Al.prototype=new Wy;Al.STREAM_TYPES={h264:27,adts:15};Vf=function(){var i=this,s=!1,a={data:[],size:0},c={data:[],size:0},h={data:[],size:0},m,g=function(A,_){var k,U=A[0]<<16|A[1]<<8|A[2];_.data=new Uint8Array,U===1&&(_.packetLength=6+(A[4]<<8|A[5]),_.dataAlignmentIndicator=(A[6]&4)!==0,k=A[7],k&192&&(_.pts=(A[9]&14)<<27|(A[10]&255)<<20|(A[11]&254)<<12|(A[12]&255)<<5|(A[13]&254)>>>3,_.pts*=4,_.pts+=(A[13]&6)>>>1,_.dts=_.pts,k&64&&(_.dts=(A[14]&14)<<27|(A[15]&255)<<20|(A[16]&254)<<12|(A[17]&255)<<5|(A[18]&254)>>>3,_.dts*=4,_.dts+=(A[18]&6)>>>1)),_.data=A.subarray(9+A[8]))},S=function(A,_,k){var U=new Uint8Array(A.size),x={type:_},b=0,$=0,D=!1,R;if(!(!A.data.length||A.size<9)){for(x.trackId=A.data[0].pid,b=0;b<A.data.length;b++)R=A.data[b],U.set(R.data,$),$+=R.data.byteLength;g(U,x),D=_==="video"||x.packetLength<=A.size,(k||D)&&(A.size=0,A.data.length=0),D&&i.trigger("data",x)}};Vf.prototype.init.call(this),this.push=function(w){({pat:function(){},pes:function(){var _,k;switch(w.streamType){case yi.H264_STREAM_TYPE:_=a,k="video";break;case yi.ADTS_STREAM_TYPE:_=c,k="audio";break;case yi.METADATA_STREAM_TYPE:_=h,k="timed-metadata";break;default:return}w.payloadUnitStartIndicator&&S(_,k,!0),_.data.push(w),_.size+=w.data.byteLength},pmt:function(){var _={type:"metadata",tracks:[]};m=w.programMapTable,m.video!==null&&_.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+m.video,codec:"avc",type:"video"}),m.audio!==null&&_.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+m.audio,codec:"adts",type:"audio"}),s=!0,i.trigger("data",_)}})[w.type]()},this.reset=function(){a.size=0,a.data.length=0,c.size=0,c.data.length=0,this.trigger("reset")},this.flushStreams_=function(){S(a,"video"),S(c,"audio"),S(h,"timed-metadata")},this.flush=function(){if(!s&&m){var w={type:"metadata",tracks:[]};m.video!==null&&w.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+m.video,codec:"avc",type:"video"}),m.audio!==null&&w.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+m.audio,codec:"adts",type:"audio"}),i.trigger("data",w)}s=!1,this.flushStreams_(),this.trigger("done")}};Vf.prototype=new Wy;var l_={PAT_PID:0,MP2T_PACKET_LENGTH:Fs,TransportPacketStream:zf,TransportParseStream:Al,ElementaryStream:Vf,TimestampRolloverStream:Q6,CaptionStream:Tm.CaptionStream,Cea608Stream:Tm.Cea608Stream,Cea708Stream:Tm.Cea708Stream,MetadataStream:Y6};for(var wm in yi)yi.hasOwnProperty(wm)&&(l_[wm]=yi[wm]);var xh=l_,J6=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],c_=function(i,s){var a=i[s+6]<<21|i[s+7]<<14|i[s+8]<<7|i[s+9],c=i[s+5],h=(c&16)>>4;return a=a>=0?a:0,h?a+20:a+10},Z6=function r(i,s){return i.length-s<10||i[s]!=="I".charCodeAt(0)||i[s+1]!=="D".charCodeAt(0)||i[s+2]!=="3".charCodeAt(0)?s:(s+=c_(i,s),r(i,s))},e5=function(i){var s=Z6(i,0);return i.length>=s+2&&(i[s]&255)===255&&(i[s+1]&240)===240&&(i[s+1]&22)===16},zA=function(i){return i[0]<<21|i[1]<<14|i[2]<<7|i[3]},t5=function(i,s,a){var c,h="";for(c=s;c<a;c++)h+="%"+("00"+i[c].toString(16)).slice(-2);return h},n5=function(i,s,a){return unescape(t5(i,s,a))},i5=function(i,s){var a=(i[s+5]&224)>>5,c=i[s+4]<<3,h=i[s+3]&3<<11;return h|c|a},r5=function(i,s){return i[s]==="I".charCodeAt(0)&&i[s+1]==="D".charCodeAt(0)&&i[s+2]==="3".charCodeAt(0)?"timed-metadata":i[s]&!0&&(i[s+1]&240)===240?"audio":null},o5=function(i){for(var s=0;s+5<i.length;){if(i[s]!==255||(i[s+1]&246)!==240){s++;continue}return J6[(i[s+2]&60)>>>2]}return null},s5=function(i){var s,a,c,h;s=10,i[5]&64&&(s+=4,s+=zA(i.subarray(10,14)));do{if(a=zA(i.subarray(s+4,s+8)),a<1)return null;if(h=String.fromCharCode(i[s],i[s+1],i[s+2],i[s+3]),h==="PRIV"){c=i.subarray(s+10,s+a+10);for(var m=0;m<c.byteLength;m++)if(c[m]===0){var g=n5(c,0,m);if(g==="com.apple.streaming.transportStreamTimestamp"){var S=c.subarray(m+1),w=(S[3]&1)<<30|S[4]<<22|S[5]<<14|S[6]<<6|S[7]>>>2;return w*=4,w+=S[7]&3,w}break}}s+=10,s+=a}while(s<i.byteLength);return null},Sh={isLikelyAacData:e5,parseId3TagSize:c_,parseAdtsSize:i5,parseType:r5,parseSampleRate:o5,parseAacTimestamp:s5},u5=Fn,VA=Sh,Gf;Gf=function(){var i=new Uint8Array,s=0;Gf.prototype.init.call(this),this.setTimestamp=function(a){s=a},this.push=function(a){var c=0,h=0,m,g,S,w;for(i.length?(w=i.length,i=new Uint8Array(a.byteLength+w),i.set(i.subarray(0,w)),i.set(a,w)):i=a;i.length-h>=3;){if(i[h]==="I".charCodeAt(0)&&i[h+1]==="D".charCodeAt(0)&&i[h+2]==="3".charCodeAt(0)){if(i.length-h<10||(c=VA.parseId3TagSize(i,h),h+c>i.length))break;g={type:"timed-metadata",data:i.subarray(h,h+c)},this.trigger("data",g),h+=c;continue}else if((i[h]&255)===255&&(i[h+1]&240)===240){if(i.length-h<7||(c=VA.parseAdtsSize(i,h),h+c>i.length))break;S={type:"audio",data:i.subarray(h,h+c),pts:s,dts:s},this.trigger("data",S),h+=c;continue}h++}m=i.length-h,m>0?i=i.subarray(h):i=new Uint8Array},this.reset=function(){i=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){i=new Uint8Array,this.trigger("endedtimeline")}};Gf.prototype=new u5;var d_=Gf,a5=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],f_=a5,l5=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],h_=l5,Th=Fn,Il=hh,Fa=n_,Wd=i_,xi=gh,sr=xh,df=ro,GA=fh,c5=Fy.H264Stream,d5=d_,f5=Sh.isLikelyAacData,h5=ro.ONE_SECOND_IN_TS,$y=f_,qy=h_,Cl,du,Hf,Xo,p5=function(i,s){s.stream=i,this.trigger("log",s)},HA=function(i,s){for(var a=Object.keys(s),c=0;c<a.length;c++){var h=a[c];h==="headOfPipeline"||!s[h].on||s[h].on("log",p5.bind(i,h))}},KA=function(i,s){var a;if(i.length!==s.length)return!1;for(a=0;a<i.length;a++)if(i[a]!==s[a])return!1;return!0},Xy=function(i,s,a,c,h,m){var g=a-s,S=c-s,w=h-a;return{start:{dts:i,pts:i+g},end:{dts:i+S,pts:i+w},prependedContentDuration:m,baseMediaDecodeTime:i}};du=function(i,s){var a=[],c,h=0,m=0,g=1/0;s=s||{},c=s.firstSequenceNumber||0,du.prototype.init.call(this),this.push=function(S){xi.collectDtsInfo(i,S),i&&$y.forEach(function(w){i[w]=S[w]}),a.push(S)},this.setEarliestDts=function(S){h=S},this.setVideoBaseMediaDecodeTime=function(S){g=S},this.setAudioAppendStart=function(S){m=S},this.flush=function(){var S,w,A,_,k,U,x;if(a.length===0){this.trigger("done","AudioSegmentStream");return}S=Wd.trimAdtsFramesByEarliestDts(a,i,h),i.baseMediaDecodeTime=xi.calculateTrackBaseMediaDecodeTime(i,s.keepOriginalTimestamps),x=Wd.prefixWithSilence(i,S,m,g),i.samples=Wd.generateSampleTable(S),A=Il.mdat(Wd.concatenateFrameData(S)),a=[],w=Il.moof(c,[i]),_=new Uint8Array(w.byteLength+A.byteLength),c++,_.set(w),_.set(A,w.byteLength),xi.clearDtsInfo(i),k=Math.ceil(h5*1024/i.samplerate),S.length&&(U=S.length*k,this.trigger("segmentTimingInfo",Xy(df.audioTsToVideoTs(i.baseMediaDecodeTime,i.samplerate),S[0].dts,S[0].pts,S[0].dts+U,S[0].pts+U,x||0)),this.trigger("timingInfo",{start:S[0].pts,end:S[0].pts+U})),this.trigger("data",{track:i,boxes:_}),this.trigger("done","AudioSegmentStream")},this.reset=function(){xi.clearDtsInfo(i),a=[],this.trigger("reset")}};du.prototype=new Th;Cl=function(i,s){var a,c=[],h=[],m,g;s=s||{},a=s.firstSequenceNumber||0,Cl.prototype.init.call(this),delete i.minPTS,this.gopCache_=[],this.push=function(S){xi.collectDtsInfo(i,S),S.nalUnitType==="seq_parameter_set_rbsp"&&!m&&(m=S.config,i.sps=[S.data],qy.forEach(function(w){i[w]=m[w]},this)),S.nalUnitType==="pic_parameter_set_rbsp"&&!g&&(g=S.data,i.pps=[S.data]),c.push(S)},this.flush=function(){for(var S,w,A,_,k,U,x=0,b,$;c.length&&c[0].nalUnitType!=="access_unit_delimiter_rbsp";)c.shift();if(c.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(S=Fa.groupNalsIntoFrames(c),A=Fa.groupFramesIntoGops(S),A[0][0].keyFrame||(w=this.getGopForFusion_(c[0],i),w?(x=w.duration,A.unshift(w),A.byteLength+=w.byteLength,A.nalCount+=w.nalCount,A.pts=w.pts,A.dts=w.dts,A.duration+=w.duration):A=Fa.extendFirstKeyFrame(A)),h.length){var D;if(s.alignGopsAtEnd?D=this.alignGopsAtEnd_(A):D=this.alignGopsAtStart_(A),!D){this.gopCache_.unshift({gop:A.pop(),pps:i.pps,sps:i.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}xi.clearDtsInfo(i),A=D}xi.collectDtsInfo(i,A),i.samples=Fa.generateSampleTable(A),k=Il.mdat(Fa.concatenateNalData(A)),i.baseMediaDecodeTime=xi.calculateTrackBaseMediaDecodeTime(i,s.keepOriginalTimestamps),this.trigger("processedGopsInfo",A.map(function(R){return{pts:R.pts,dts:R.dts,byteLength:R.byteLength}})),b=A[0],$=A[A.length-1],this.trigger("segmentTimingInfo",Xy(i.baseMediaDecodeTime,b.dts,b.pts,$.dts+$.duration,$.pts+$.duration,x)),this.trigger("timingInfo",{start:A[0].pts,end:A[A.length-1].pts+A[A.length-1].duration}),this.gopCache_.unshift({gop:A.pop(),pps:i.pps,sps:i.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.trigger("baseMediaDecodeTime",i.baseMediaDecodeTime),this.trigger("timelineStartInfo",i.timelineStartInfo),_=Il.moof(a,[i]),U=new Uint8Array(_.byteLength+k.byteLength),a++,U.set(_),U.set(k,_.byteLength),this.trigger("data",{track:i,boxes:U}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),c=[],this.gopCache_.length=0,h.length=0,this.trigger("reset")},this.resetStream_=function(){xi.clearDtsInfo(i),m=void 0,g=void 0},this.getGopForFusion_=function(S){var w=45e3,A=1e4,_=1/0,k,U,x,b,$;for($=0;$<this.gopCache_.length;$++)b=this.gopCache_[$],x=b.gop,!(!(i.pps&&KA(i.pps[0],b.pps[0]))||!(i.sps&&KA(i.sps[0],b.sps[0])))&&(x.dts<i.timelineStartInfo.dts||(k=S.dts-x.dts-x.duration,k>=-A&&k<=w&&(!U||_>k)&&(U=b,_=k)));return U?U.gop:null},this.alignGopsAtStart_=function(S){var w,A,_,k,U,x,b,$;for(U=S.byteLength,x=S.nalCount,b=S.duration,w=A=0;w<h.length&&A<S.length&&(_=h[w],k=S[A],_.pts!==k.pts);){if(k.pts>_.pts){w++;continue}A++,U-=k.byteLength,x-=k.nalCount,b-=k.duration}return A===0?S:A===S.length?null:($=S.slice(A),$.byteLength=U,$.duration=b,$.nalCount=x,$.pts=$[0].pts,$.dts=$[0].dts,$)},this.alignGopsAtEnd_=function(S){var w,A,_,k,U,x;for(w=h.length-1,A=S.length-1,U=null,x=!1;w>=0&&A>=0;){if(_=h[w],k=S[A],_.pts===k.pts){x=!0;break}if(_.pts>k.pts){w--;continue}w===h.length-1&&(U=A),A--}if(!x&&U===null)return null;var b;if(x?b=A:b=U,b===0)return S;var $=S.slice(b),D=$.reduce(function(R,B){return R.byteLength+=B.byteLength,R.duration+=B.duration,R.nalCount+=B.nalCount,R},{byteLength:0,duration:0,nalCount:0});return $.byteLength=D.byteLength,$.duration=D.duration,$.nalCount=D.nalCount,$.pts=$[0].pts,$.dts=$[0].dts,$},this.alignGopsWith=function(S){h=S}};Cl.prototype=new Th;Xo=function(i,s){this.numberOfTracks=0,this.metadataStream=s,i=i||{},typeof i.remux<"u"?this.remuxTracks=!!i.remux:this.remuxTracks=!0,typeof i.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=i.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Xo.prototype.init.call(this),this.push=function(a){if(a.text)return this.pendingCaptions.push(a);if(a.frames)return this.pendingMetadata.push(a);this.pendingTracks.push(a.track),this.pendingBytes+=a.boxes.byteLength,a.track.type==="video"&&(this.videoTrack=a.track,this.pendingBoxes.push(a.boxes)),a.track.type==="audio"&&(this.audioTrack=a.track,this.pendingBoxes.unshift(a.boxes))}};Xo.prototype=new Th;Xo.prototype.flush=function(r){var i=0,s={captions:[],captionStreams:{},metadata:[],info:{}},a,c,h,m=0,g;if(this.pendingTracks.length<this.numberOfTracks){if(r!=="VideoSegmentStream"&&r!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(m=this.videoTrack.timelineStartInfo.pts,qy.forEach(function(S){s.info[S]=this.videoTrack[S]},this)):this.audioTrack&&(m=this.audioTrack.timelineStartInfo.pts,$y.forEach(function(S){s.info[S]=this.audioTrack[S]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,h=Il.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(h.byteLength),s.initSegment.set(h),s.data=new Uint8Array(this.pendingBytes),g=0;g<this.pendingBoxes.length;g++)s.data.set(this.pendingBoxes[g],i),i+=this.pendingBoxes[g].byteLength;for(g=0;g<this.pendingCaptions.length;g++)a=this.pendingCaptions[g],a.startTime=df.metadataTsToSeconds(a.startPts,m,this.keepOriginalTimestamps),a.endTime=df.metadataTsToSeconds(a.endPts,m,this.keepOriginalTimestamps),s.captionStreams[a.stream]=!0,s.captions.push(a);for(g=0;g<this.pendingMetadata.length;g++)c=this.pendingMetadata[g],c.cueTime=df.metadataTsToSeconds(c.pts,m,this.keepOriginalTimestamps),s.metadata.push(c);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),g=0;g<s.captions.length;g++)a=s.captions[g],this.trigger("caption",a);for(g=0;g<s.metadata.length;g++)c=s.metadata[g],this.trigger("id3Frame",c)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)};Xo.prototype.setRemux=function(r){this.remuxTracks=r};Hf=function(i){var s=this,a=!0,c,h;Hf.prototype.init.call(this),i=i||{},this.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var m={};this.transmuxPipeline_=m,m.type="aac",m.metadataStream=new sr.MetadataStream,m.aacStream=new d5,m.audioTimestampRolloverStream=new sr.TimestampRolloverStream("audio"),m.timedMetadataTimestampRolloverStream=new sr.TimestampRolloverStream("timed-metadata"),m.adtsStream=new GA,m.coalesceStream=new Xo(i,m.metadataStream),m.headOfPipeline=m.aacStream,m.aacStream.pipe(m.audioTimestampRolloverStream).pipe(m.adtsStream),m.aacStream.pipe(m.timedMetadataTimestampRolloverStream).pipe(m.metadataStream).pipe(m.coalesceStream),m.metadataStream.on("timestamp",function(g){m.aacStream.setTimestamp(g.timeStamp)}),m.aacStream.on("data",function(g){g.type!=="timed-metadata"&&g.type!=="audio"||m.audioSegmentStream||(h=h||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},m.coalesceStream.numberOfTracks++,m.audioSegmentStream=new du(h,i),m.audioSegmentStream.on("log",s.getLogTrigger_("audioSegmentStream")),m.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),m.adtsStream.pipe(m.audioSegmentStream).pipe(m.coalesceStream),s.trigger("trackinfo",{hasAudio:!!h,hasVideo:!!c}))}),m.coalesceStream.on("data",this.trigger.bind(this,"data")),m.coalesceStream.on("done",this.trigger.bind(this,"done")),HA(this,m)},this.setupTsPipeline=function(){var m={};this.transmuxPipeline_=m,m.type="ts",m.metadataStream=new sr.MetadataStream,m.packetStream=new sr.TransportPacketStream,m.parseStream=new sr.TransportParseStream,m.elementaryStream=new sr.ElementaryStream,m.timestampRolloverStream=new sr.TimestampRolloverStream,m.adtsStream=new GA,m.h264Stream=new c5,m.captionStream=new sr.CaptionStream(i),m.coalesceStream=new Xo(i,m.metadataStream),m.headOfPipeline=m.packetStream,m.packetStream.pipe(m.parseStream).pipe(m.elementaryStream).pipe(m.timestampRolloverStream),m.timestampRolloverStream.pipe(m.h264Stream),m.timestampRolloverStream.pipe(m.adtsStream),m.timestampRolloverStream.pipe(m.metadataStream).pipe(m.coalesceStream),m.h264Stream.pipe(m.captionStream).pipe(m.coalesceStream),m.elementaryStream.on("data",function(g){var S;if(g.type==="metadata"){for(S=g.tracks.length;S--;)!c&&g.tracks[S].type==="video"?(c=g.tracks[S],c.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):!h&&g.tracks[S].type==="audio"&&(h=g.tracks[S],h.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime);c&&!m.videoSegmentStream&&(m.coalesceStream.numberOfTracks++,m.videoSegmentStream=new Cl(c,i),m.videoSegmentStream.on("log",s.getLogTrigger_("videoSegmentStream")),m.videoSegmentStream.on("timelineStartInfo",function(w){h&&!i.keepOriginalTimestamps&&(h.timelineStartInfo=w,m.audioSegmentStream.setEarliestDts(w.dts-s.baseMediaDecodeTime))}),m.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),m.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),m.videoSegmentStream.on("baseMediaDecodeTime",function(w){h&&m.audioSegmentStream.setVideoBaseMediaDecodeTime(w)}),m.videoSegmentStream.on("timingInfo",s.trigger.bind(s,"videoTimingInfo")),m.h264Stream.pipe(m.videoSegmentStream).pipe(m.coalesceStream)),h&&!m.audioSegmentStream&&(m.coalesceStream.numberOfTracks++,m.audioSegmentStream=new du(h,i),m.audioSegmentStream.on("log",s.getLogTrigger_("audioSegmentStream")),m.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),m.audioSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"audioSegmentTimingInfo")),m.adtsStream.pipe(m.audioSegmentStream).pipe(m.coalesceStream)),s.trigger("trackinfo",{hasAudio:!!h,hasVideo:!!c})}}),m.coalesceStream.on("data",this.trigger.bind(this,"data")),m.coalesceStream.on("id3Frame",function(g){g.dispatchType=m.metadataStream.dispatchType,s.trigger("id3Frame",g)}),m.coalesceStream.on("caption",this.trigger.bind(this,"caption")),m.coalesceStream.on("done",this.trigger.bind(this,"done")),HA(this,m)},this.setBaseMediaDecodeTime=function(m){var g=this.transmuxPipeline_;i.keepOriginalTimestamps||(this.baseMediaDecodeTime=m),h&&(h.timelineStartInfo.dts=void 0,h.timelineStartInfo.pts=void 0,xi.clearDtsInfo(h),g.audioTimestampRolloverStream&&g.audioTimestampRolloverStream.discontinuity()),c&&(g.videoSegmentStream&&(g.videoSegmentStream.gopCache_=[]),c.timelineStartInfo.dts=void 0,c.timelineStartInfo.pts=void 0,xi.clearDtsInfo(c),g.captionStream.reset()),g.timestampRolloverStream&&g.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(m){h&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(m)},this.setRemux=function(m){var g=this.transmuxPipeline_;i.remux=m,g&&g.coalesceStream&&g.coalesceStream.setRemux(m)},this.alignGopsWith=function(m){c&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(m)},this.getLogTrigger_=function(m){var g=this;return function(S){S.stream=m,g.trigger("log",S)}},this.push=function(m){if(a){var g=f5(m);g&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!g&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),a=!1}this.transmuxPipeline_.headOfPipeline.push(m)},this.flush=function(){a=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}};Hf.prototype=new Th;var Am={Transmuxer:Hf,VideoSegmentStream:Cl,AudioSegmentStream:du,AUDIO_PROPERTIES:$y,VIDEO_PROPERTIES:qy,generateSegmentTimingInfo:Xy},g5=o_.discardEmulationPreventionBytes,m5=s_.CaptionStream,ja=By,v5=Gy,y5=Vy,x5=zy,WA=WC,S5=function(i,s){for(var a=i,c=0;c<s.length;c++){var h=s[c];if(a<h.size)return h;a-=h.size}return null},T5=function(i,s,a){var c=new DataView(i.buffer,i.byteOffset,i.byteLength),h={logs:[],seiNals:[]},m,g,S,w;for(g=0;g+4<i.length;g+=S)if(S=c.getUint32(g),g+=4,!(S<=0))switch(i[g]&31){case 6:var A=i.subarray(g+1,g+1+S),_=S5(g,s);if(m={nalUnitType:"sei_rbsp",size:S,data:A,escapedRBSP:g5(A),trackId:a},_)m.pts=_.pts,m.dts=_.dts,w=_;else if(w)m.pts=w.pts,m.dts=w.dts;else{h.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+g+" for trackId "+a+". See mux.js#223."});break}h.seiNals.push(m);break}return h},E5=function(i,s,a){var c=s,h=a.defaultSampleDuration||0,m=a.defaultSampleSize||0,g=a.trackId,S=[];return i.forEach(function(w){var A=y5(w),_=A.samples;_.forEach(function(k){k.duration===void 0&&(k.duration=h),k.size===void 0&&(k.size=m),k.trackId=g,k.dts=c,k.compositionTimeOffset===void 0&&(k.compositionTimeOffset=0),typeof c=="bigint"?(k.pts=c+WA.BigInt(k.compositionTimeOffset),c+=WA.BigInt(k.duration)):(k.pts=c+k.compositionTimeOffset,c+=k.duration)}),S=S.concat(_)}),S},w5=function(i,s){var a=ja(i,["moof","traf"]),c=ja(i,["mdat"]),h={},m=[];return c.forEach(function(g,S){var w=a[S];m.push({mdat:g,traf:w})}),m.forEach(function(g){var S=g.mdat,w=g.traf,A=ja(w,["tfhd"]),_=x5(A[0]),k=_.trackId,U=ja(w,["tfdt"]),x=U.length>0?v5(U[0]).baseMediaDecodeTime:0,b=ja(w,["trun"]),$,D;s===k&&b.length>0&&($=E5(b,x,_),D=T5(S,$,k),h[k]||(h[k]={seiNals:[],logs:[]}),h[k].seiNals=h[k].seiNals.concat(D.seiNals),h[k].logs=h[k].logs.concat(D.logs))}),h},A5=function(i,s,a){var c;if(s===null)return null;c=w5(i,s);var h=c[s]||{};return{seiNals:h.seiNals,logs:h.logs,timescale:a}},I5=function(){var i=!1,s,a,c,h,m,g;this.isInitialized=function(){return i},this.init=function(S){s=new m5,i=!0,g=S?S.isPartial:!1,s.on("data",function(w){w.startTime=w.startPts/h,w.endTime=w.endPts/h,m.captions.push(w),m.captionStreams[w.stream]=!0}),s.on("log",function(w){m.logs.push(w)})},this.isNewInit=function(S,w){return S&&S.length===0||w&&typeof w=="object"&&Object.keys(w).length===0?!1:c!==S[0]||h!==w[c]},this.parse=function(S,w,A){var _;if(this.isInitialized()){if(!w||!A)return null;if(this.isNewInit(w,A))c=w[0],h=A[c];else if(c===null||!h)return a.push(S),null}else return null;for(;a.length>0;){var k=a.shift();this.parse(k,w,A)}return _=A5(S,c,h),_&&_.logs&&(m.logs=m.logs.concat(_.logs)),_===null||!_.seiNals?m.logs.length?{logs:m.logs,captions:[],captionStreams:[]}:null:(this.pushNals(_.seiNals),this.flushStream(),m)},this.pushNals=function(S){if(!this.isInitialized()||!S||S.length===0)return null;S.forEach(function(w){s.push(w)})},this.flushStream=function(){if(!this.isInitialized())return null;g?s.partialFlush():s.flush()},this.clearParsedCaptions=function(){m.captions=[],m.captionStreams={},m.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;s.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){a=[],c=null,h=null,m?this.clearParsedCaptions():m={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},C5=I5,_5={generator:hh,probe:g6,Transmuxer:Am.Transmuxer,AudioSegmentStream:Am.AudioSegmentStream,VideoSegmentStream:Am.VideoSegmentStream,CaptionParser:C5},He;He=function(i,s){var a=0,c=16384,h=function(_,k){var U,x=_.position+k;x<_.bytes.byteLength||(U=new Uint8Array(x*2),U.set(_.bytes.subarray(0,_.position),0),_.bytes=U,_.view=new DataView(_.bytes.buffer))},m=He.widthBytes||new Uint8Array(5),g=He.heightBytes||new Uint8Array(6),S=He.videocodecidBytes||new Uint8Array(12),w;if(!He.widthBytes){for(w=0;w<5;w++)m[w]="width".charCodeAt(w);for(w=0;w<6;w++)g[w]="height".charCodeAt(w);for(w=0;w<12;w++)S[w]="videocodecid".charCodeAt(w);He.widthBytes=m,He.heightBytes=g,He.videocodecidBytes=S}switch(this.keyFrame=!1,i){case He.VIDEO_TAG:this.length=16,c*=6;break;case He.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case He.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(c),this.view=new DataView(this.bytes.buffer),this.bytes[0]=i,this.position=this.length,this.keyFrame=s,this.pts=0,this.dts=0,this.writeBytes=function(A,_,k){var U=_||0,x;k=k||A.byteLength,x=U+k,h(this,k),this.bytes.set(A.subarray(U,x),this.position),this.position+=k,this.length=Math.max(this.length,this.position)},this.writeByte=function(A){h(this,1),this.bytes[this.position]=A,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(A){h(this,2),this.view.setUint16(this.position,A),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(A){return this.bytes[this.length-A]},this.nalUnitSize=function(){return a===0?0:this.length-(a+4)},this.startNalUnit=function(){if(a>0)throw new Error("Attempted to create new NAL wihout closing the old one");a=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(A){var _,k;this.length===a+4?this.length-=4:a>0&&(_=a+4,k=this.length-_,this.position=a,this.view.setUint32(this.position,k),this.position=this.length,A&&A.push(this.bytes.subarray(_,_+k))),a=0},this.writeMetaDataDouble=function(A,_){var k;if(h(this,2+A.length+9),this.view.setUint16(this.position,A.length),this.position+=2,A==="width")this.bytes.set(m,this.position),this.position+=5;else if(A==="height")this.bytes.set(g,this.position),this.position+=6;else if(A==="videocodecid")this.bytes.set(S,this.position),this.position+=12;else for(k=0;k<A.length;k++)this.bytes[this.position]=A.charCodeAt(k),this.position++;this.position++,this.view.setFloat64(this.position,_),this.position+=8,this.length=Math.max(this.length,this.position),++a},this.writeMetaDataBoolean=function(A,_){var k;for(h(this,2),this.view.setUint16(this.position,A.length),this.position+=2,k=0;k<A.length;k++)h(this,1),this.bytes[this.position]=A.charCodeAt(k),this.position++;h(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,_?1:0),this.position++,this.length=Math.max(this.length,this.position),++a},this.finalize=function(){var A,_;switch(this.bytes[0]){case He.VIDEO_TAG:this.bytes[11]=(this.keyFrame||s?16:32)|7,this.bytes[12]=s?0:1,A=this.pts-this.dts,this.bytes[13]=(A&16711680)>>>16,this.bytes[14]=(A&65280)>>>8,this.bytes[15]=(A&255)>>>0;break;case He.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=s?0:1;break;case He.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,a),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position;break}return _=this.length-11,this.bytes[1]=(_&16711680)>>>16,this.bytes[2]=(_&65280)>>>8,this.bytes[3]=(_&255)>>>0,this.bytes[4]=(this.dts&16711680)>>>16,this.bytes[5]=(this.dts&65280)>>>8,this.bytes[6]=(this.dts&255)>>>0,this.bytes[7]=(this.dts&4278190080)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,h(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=He.frameTime(this.bytes),this}};He.AUDIO_TAG=8;He.VIDEO_TAG=9;He.METADATA_TAG=18;He.isAudioFrame=function(r){return He.AUDIO_TAG===r[0]};He.isVideoFrame=function(r){return He.VIDEO_TAG===r[0]};He.isMetaData=function(r){return He.METADATA_TAG===r[0]};He.isKeyFrame=function(r){return He.isVideoFrame(r)?r[11]===23:!!(He.isAudioFrame(r)||He.isMetaData(r))};He.frameTime=function(r){var i=r[4]<<16;return i|=r[5]<<8,i|=r[6]<<0,i|=r[7]<<24,i};var Yy=He,k5=Fn,Qy=function r(i){this.numberOfTracks=0,this.metadataStream=i.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,r.prototype.init.call(this),this.push=function(s){if(s.text)return this.pendingCaptions.push(s);if(s.frames)return this.pendingMetadata.push(s);s.track.type==="video"&&(this.videoTrack=s.track,this.videoTags=s.tags,this.pendingTracks++),s.track.type==="audio"&&(this.audioTrack=s.track,this.audioTags=s.tags,this.pendingTracks++)}};Qy.prototype=new k5;Qy.prototype.flush=function(r){var i,s,a,c,h={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if(r!=="VideoSegmentStream"&&r!=="AudioSegmentStream")return;if(this.pendingTracks===0&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?c=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(c=this.audioTrack.timelineStartInfo.pts),h.tags.videoTags=this.videoTags,h.tags.audioTags=this.audioTags,a=0;a<this.pendingCaptions.length;a++)s=this.pendingCaptions[a],s.startTime=s.startPts-c,s.startTime/=9e4,s.endTime=s.endPts-c,s.endTime/=9e4,h.captionStreams[s.stream]=!0,h.captions.push(s);for(a=0;a<this.pendingMetadata.length;a++)i=this.pendingMetadata[a],i.cueTime=i.pts-c,i.cueTime/=9e4,h.metadata.push(i);h.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",h),this.trigger("done")}};var P5=Qy,L5=function(){var i=this;this.list=[],this.push=function(s){this.list.push({bytes:s.bytes,dts:s.dts,pts:s.pts,keyFrame:s.keyFrame,metaDataTag:s.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return i.list.length}})},N5=L5,Jy=Fn,Jn=Yy,Ur=xh,M5=fh,R5=Fy.H264Stream,b5=P5,p_=N5,Kf,Wf,$f,Zy,g_,m_;Zy=function(i,s){typeof s.pts=="number"&&(i.timelineStartInfo.pts===void 0?i.timelineStartInfo.pts=s.pts:i.timelineStartInfo.pts=Math.min(i.timelineStartInfo.pts,s.pts)),typeof s.dts=="number"&&(i.timelineStartInfo.dts===void 0?i.timelineStartInfo.dts=s.dts:i.timelineStartInfo.dts=Math.min(i.timelineStartInfo.dts,s.dts))};g_=function(i,s){var a=new Jn(Jn.METADATA_TAG);return a.dts=s,a.pts=s,a.writeMetaDataDouble("videocodecid",7),a.writeMetaDataDouble("width",i.width),a.writeMetaDataDouble("height",i.height),a};m_=function(i,s){var a,c=new Jn(Jn.VIDEO_TAG,!0);for(c.dts=s,c.pts=s,c.writeByte(1),c.writeByte(i.profileIdc),c.writeByte(i.profileCompatibility),c.writeByte(i.levelIdc),c.writeByte(255),c.writeByte(225),c.writeShort(i.sps[0].length),c.writeBytes(i.sps[0]),c.writeByte(i.pps.length),a=0;a<i.pps.length;++a)c.writeShort(i.pps[a].length),c.writeBytes(i.pps[a]);return c};$f=function(i){var s=[],a=[],c;$f.prototype.init.call(this),this.push=function(h){Zy(i,h),i&&(i.audioobjecttype=h.audioobjecttype,i.channelcount=h.channelcount,i.samplerate=h.samplerate,i.samplingfrequencyindex=h.samplingfrequencyindex,i.samplesize=h.samplesize,i.extraData=i.audioobjecttype<<11|i.samplingfrequencyindex<<7|i.channelcount<<3),h.pts=Math.round(h.pts/90),h.dts=Math.round(h.dts/90),s.push(h)},this.flush=function(){var h,m,g,S=new p_;if(s.length===0){this.trigger("done","AudioSegmentStream");return}for(g=-1/0;s.length;)h=s.shift(),a.length&&h.pts>=a[0]&&(g=a.shift(),this.writeMetaDataTags(S,g)),(i.extraData!==c||h.pts-g>=1e3)&&(this.writeMetaDataTags(S,h.pts),c=i.extraData,g=h.pts),m=new Jn(Jn.AUDIO_TAG),m.pts=h.pts,m.dts=h.dts,m.writeBytes(h.data),S.push(m.finalize());a.length=0,c=null,this.trigger("data",{track:i,tags:S.list}),this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(h,m){var g;g=new Jn(Jn.METADATA_TAG),g.pts=m,g.dts=m,g.writeMetaDataDouble("audiocodecid",10),g.writeMetaDataBoolean("stereo",i.channelcount===2),g.writeMetaDataDouble("audiosamplerate",i.samplerate),g.writeMetaDataDouble("audiosamplesize",16),h.push(g.finalize()),g=new Jn(Jn.AUDIO_TAG,!0),g.pts=m,g.dts=m,g.view.setUint16(g.position,i.extraData),g.position+=2,g.length=Math.max(g.length,g.position),h.push(g.finalize())},this.onVideoKeyFrame=function(h){a.push(h)}};$f.prototype=new Jy;Wf=function(i){var s=[],a,c;Wf.prototype.init.call(this),this.finishFrame=function(h,m){if(m){if(a&&i&&i.newMetadata&&(m.keyFrame||h.length===0)){var g=g_(a,m.dts).finalize(),S=m_(i,m.dts).finalize();g.metaDataTag=S.metaDataTag=!0,h.push(g),h.push(S),i.newMetadata=!1,this.trigger("keyframe",m.dts)}m.endNalUnit(),h.push(m.finalize()),c=null}},this.push=function(h){Zy(i,h),h.pts=Math.round(h.pts/90),h.dts=Math.round(h.dts/90),s.push(h)},this.flush=function(){for(var h,m=new p_;s.length&&s[0].nalUnitType!=="access_unit_delimiter_rbsp";)s.shift();if(s.length===0){this.trigger("done","VideoSegmentStream");return}for(;s.length;)h=s.shift(),h.nalUnitType==="seq_parameter_set_rbsp"?(i.newMetadata=!0,a=h.config,i.width=a.width,i.height=a.height,i.sps=[h.data],i.profileIdc=a.profileIdc,i.levelIdc=a.levelIdc,i.profileCompatibility=a.profileCompatibility,c.endNalUnit()):h.nalUnitType==="pic_parameter_set_rbsp"?(i.newMetadata=!0,i.pps=[h.data],c.endNalUnit()):h.nalUnitType==="access_unit_delimiter_rbsp"?(c&&this.finishFrame(m,c),c=new Jn(Jn.VIDEO_TAG),c.pts=h.pts,c.dts=h.dts):(h.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(c.keyFrame=!0),c.endNalUnit()),c.startNalUnit(),c.writeBytes(h.data);c&&this.finishFrame(m,c),this.trigger("data",{track:i,tags:m.list}),this.trigger("done","VideoSegmentStream")}};Wf.prototype=new Jy;Kf=function(i){var s=this,a,c,h,m,g,S,w,A,_,k,U,x;Kf.prototype.init.call(this),i=i||{},this.metadataStream=new Ur.MetadataStream,i.metadataStream=this.metadataStream,a=new Ur.TransportPacketStream,c=new Ur.TransportParseStream,h=new Ur.ElementaryStream,m=new Ur.TimestampRolloverStream("video"),g=new Ur.TimestampRolloverStream("audio"),S=new Ur.TimestampRolloverStream("timed-metadata"),w=new M5,A=new R5,x=new b5(i),a.pipe(c).pipe(h),h.pipe(m).pipe(A),h.pipe(g).pipe(w),h.pipe(S).pipe(this.metadataStream).pipe(x),U=new Ur.CaptionStream(i),A.pipe(U).pipe(x),h.on("data",function(b){var $,D,R;if(b.type==="metadata"){for($=b.tracks.length;$--;)b.tracks[$].type==="video"?D=b.tracks[$]:b.tracks[$].type==="audio"&&(R=b.tracks[$]);D&&!_&&(x.numberOfTracks++,_=new Wf(D),A.pipe(_).pipe(x)),R&&!k&&(x.numberOfTracks++,k=new $f(R),w.pipe(k).pipe(x),_&&_.on("keyframe",k.onVideoKeyFrame))}}),this.push=function(b){a.push(b)},this.flush=function(){a.flush()},this.resetCaptions=function(){U.reset()},x.on("data",function(b){s.trigger("data",b)}),x.on("done",function(){s.trigger("done")})};Kf.prototype=new Jy;var D5=Kf,$A=Yy,O5=function(i,s,a){var c=new Uint8Array(9),h=new DataView(c.buffer),m,g,S;return i=i||0,s=s===void 0?!0:s,a=a===void 0?!0:a,h.setUint8(0,70),h.setUint8(1,76),h.setUint8(2,86),h.setUint8(3,1),h.setUint8(4,(s?4:0)|(a?1:0)),h.setUint32(5,c.byteLength),i<=0?(g=new Uint8Array(c.byteLength+4),g.set(c),g.set([0,0,0,0],c.byteLength),g):(m=new $A($A.METADATA_TAG),m.pts=m.dts=0,m.writeMetaDataDouble("duration",i),S=m.finalize().length,g=new Uint8Array(c.byteLength+S),g.set(c),g.set(h.byteLength,S),g)},U5=O5,F5={tag:Yy,Transmuxer:D5,getFlvHeader:U5},Dv={},j5={get exports(){return Dv},set exports(r){Dv=r}};(function(r){r.exports=xh})(j5);var B5=Fn,Im=hh,$d=i_,qd=gh,z5=ro.ONE_SECOND_IN_TS,V5=f_,v_=function r(i,s){var a=[],c=0,h=0,m=0,g=1/0,S=null,w=null;s=s||{},r.prototype.init.call(this),this.push=function(A){qd.collectDtsInfo(i,A),i&&V5.forEach(function(_){i[_]=A[_]}),a.push(A)},this.setEarliestDts=function(A){h=A},this.setVideoBaseMediaDecodeTime=function(A){g=A},this.setAudioAppendStart=function(A){m=A},this.processFrames_=function(){var A,_,k,U,x;a.length!==0&&(A=$d.trimAdtsFramesByEarliestDts(a,i,h),A.length!==0&&(i.baseMediaDecodeTime=qd.calculateTrackBaseMediaDecodeTime(i,s.keepOriginalTimestamps),$d.prefixWithSilence(i,A,m,g),i.samples=$d.generateSampleTable(A),k=Im.mdat($d.concatenateFrameData(A)),a=[],_=Im.moof(c,[i]),c++,i.initSegment=Im.initSegment([i]),U=new Uint8Array(_.byteLength+k.byteLength),U.set(_),U.set(k,_.byteLength),qd.clearDtsInfo(i),S===null&&(w=S=A[0].pts),w+=A.length*(z5*1024/i.samplerate),x={start:S},this.trigger("timingInfo",x),this.trigger("data",{track:i,boxes:U})))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:S,end:w}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){qd.clearDtsInfo(i),S=null,w=null},this.reset=function(){this.resetTiming_(),a=[],this.trigger("reset")}};v_.prototype=new B5;var G5=v_,H5=Fn,Cm=hh,Xd=gh,Ba=n_,K5=h_,y_=function r(i,s){var a=0,c=[],h=[],m,g,S=null,w=null,A,_=!0;s=s||{},r.prototype.init.call(this),this.push=function(k){Xd.collectDtsInfo(i,k),typeof i.timelineStartInfo.dts>"u"&&(i.timelineStartInfo.dts=k.dts),k.nalUnitType==="seq_parameter_set_rbsp"&&!m&&(m=k.config,i.sps=[k.data],K5.forEach(function(U){i[U]=m[U]},this)),k.nalUnitType==="pic_parameter_set_rbsp"&&!g&&(g=k.data,i.pps=[k.data]),c.push(k)},this.processNals_=function(k){var U;for(c=h.concat(c);c.length&&c[0].nalUnitType!=="access_unit_delimiter_rbsp";)c.shift();if(c.length!==0){var x=Ba.groupNalsIntoFrames(c);if(x.length){if(h=x[x.length-1],k&&(x.pop(),x.duration-=h.duration,x.nalCount-=h.length,x.byteLength-=h.byteLength),!x.length){c=[];return}if(this.trigger("timelineStartInfo",i.timelineStartInfo),_){if(A=Ba.groupFramesIntoGops(x),!A[0][0].keyFrame){if(A=Ba.extendFirstKeyFrame(A),!A[0][0].keyFrame){c=[].concat.apply([],x).concat(h),h=[];return}x=[].concat.apply([],A),x.duration=A.duration}_=!1}for(S===null&&(S=x[0].pts,w=S),w+=x.duration,this.trigger("timingInfo",{start:S,end:w}),U=0;U<x.length;U++){var b=x[U];i.samples=Ba.generateSampleTableForFrame(b);var $=Cm.mdat(Ba.concatenateNalDataForFrame(b));Xd.clearDtsInfo(i),Xd.collectDtsInfo(i,b),i.baseMediaDecodeTime=Xd.calculateTrackBaseMediaDecodeTime(i,s.keepOriginalTimestamps);var D=Cm.moof(a,[i]);a++,i.initSegment=Cm.initSegment([i]);var R=new Uint8Array(D.byteLength+$.byteLength);R.set(D),R.set($,D.byteLength),this.trigger("data",{track:i,boxes:R,sequence:a,videoFrameDts:b.dts,videoFramePts:b.pts})}c=[]}}},this.resetTimingAndConfig_=function(){m=void 0,g=void 0,S=null,w=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),h=[],c=[],_=!0,this.trigger("reset")}};y_.prototype=new H5;var W5=y_,x_=Fn,lr=xh,qA=vC,S_=G5,$5=W5,XA=gh,q5=Sh.isLikelyAacData,X5=fh,Y5=d_,Ov=ro,T_=function(i){return i.prototype=new x_,i.prototype.init.call(i),i},Q5=function(i){var s={type:"ts",tracks:{audio:null,video:null},packet:new lr.TransportPacketStream,parse:new lr.TransportParseStream,elementary:new lr.ElementaryStream,timestampRollover:new lr.TimestampRolloverStream,adts:new qA.Adts,h264:new qA.h264.H264Stream,captionStream:new lr.CaptionStream(i),metadataStream:new lr.MetadataStream};return s.headOfPipeline=s.packet,s.packet.pipe(s.parse).pipe(s.elementary).pipe(s.timestampRollover),s.timestampRollover.pipe(s.h264),s.h264.pipe(s.captionStream),s.timestampRollover.pipe(s.metadataStream),s.timestampRollover.pipe(s.adts),s.elementary.on("data",function(a){if(a.type==="metadata"){for(var c=0;c<a.tracks.length;c++)s.tracks[a.tracks[c].type]||(s.tracks[a.tracks[c].type]=a.tracks[c],s.tracks[a.tracks[c].type].timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime);s.tracks.video&&!s.videoSegmentStream&&(s.videoSegmentStream=new $5(s.tracks.video,i),s.videoSegmentStream.on("timelineStartInfo",function(h){s.tracks.audio&&!i.keepOriginalTimestamps&&s.audioSegmentStream.setEarliestDts(h.dts-i.baseMediaDecodeTime)}),s.videoSegmentStream.on("timingInfo",s.trigger.bind(s,"videoTimingInfo")),s.videoSegmentStream.on("data",function(h){s.trigger("data",{type:"video",data:h})}),s.videoSegmentStream.on("done",s.trigger.bind(s,"done")),s.videoSegmentStream.on("partialdone",s.trigger.bind(s,"partialdone")),s.videoSegmentStream.on("endedtimeline",s.trigger.bind(s,"endedtimeline")),s.h264.pipe(s.videoSegmentStream)),s.tracks.audio&&!s.audioSegmentStream&&(s.audioSegmentStream=new S_(s.tracks.audio,i),s.audioSegmentStream.on("data",function(h){s.trigger("data",{type:"audio",data:h})}),s.audioSegmentStream.on("done",s.trigger.bind(s,"done")),s.audioSegmentStream.on("partialdone",s.trigger.bind(s,"partialdone")),s.audioSegmentStream.on("endedtimeline",s.trigger.bind(s,"endedtimeline")),s.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),s.adts.pipe(s.audioSegmentStream)),s.trigger("trackinfo",{hasAudio:!!s.tracks.audio,hasVideo:!!s.tracks.video})}}),s.captionStream.on("data",function(a){var c;s.tracks.video?c=s.tracks.video.timelineStartInfo.pts||0:c=0,a.startTime=Ov.metadataTsToSeconds(a.startPts,c,i.keepOriginalTimestamps),a.endTime=Ov.metadataTsToSeconds(a.endPts,c,i.keepOriginalTimestamps),s.trigger("caption",a)}),s=T_(s),s.metadataStream.on("data",s.trigger.bind(s,"id3Frame")),s},J5=function(i){var s={type:"aac",tracks:{audio:null},metadataStream:new lr.MetadataStream,aacStream:new Y5,audioRollover:new lr.TimestampRolloverStream("audio"),timedMetadataRollover:new lr.TimestampRolloverStream("timed-metadata"),adtsStream:new X5(!0)};return s.headOfPipeline=s.aacStream,s.aacStream.pipe(s.audioRollover).pipe(s.adtsStream),s.aacStream.pipe(s.timedMetadataRollover).pipe(s.metadataStream),s.metadataStream.on("timestamp",function(a){s.aacStream.setTimestamp(a.timeStamp)}),s.aacStream.on("data",function(a){a.type!=="timed-metadata"&&a.type!=="audio"||s.audioSegmentStream||(s.tracks.audio=s.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},s.audioSegmentStream=new S_(s.tracks.audio,i),s.audioSegmentStream.on("data",function(c){s.trigger("data",{type:"audio",data:c})}),s.audioSegmentStream.on("partialdone",s.trigger.bind(s,"partialdone")),s.audioSegmentStream.on("done",s.trigger.bind(s,"done")),s.audioSegmentStream.on("endedtimeline",s.trigger.bind(s,"endedtimeline")),s.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),s.adtsStream.pipe(s.audioSegmentStream),s.trigger("trackinfo",{hasAudio:!!s.tracks.audio,hasVideo:!!s.tracks.video}))}),s=T_(s),s.metadataStream.on("data",s.trigger.bind(s,"id3Frame")),s},YA=function(i,s){i.on("data",s.trigger.bind(s,"data")),i.on("done",s.trigger.bind(s,"done")),i.on("partialdone",s.trigger.bind(s,"partialdone")),i.on("endedtimeline",s.trigger.bind(s,"endedtimeline")),i.on("audioTimingInfo",s.trigger.bind(s,"audioTimingInfo")),i.on("videoTimingInfo",s.trigger.bind(s,"videoTimingInfo")),i.on("trackinfo",s.trigger.bind(s,"trackinfo")),i.on("id3Frame",function(a){a.dispatchType=i.metadataStream.dispatchType,a.cueTime=Ov.videoTsToSeconds(a.pts),s.trigger("id3Frame",a)}),i.on("caption",function(a){s.trigger("caption",a)})},E_=function r(i){var s=null,a=!0;i=i||{},r.prototype.init.call(this),i.baseMediaDecodeTime=i.baseMediaDecodeTime||0,this.push=function(c){if(a){var h=q5(c);h&&(!s||s.type!=="aac")?(s=J5(i),YA(s,this)):!h&&(!s||s.type!=="ts")&&(s=Q5(i),YA(s,this)),a=!1}s.headOfPipeline.push(c)},this.flush=function(){s&&(a=!0,s.headOfPipeline.flush())},this.partialFlush=function(){s&&s.headOfPipeline.partialFlush()},this.endTimeline=function(){s&&s.headOfPipeline.endTimeline()},this.reset=function(){s&&s.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(c){i.keepOriginalTimestamps||(i.baseMediaDecodeTime=c),s&&(s.tracks.audio&&(s.tracks.audio.timelineStartInfo.dts=void 0,s.tracks.audio.timelineStartInfo.pts=void 0,XA.clearDtsInfo(s.tracks.audio),s.audioRollover&&s.audioRollover.discontinuity()),s.tracks.video&&(s.videoSegmentStream&&(s.videoSegmentStream.gopCache_=[]),s.tracks.video.timelineStartInfo.dts=void 0,s.tracks.video.timelineStartInfo.pts=void 0,XA.clearDtsInfo(s.tracks.video)),s.timestampRollover&&s.timestampRollover.discontinuity())},this.setRemux=function(c){i.remux=c,s&&s.coalesceStream&&s.coalesceStream.setRemux(c)},this.setAudioAppendStart=function(c){!s||!s.tracks.audio||!s.audioSegmentStream||s.audioSegmentStream.setAudioAppendStart(c)},this.alignGopsWith=function(c){}};E_.prototype=new x_;var Z5=E_,e8={Transmuxer:Z5},_m,QA;function t8(){if(QA)return _m;QA=1;var r=gu.getUint64,i=function(a){var c=new DataView(a.buffer,a.byteOffset,a.byteLength),h={version:a[0],flags:new Uint8Array(a.subarray(1,4)),references:[],referenceId:c.getUint32(4),timescale:c.getUint32(8)},m=12;h.version===0?(h.earliestPresentationTime=c.getUint32(m),h.firstOffset=c.getUint32(m+4),m+=8):(h.earliestPresentationTime=r(a.subarray(m)),h.firstOffset=r(a.subarray(m+8)),m+=16),m+=2;var g=c.getUint16(m);for(m+=2;g>0;m+=12,g--)h.references.push({referenceType:(a[m]&128)>>>7,referencedSize:c.getUint32(m)&2147483647,subsegmentDuration:c.getUint32(m+4),startsWithSap:!!(a[m+8]&128),sapType:(a[m+8]&112)>>>4,sapDeltaTime:c.getUint32(m+8)&268435455});return h};return _m=i,_m}var n8=gu,JA=n8.getUint64,tn,Uv,Xn=function(i){return new Date(i*1e3-20828448e5)},rl=jy,i8=By,r8=function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a=[],c,h;for(c=0;c+4<i.length;c+=h){if(h=s.getUint32(c),c+=4,h<=0){a.push("<span style='color:red;'>MALFORMED DATA</span>");continue}switch(i[c]&31){case 1:a.push("slice_layer_without_partitioning_rbsp");break;case 5:a.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:a.push("sei_rbsp");break;case 7:a.push("seq_parameter_set_rbsp");break;case 8:a.push("pic_parameter_set_rbsp");break;case 9:a.push("access_unit_delimiter_rbsp");break;default:a.push("UNKNOWN NAL - "+i[c]&31);break}}return a},Br={avc1:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength);return{dataReferenceIndex:s.getUint16(6),width:s.getUint16(24),height:s.getUint16(26),horizresolution:s.getUint16(28)+s.getUint16(30)/16,vertresolution:s.getUint16(32)+s.getUint16(34)/16,frameCount:s.getUint16(40),depth:s.getUint16(74),config:tn(i.subarray(78,i.byteLength))}},avcC:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a={configurationVersion:i[0],avcProfileIndication:i[1],profileCompatibility:i[2],avcLevelIndication:i[3],lengthSizeMinusOne:i[4]&3,sps:[],pps:[]},c=i[5]&31,h,m,g,S;for(g=6,S=0;S<c;S++)m=s.getUint16(g),g+=2,a.sps.push(new Uint8Array(i.subarray(g,g+m))),g+=m;for(h=i[g],g++,S=0;S<h;S++)m=s.getUint16(g),g+=2,a.pps.push(new Uint8Array(i.subarray(g,g+m))),g+=m;return a},btrt:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength);return{bufferSizeDB:s.getUint32(0),maxBitrate:s.getUint32(4),avgBitrate:s.getUint32(8)}},edts:function(i){return{boxes:tn(i)}},elst:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a={version:s.getUint8(0),flags:new Uint8Array(i.subarray(1,4)),edits:[]},c=s.getUint32(4),h;for(h=8;c;c--)a.version===0?(a.edits.push({segmentDuration:s.getUint32(h),mediaTime:s.getInt32(h+4),mediaRate:s.getUint16(h+8)+s.getUint16(h+10)/(256*256)}),h+=12):(a.edits.push({segmentDuration:JA(i.subarray(h)),mediaTime:JA(i.subarray(h+8)),mediaRate:s.getUint16(h+16)+s.getUint16(h+18)/(256*256)}),h+=20);return a},esds:function(i){return{version:i[0],flags:new Uint8Array(i.subarray(1,4)),esId:i[6]<<8|i[7],streamPriority:i[8]&31,decoderConfig:{objectProfileIndication:i[11],streamType:i[12]>>>2&63,bufferSize:i[13]<<16|i[14]<<8|i[15],maxBitrate:i[16]<<24|i[17]<<16|i[18]<<8|i[19],avgBitrate:i[20]<<24|i[21]<<16|i[22]<<8|i[23],decoderConfigDescriptor:{tag:i[24],length:i[25],audioObjectType:i[26]>>>3&31,samplingFrequencyIndex:(i[26]&7)<<1|i[27]>>>7&1,channelConfiguration:i[27]>>>3&15}}}},ftyp:function(i){for(var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a={majorBrand:rl(i.subarray(0,4)),minorVersion:s.getUint32(4),compatibleBrands:[]},c=8;c<i.byteLength;)a.compatibleBrands.push(rl(i.subarray(c,c+4))),c+=4;return a},dinf:function(i){return{boxes:tn(i)}},dref:function(i){return{version:i[0],flags:new Uint8Array(i.subarray(1,4)),dataReferences:tn(i.subarray(8))}},hdlr:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a={version:s.getUint8(0),flags:new Uint8Array(i.subarray(1,4)),handlerType:rl(i.subarray(8,12)),name:""},c=8;for(c=24;c<i.byteLength;c++){if(i[c]===0){c++;break}a.name+=String.fromCharCode(i[c])}return a.name=decodeURIComponent(escape(a.name)),a},mdat:function(i){return{byteLength:i.byteLength,nals:r8(i)}},mdhd:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a=4,c,h={version:s.getUint8(0),flags:new Uint8Array(i.subarray(1,4)),language:""};return h.version===1?(a+=4,h.creationTime=Xn(s.getUint32(a)),a+=8,h.modificationTime=Xn(s.getUint32(a)),a+=4,h.timescale=s.getUint32(a),a+=8,h.duration=s.getUint32(a)):(h.creationTime=Xn(s.getUint32(a)),a+=4,h.modificationTime=Xn(s.getUint32(a)),a+=4,h.timescale=s.getUint32(a),a+=4,h.duration=s.getUint32(a)),a+=4,c=s.getUint16(a),h.language+=String.fromCharCode((c>>10)+96),h.language+=String.fromCharCode(((c&992)>>5)+96),h.language+=String.fromCharCode((c&31)+96),h},mdia:function(i){return{boxes:tn(i)}},mfhd:function(i){return{version:i[0],flags:new Uint8Array(i.subarray(1,4)),sequenceNumber:i[4]<<24|i[5]<<16|i[6]<<8|i[7]}},minf:function(i){return{boxes:tn(i)}},mp4a:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a={dataReferenceIndex:s.getUint16(6),channelcount:s.getUint16(16),samplesize:s.getUint16(18),samplerate:s.getUint16(24)+s.getUint16(26)/65536};return i.byteLength>28&&(a.streamDescriptor=tn(i.subarray(28))[0]),a},moof:function(i){return{boxes:tn(i)}},moov:function(i){return{boxes:tn(i)}},mvex:function(i){return{boxes:tn(i)}},mvhd:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a=4,c={version:s.getUint8(0),flags:new Uint8Array(i.subarray(1,4))};return c.version===1?(a+=4,c.creationTime=Xn(s.getUint32(a)),a+=8,c.modificationTime=Xn(s.getUint32(a)),a+=4,c.timescale=s.getUint32(a),a+=8,c.duration=s.getUint32(a)):(c.creationTime=Xn(s.getUint32(a)),a+=4,c.modificationTime=Xn(s.getUint32(a)),a+=4,c.timescale=s.getUint32(a),a+=4,c.duration=s.getUint32(a)),a+=4,c.rate=s.getUint16(a)+s.getUint16(a+2)/16,a+=4,c.volume=s.getUint8(a)+s.getUint8(a+1)/8,a+=2,a+=2,a+=2*4,c.matrix=new Uint32Array(i.subarray(a,a+9*4)),a+=9*4,a+=6*4,c.nextTrackId=s.getUint32(a),c},pdin:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength);return{version:s.getUint8(0),flags:new Uint8Array(i.subarray(1,4)),rate:s.getUint32(4),initialDelay:s.getUint32(8)}},sdtp:function(i){var s={version:i[0],flags:new Uint8Array(i.subarray(1,4)),samples:[]},a;for(a=4;a<i.byteLength;a++)s.samples.push({dependsOn:(i[a]&48)>>4,isDependedOn:(i[a]&12)>>2,hasRedundancy:i[a]&3});return s},sidx:t8(),smhd:function(i){return{version:i[0],flags:new Uint8Array(i.subarray(1,4)),balance:i[4]+i[5]/256}},stbl:function(i){return{boxes:tn(i)}},ctts:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a={version:s.getUint8(0),flags:new Uint8Array(i.subarray(1,4)),compositionOffsets:[]},c=s.getUint32(4),h;for(h=8;c;h+=8,c--)a.compositionOffsets.push({sampleCount:s.getUint32(h),sampleOffset:s[a.version===0?"getUint32":"getInt32"](h+4)});return a},stss:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a={version:s.getUint8(0),flags:new Uint8Array(i.subarray(1,4)),syncSamples:[]},c=s.getUint32(4),h;for(h=8;c;h+=4,c--)a.syncSamples.push(s.getUint32(h));return a},stco:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a={version:i[0],flags:new Uint8Array(i.subarray(1,4)),chunkOffsets:[]},c=s.getUint32(4),h;for(h=8;c;h+=4,c--)a.chunkOffsets.push(s.getUint32(h));return a},stsc:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a=s.getUint32(4),c={version:i[0],flags:new Uint8Array(i.subarray(1,4)),sampleToChunks:[]},h;for(h=8;a;h+=12,a--)c.sampleToChunks.push({firstChunk:s.getUint32(h),samplesPerChunk:s.getUint32(h+4),sampleDescriptionIndex:s.getUint32(h+8)});return c},stsd:function(i){return{version:i[0],flags:new Uint8Array(i.subarray(1,4)),sampleDescriptions:tn(i.subarray(8))}},stsz:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a={version:i[0],flags:new Uint8Array(i.subarray(1,4)),sampleSize:s.getUint32(4),entries:[]},c;for(c=12;c<i.byteLength;c+=4)a.entries.push(s.getUint32(c));return a},stts:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a={version:i[0],flags:new Uint8Array(i.subarray(1,4)),timeToSamples:[]},c=s.getUint32(4),h;for(h=8;c;h+=8,c--)a.timeToSamples.push({sampleCount:s.getUint32(h),sampleDelta:s.getUint32(h+4)});return a},styp:function(i){return Br.ftyp(i)},tfdt:Gy,tfhd:zy,tkhd:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),a=4,c={version:s.getUint8(0),flags:new Uint8Array(i.subarray(1,4))};return c.version===1?(a+=4,c.creationTime=Xn(s.getUint32(a)),a+=8,c.modificationTime=Xn(s.getUint32(a)),a+=4,c.trackId=s.getUint32(a),a+=4,a+=8,c.duration=s.getUint32(a)):(c.creationTime=Xn(s.getUint32(a)),a+=4,c.modificationTime=Xn(s.getUint32(a)),a+=4,c.trackId=s.getUint32(a),a+=4,a+=4,c.duration=s.getUint32(a)),a+=4,a+=2*4,c.layer=s.getUint16(a),a+=2,c.alternateGroup=s.getUint16(a),a+=2,c.volume=s.getUint8(a)+s.getUint8(a+1)/8,a+=2,a+=2,c.matrix=new Uint32Array(i.subarray(a,a+9*4)),a+=9*4,c.width=s.getUint16(a)+s.getUint16(a+2)/65536,a+=4,c.height=s.getUint16(a)+s.getUint16(a+2)/65536,c},traf:function(i){return{boxes:tn(i)}},trak:function(i){return{boxes:tn(i)}},trex:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength);return{version:i[0],flags:new Uint8Array(i.subarray(1,4)),trackId:s.getUint32(4),defaultSampleDescriptionIndex:s.getUint32(8),defaultSampleDuration:s.getUint32(12),defaultSampleSize:s.getUint32(16),sampleDependsOn:i[20]&3,sampleIsDependedOn:(i[21]&192)>>6,sampleHasRedundancy:(i[21]&48)>>4,samplePaddingValue:(i[21]&14)>>1,sampleIsDifferenceSample:!!(i[21]&1),sampleDegradationPriority:s.getUint16(22)}},trun:Vy,"url ":function(i){return{version:i[0],flags:new Uint8Array(i.subarray(1,4))}},vmhd:function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength);return{version:i[0],flags:new Uint8Array(i.subarray(1,4)),graphicsmode:s.getUint16(4),opcolor:new Uint16Array([s.getUint16(6),s.getUint16(8),s.getUint16(10)])}}};tn=function(i){for(var s=0,a=[],c,h,m,g,S,w=new ArrayBuffer(i.length),A=new Uint8Array(w),_=0;_<i.length;++_)A[_]=i[_];for(c=new DataView(w);s<i.byteLength;)h=c.getUint32(s),m=rl(i.subarray(s+4,s+8)),g=h>1?s+h:i.byteLength,S=(Br[m]||function(k){return{data:k}})(i.subarray(s+8,g)),S.size=h,S.type=m,a.push(S),s=g;return a};Uv=function(i,s){var a;return s=s||0,a=new Array(s*2+1).join(" "),i.map(function(c,h){return a+c.type+`
`+Object.keys(c).filter(function(m){return m!=="type"&&m!=="boxes"}).map(function(m){var g=a+"  "+m+": ",S=c[m];if(S instanceof Uint8Array||S instanceof Uint32Array){var w=Array.prototype.slice.call(new Uint8Array(S.buffer,S.byteOffset,S.byteLength)).map(function(A){return" "+("00"+A.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return w?w.length===1?g+"<"+w.join("").slice(1)+">":g+`<
`+w.map(function(A){return a+"  "+A}).join(`
`)+`
`+a+"  >":g+"<>"}return g+JSON.stringify(S,null,2).split(`
`).map(function(A,_){return _===0?A:a+"  "+A}).join(`
`)}).join(`
`)+(c.boxes?`
`+Uv(c.boxes,s+1):"")}).join(`
`)};var o8={inspect:tn,textify:Uv,parseType:rl,findBox:i8,parseTraf:Br.traf,parseTfdt:Br.tfdt,parseHdlr:Br.hdlr,parseTfhd:Br.tfhd,parseTrun:Br.trun,parseSidx:Br.sidx},s8={8:"audio",9:"video",18:"metadata"},u8=function(i){return"0x"+("00"+i.toString(16)).slice(-2).toUpperCase()},Fv=function(i){for(var s=[],a;i.byteLength>0;)a=0,s.push(u8(i[a++])),i=i.subarray(a);return s.join(" ")},a8=function(i,s){var a=["AVC Sequence Header","AVC NALU","AVC End-of-Sequence"],c=i[1]&parseInt("01111111",2)<<16|i[2]<<8|i[3];return s=s||{},s.avcPacketType=a[i[0]],s.CompositionTime=i[1]&parseInt("10000000",2)?-c:c,i[0]===1?s.nalUnitTypeRaw=Fv(i.subarray(4,100)):s.data=Fv(i.subarray(4)),s},l8=function(i,s){var a=["Unknown","Keyframe (for AVC, a seekable frame)","Inter frame (for AVC, a nonseekable frame)","Disposable inter frame (H.263 only)","Generated keyframe (reserved for server use only)","Video info/command frame"],c=i[0]&parseInt("00001111",2);return s=s||{},s.frameType=a[(i[0]&parseInt("11110000",2))>>>4],s.codecID=c,c===7?a8(i.subarray(1),s):s},c8=function(i,s){var a=["AAC Sequence Header","AAC Raw"];return s=s||{},s.aacPacketType=a[i[0]],s.data=Fv(i.subarray(1)),s},d8=function(i,s){var a=["Linear PCM, platform endian","ADPCM","MP3","Linear PCM, little endian","Nellymoser 16-kHz mono","Nellymoser 8-kHz mono","Nellymoser","G.711 A-law logarithmic PCM","G.711 mu-law logarithmic PCM","reserved","AAC","Speex","MP3 8-Khz","Device-specific sound"],c=["5.5-kHz","11-kHz","22-kHz","44-kHz"],h=(i[0]&parseInt("11110000",2))>>>4;return s=s||{},s.soundFormat=a[h],s.soundRate=c[(i[0]&parseInt("00001100",2))>>>2],s.soundSize=(i[0]&parseInt("00000010",2))>>>1?"16-bit":"8-bit",s.soundType=i[0]&parseInt("00000001",2)?"Stereo":"Mono",h===10?c8(i.subarray(1),s):s},f8=function(i){return{tagType:s8[i[0]],dataSize:i[1]<<16|i[2]<<8|i[3],timestamp:i[7]<<24|i[4]<<16|i[5]<<8|i[6],streamID:i[8]<<16|i[9]<<8|i[10]}},w_=function(i){var s=f8(i);switch(i[0]){case 8:d8(i.subarray(11),s);break;case 9:l8(i.subarray(11),s);break}return s},h8=function(i){var s=9,a,c=[],h;for(s+=4;s<i.byteLength;)a=i[s+1]<<16,a|=i[s+2]<<8,a|=i[s+3],a+=11,h=i.subarray(s,s+a),c.push(w_(h)),s+=a+4;return c},p8=function(i){return JSON.stringify(i,null,2)},g8={inspectTag:w_,inspect:h8,textify:p8},km=yh,A_=function(i){var s=i[1]&31;return s<<=8,s|=i[2],s},Eh=function(i){return!!(i[1]&64)},wh=function(i){var s=0;return(i[3]&48)>>>4>1&&(s+=i[4]+1),s},m8=function(i,s){var a=A_(i);return a===0?"pat":a===s?"pmt":s?"pes":null},v8=function(i){var s=Eh(i),a=4+wh(i);return s&&(a+=i[a]+1),(i[a+10]&31)<<8|i[a+11]},y8=function(i){var s={},a=Eh(i),c=4+wh(i);if(a&&(c+=i[c]+1),!!(i[c+5]&1)){var h,m,g;h=(i[c+1]&15)<<8|i[c+2],m=3+h-4,g=(i[c+10]&15)<<8|i[c+11];for(var S=12+g;S<m;){var w=c+S;s[(i[w+1]&31)<<8|i[w+2]]=i[w],S+=((i[w+3]&15)<<8|i[w+4])+5}return s}},x8=function(i,s){var a=A_(i),c=s[a];switch(c){case km.H264_STREAM_TYPE:return"video";case km.ADTS_STREAM_TYPE:return"audio";case km.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},S8=function(i){var s=Eh(i);if(!s)return null;var a=4+wh(i);if(a>=i.byteLength)return null;var c=null,h;return h=i[a+7],h&192&&(c={},c.pts=(i[a+9]&14)<<27|(i[a+10]&255)<<20|(i[a+11]&254)<<12|(i[a+12]&255)<<5|(i[a+13]&254)>>>3,c.pts*=4,c.pts+=(i[a+13]&6)>>>1,c.dts=c.pts,h&64&&(c.dts=(i[a+14]&14)<<27|(i[a+15]&255)<<20|(i[a+16]&254)<<12|(i[a+17]&255)<<5|(i[a+18]&254)>>>3,c.dts*=4,c.dts+=(i[a+18]&6)>>>1)),c},Pm=function(i){switch(i){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},T8=function(i){for(var s=4+wh(i),a=i.subarray(s),c=0,h=0,m=!1,g;h<a.byteLength-3;h++)if(a[h+2]===1){c=h+5;break}for(;c<a.byteLength;)switch(a[c]){case 0:if(a[c-1]!==0){c+=2;break}else if(a[c-2]!==0){c++;break}h+3!==c-2&&(g=Pm(a[h+3]&31),g==="slice_layer_without_partitioning_rbsp_idr"&&(m=!0));do c++;while(a[c]!==1&&c<a.length);h=c-2,c+=3;break;case 1:if(a[c-1]!==0||a[c-2]!==0){c+=3;break}g=Pm(a[h+3]&31),g==="slice_layer_without_partitioning_rbsp_idr"&&(m=!0),h=c-2,c+=3;break;default:c+=3;break}return a=a.subarray(h),c-=h,h=0,a&&a.byteLength>3&&(g=Pm(a[h+3]&31),g==="slice_layer_without_partitioning_rbsp_idr"&&(m=!0)),m},E8={parseType:m8,parsePat:v8,parsePmt:y8,parsePayloadUnitStartIndicator:Eh,parsePesType:x8,parsePesTime:S8,videoPacketContainsKeyFrame:T8},ZA=yh,Os=a_.handleRollover,Xe={};Xe.ts=E8;Xe.aac=Sh;var Uo=ro.ONE_SECOND_IN_TS,cn=188,Fi=71,w8=function(i,s){for(var a=0,c=cn,h,m;c<i.byteLength;){if(i[a]===Fi&&i[c]===Fi){switch(h=i.subarray(a,c),m=Xe.ts.parseType(h,s.pid),m){case"pat":s.pid=Xe.ts.parsePat(h);break;case"pmt":var g=Xe.ts.parsePmt(h);s.table=s.table||{},Object.keys(g).forEach(function(S){s.table[S]=g[S]});break}a+=cn,c+=cn;continue}a++,c++}},I_=function(i,s,a){for(var c=0,h=cn,m,g,S,w,A,_=!1;h<=i.byteLength;){if(i[c]===Fi&&(i[h]===Fi||h===i.byteLength)){switch(m=i.subarray(c,h),g=Xe.ts.parseType(m,s.pid),g){case"pes":S=Xe.ts.parsePesType(m,s.table),w=Xe.ts.parsePayloadUnitStartIndicator(m),S==="audio"&&w&&(A=Xe.ts.parsePesTime(m),A&&(A.type="audio",a.audio.push(A),_=!0));break}if(_)break;c+=cn,h+=cn;continue}c++,h++}for(h=i.byteLength,c=h-cn,_=!1;c>=0;){if(i[c]===Fi&&(i[h]===Fi||h===i.byteLength)){switch(m=i.subarray(c,h),g=Xe.ts.parseType(m,s.pid),g){case"pes":S=Xe.ts.parsePesType(m,s.table),w=Xe.ts.parsePayloadUnitStartIndicator(m),S==="audio"&&w&&(A=Xe.ts.parsePesTime(m),A&&(A.type="audio",a.audio.push(A),_=!0));break}if(_)break;c-=cn,h-=cn;continue}c--,h--}},A8=function(i,s,a){for(var c=0,h=cn,m,g,S,w,A,_,k,U,x=!1,b={data:[],size:0};h<i.byteLength;){if(i[c]===Fi&&i[h]===Fi){switch(m=i.subarray(c,h),g=Xe.ts.parseType(m,s.pid),g){case"pes":if(S=Xe.ts.parsePesType(m,s.table),w=Xe.ts.parsePayloadUnitStartIndicator(m),S==="video"&&(w&&!x&&(A=Xe.ts.parsePesTime(m),A&&(A.type="video",a.video.push(A),x=!0)),!a.firstKeyFrame)){if(w&&b.size!==0){for(_=new Uint8Array(b.size),k=0;b.data.length;)U=b.data.shift(),_.set(U,k),k+=U.byteLength;if(Xe.ts.videoPacketContainsKeyFrame(_)){var $=Xe.ts.parsePesTime(_);$?(a.firstKeyFrame=$,a.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}b.size=0}b.data.push(m),b.size+=m.byteLength}break}if(x&&a.firstKeyFrame)break;c+=cn,h+=cn;continue}c++,h++}for(h=i.byteLength,c=h-cn,x=!1;c>=0;){if(i[c]===Fi&&i[h]===Fi){switch(m=i.subarray(c,h),g=Xe.ts.parseType(m,s.pid),g){case"pes":S=Xe.ts.parsePesType(m,s.table),w=Xe.ts.parsePayloadUnitStartIndicator(m),S==="video"&&w&&(A=Xe.ts.parsePesTime(m),A&&(A.type="video",a.video.push(A),x=!0));break}if(x)break;c-=cn,h-=cn;continue}c--,h--}},I8=function(i,s){if(i.audio&&i.audio.length){var a=s;(typeof a>"u"||isNaN(a))&&(a=i.audio[0].dts),i.audio.forEach(function(m){m.dts=Os(m.dts,a),m.pts=Os(m.pts,a),m.dtsTime=m.dts/Uo,m.ptsTime=m.pts/Uo})}if(i.video&&i.video.length){var c=s;if((typeof c>"u"||isNaN(c))&&(c=i.video[0].dts),i.video.forEach(function(m){m.dts=Os(m.dts,c),m.pts=Os(m.pts,c),m.dtsTime=m.dts/Uo,m.ptsTime=m.pts/Uo}),i.firstKeyFrame){var h=i.firstKeyFrame;h.dts=Os(h.dts,c),h.pts=Os(h.pts,c),h.dtsTime=h.dts/Uo,h.ptsTime=h.pts/Uo}}},C8=function(i){for(var s=!1,a=0,c=null,h=null,m=0,g=0,S;i.length-g>=3;){var w=Xe.aac.parseType(i,g);switch(w){case"timed-metadata":if(i.length-g<10){s=!0;break}if(m=Xe.aac.parseId3TagSize(i,g),m>i.length){s=!0;break}h===null&&(S=i.subarray(g,g+m),h=Xe.aac.parseAacTimestamp(S)),g+=m;break;case"audio":if(i.length-g<7){s=!0;break}if(m=Xe.aac.parseAdtsSize(i,g),m>i.length){s=!0;break}c===null&&(S=i.subarray(g,g+m),c=Xe.aac.parseSampleRate(S)),a++,g+=m;break;default:g++;break}if(s)return null}if(c===null||h===null)return null;var A=Uo/c,_={audio:[{type:"audio",dts:h,pts:h},{type:"audio",dts:h+a*1024*A,pts:h+a*1024*A}]};return _},_8=function(i){var s={pid:null,table:null},a={};w8(i,s);for(var c in s.table)if(s.table.hasOwnProperty(c)){var h=s.table[c];switch(h){case ZA.H264_STREAM_TYPE:a.video=[],A8(i,s,a),a.video.length===0&&delete a.video;break;case ZA.ADTS_STREAM_TYPE:a.audio=[],I_(i,s,a),a.audio.length===0&&delete a.audio;break}}return a},k8=function(i,s){var a=Xe.aac.isLikelyAacData(i),c;return a?c=C8(i):c=_8(i),!c||!c.audio&&!c.video?null:(I8(c,s),c)},P8={inspect:k8,parseAudioPes_:I_},Ah={codecs:vC,mp4:_5,flv:F5,mp2t:Dv,partial:e8};Ah.mp4.tools=o8;Ah.flv.tools=g8;Ah.mp2t.tools=P8;var L8=Ah;function N8({newData:r,setValidatorOutput:i}){const[s,a]=Sn.useState([]);Sn.useEffect(()=>{const h=[...s,...r];h.splice(0,h.length-15>0?h.length-15:0),a(h)},[r]);const c=s.map((h,m)=>{if(Object.keys(h).length>0)return Pt("p",{style:{color:h.result.valid?"green":"red"},onClick:()=>i(h),className:"query-url",children:h.url},m)});return Pt("div",{className:"data-window-wrapper",children:Pt("div",{className:"data-window",children:c})})}var jv={},M8={get exports(){return jv},set exports(r){jv=r}},R8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",b8=R8,D8=b8;function C_(){}function __(){}__.resetWarningCache=C_;var O8=function(){function r(a,c,h,m,g,S){if(S!==D8){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:__,resetWarningCache:C_};return s.PropTypes=s,s};M8.exports=O8();var U8=ti&&ti.__extends||function(){var r=function(i,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var h in c)c.hasOwnProperty(h)&&(a[h]=c[h])},r(i,s)};return function(i,s){r(i,s);function a(){this.constructor=i}i.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),qf=ti&&ti.__assign||function(){return qf=Object.assign||function(r){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(r[c]=i[c])}return r},qf.apply(this,arguments)},F8=ti&&ti.__rest||function(r,i){var s={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.indexOf(a)<0&&(s[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(r);c<a.length;c++)i.indexOf(a[c])<0&&(s[a[c]]=r[a[c]]);return s},k_=ti&&ti.__importStar||function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var s in r)Object.hasOwnProperty.call(r,s)&&(i[s]=r[s]);return i.default=r,i},Di=k_(jv),Lm=k_(Sn);function j8(r,i,s){var a=s[r+"Style"]||"",c=i&&i[r]||"";return a?a+";"+c:c}function Us(r,i,s){var a=j8(r,i,s);return a?' style="'+a+'"':""}var B8={'"':"&quot;","'":"&apos;","&":"&amp;",">":"&gt;","<":"&lt"};function z8(r){return r&&r.replace(/<|>|&|"|'/g,function(i){return B8[i]})}var V8=function(r){U8(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.render=function(){var s=this.props,a=s.json,c=s.data,h=s.replacer,m=s.space,g=s.themeClassName,S=s.theme,w=s.onJSONPrettyError,A=s.onError,_=s.silent,k=s.mainStyle,U=s.keyStyle,x=s.valueStyle,b=s.stringStyle,$=s.booleanStyle,D=s.errorStyle,R=F8(s,["json","data","replacer","space","themeClassName","theme","onJSONPrettyError","onError","silent","mainStyle","keyStyle","valueStyle","stringStyle","booleanStyle","errorStyle"]),B={mainStyle:k,keyStyle:U,valueStyle:x,stringStyle:b,booleanStyle:$,errorStyle:D},W=c||a;if(typeof W=="string")try{W=JSON.parse(W)}catch(ee){return _||console.warn("[react-json-pretty]: "+ee.message),w&&w(ee),!w&&A&&(A(ee),console.warn("JSONPretty#onError is deprecated, please use JSONPretty#onJSONPrettyError instead")),Lm.createElement("div",qf({},R,{dangerouslySetInnerHTML:{__html:'<pre class="__json-pretty-error__"'+Us("error",S,B)+">"+z8(W)+"</pre>"}}))}return Lm.createElement("div",qf({},R,{dangerouslySetInnerHTML:{__html:'<pre class="'+g+'"'+Us("main",S,B)+">"+this._pretty(S,W,h,+m,B)+"</pre>"}}))},i.prototype._pretty=function(s,a,c,h,m){var g=/^( *)("[^"]+": )?("[^"]*"|[\w.+-]*)?([,[{]|\[\s*\],?|\{\s*\},?)?$/mg,S=JSON.stringify(a,typeof c=="function"?c:null,isNaN(h)?2:h);return S&&S.replace(/&/g,"&amp;").replace(/\\"([^,])/g,"\\&quot;$1").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(g,this._replace.bind(null,s,m))},i.prototype._replace=function(s,a,c,h,m,g,S){var w="</span>",A='<span class="__json-key__"'+Us("key",s,a)+">",_='<span class="__json-value__"'+Us("value",s,a)+">",k='<span class="__json-string__"'+Us("string",s,a)+">",U='<span class="__json-boolean__"'+Us("boolean",s,a)+">",x=h||"";return m&&(x=x+'"'+A+m.replace(/^"|":\s$/g,"")+w+'": '),g&&(g==="true"||g==="false"?x=x+U+g+w:x=x+(g[0]==='"'?k:_)+g+w),x+(S||"")},i.propTypes={data:Di.any,json:Di.any,replacer:Di.func,silent:Di.bool,space:Di.oneOfType([Di.number,Di.string]),theme:Di.object,themeClassName:Di.string,onJSONPrettyError:Di.func},i.defaultProps={data:"",json:"",silent:!0,space:2,themeClassName:"__json-pretty__"},i}(Lm.Component),G8=V8,H8={main:"line-height:1.3;color:#f5bb12;background:#1e1e1e;overflow:auto;",error:"line-height:1.3;color:#f5bb12;background:#1e1e1e;overflow:auto;",key:"color:#d3422e;",string:"color:#7fd6fa;",value:"color:#bfd7db;",boolean:"color:#4bae16;"};function K8({output:r}){return Pt("div",{children:Pt("div",{className:"validatorBox",children:Pt(G8,{id:"json-pretty",theme:H8,data:r.result})})})}const Ze={number:"number",boolean:"boolean",token:"token",string:"string"},Si={br:Ze.number,bl:Ze.number,bs:Ze.boolean,cid:Ze.string,d:Ze.number,dl:Ze.number,mtp:Ze.number,nor:Ze.string,nrr:Ze.string,ot:Ze.token,pr:Ze.number,rtp:Ze.number,sf:Ze.token,sid:Ze.string,st:Ze.token,su:Ze.boolean,tb:Ze.number,v:Ze.number},Bt={noCMCDRequest:"no-CMCD-request",unknownKey:"unknown-key",invalidValue:"invalid-value",wrongTypeValue:"wrong-type-value",incorrectFormat:"incorrect-format",parameterEncoding:"parameter-encoding",missingKey:"missing-key",invalidHeader:"invalid-header",invalidJson:"invalid-json",duplicateKey:"duplicate-key",duplicatedHeader:"duplicated-header",noHeader:"no-header",emptyHeader:"empty-header",unnecessaryKey:"unnecessary-key"},W8={noCMCDRequest:"No CMCD request found",unknownKey:"Key is not part of reserved keys",invalidValue:"Value does not meet requirements",wrongTypeValue:"Value type is incorrect",incorrectFormat:"Format is incorrect",parameterEncoding:"Parameter is not encoded",missingKey:"Key is missing",invalidHeader:"Header is not valid",invalidJson:"Json format is not valid",duplicateKey:"Key/Keys are not unique",duplicatedHeader:"Header is duplicated",noHeader:"There is no CMCD headers.",emptyHeader:"There is a header with no content",unnecessaryKey:"This key must not be sent with the current value",duplicateHeader:"Header is duplicated"},$8=(r,i)=>Object.keys(r).find(s=>r[s]===i),rn=(r,i,s)=>{if(!Object.values(Bt).includes(r))return-1;const a=$8(Bt,r);return{type:r,key:i,value:s,description:W8[a]}};function q8(r,i){var s=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(s!=null){var a,c,h,m,g=[],S=!0,w=!1;try{if(h=(s=s.call(r)).next,i===0){if(Object(s)!==s)return;S=!1}else for(;!(S=(a=h.call(s)).done)&&(g.push(a.value),g.length!==i);S=!0);}catch(A){w=!0,c=A}finally{try{if(!S&&s.return!=null&&(m=s.return(),Object(m)!==m))return}finally{if(w)throw c}}return g}}function P_(r,i){return X8(r)||q8(r,i)||Y8(r,i)||Q8()}function X8(r){if(Array.isArray(r))return r}function Y8(r,i){if(r){if(typeof r=="string")return eI(r,i);var s=Object.prototype.toString.call(r).slice(8,-1);if(s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set")return Array.from(r);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eI(r,i)}}function eI(r,i){(i==null||i>r.length)&&(i=r.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=r[s];return a}function Q8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}const Nm=r=>r.indexOf('"')===0&&r.lastIndexOf('"')===r.length-1,J8=(r,i)=>{if(decodeURI(r)===r)return i.push(rn(Bt.parameterEncoding)),!1;const s=r.split("?").pop(),a=decodeURIComponent(s).split("CMCD=");if(a.shift(),a.length>1)return i.push(rn(Bt.incorrectFormat)),!1;let c;try{c=decodeURIComponent(s).split("CMCD=")[1].split("&")[0].split(",")}catch{return i.push(rn(Bt.noCMCDRequest)),!1}const h=[];let m=!0;return c.forEach(g=>{const S=g.split("="),w=P_(S,2),A=w[0],_=w[1];h.push(A),(Si[A]===Ze.string&&!Nm(_)||Si[A]===Ze.token&&Nm(_))&&(m=!1,i.push(rn(Bt.invalidValue,A,_))),(typeof _>"u"&&Si[A]!==Ze.boolean||_==="true"&&Si[A]===Ze.boolean||Si[A]===Ze.number&&Nm(_))&&(m=!1,i.push(rn(Bt.wrongTypeValue,A,_)))}),new Set(h).size!==h.length?(i.push(rn(Bt.duplicateKey)),!1):m},tI=(r,i,s)=>{s.length>64&&r.push(rn(Bt.invalidValue,i,s))},Z8=(r,i,s)=>{decodeURIComponent(s)===s&&r.push(rn(Bt.parameterEncoding,i,s))},eF=(r,i,s)=>{!/^(\d*-\d*)$/.test(s)&&!/^\d*-$/.test(s)&&!/^-\d*$/.test(s)&&r.push(rn(Bt.incorrectFormat,i,s))},e1=(r,i,s,a)=>{a.includes(s)||r.push(rn(Bt.invalidValue,i,s))},Yd=(r,i,s,a,c)=>{s%a!==0&&r.push(rn(Bt.invalidValue,i,s))},tF=(r,i,s,a)=>{s===a&&r.push(rn(Bt.unnecessaryKey,i,s))},nF=(r,i,s)=>{i in Si||r.push(rn(Bt.unknownKey,i,s))},iF=(r,i,s)=>{Si[i]===Ze.number&&s<0&&r.push(rn(Bt.invalidValue,i,s))},rF=(r,i,s,a)=>{"ot"in r||i.push(rn(Bt.invalidValue,s,a))},oF=(r,i,s)=>{typeof s!==Si[i]&&Si[i]===Ze.token&&typeof s!==Ze.string&&r.push(rn(Bt.wrongTypeValue,i,s))},sF=(r,i,s)=>{e1(r,i,s,["m","a","v","av","i","c","tt","k","o"])},uF=(r,i,s)=>{e1(r,i,s,["d","h","s","o"])},aF=(r,i,s)=>{e1(r,i,s,["v","l"])},lF=(r,i)=>{Object.keys(r).forEach(s=>{const a=r[s];switch(nF(i,s),oF(i,s,a),iF(i,s,a),s){case"bl":Yd(i,s,a,100),rF(r,i,s,a);break;case"cid":tI(i,s,a);break;case"dl":Yd(i,s,a,100);break;case"mtp":Yd(i,s,a,100);break;case"nor":Z8(i,s,a);break;case"nrr":eF(i,s,a);break;case"ot":sF(i,s,a);break;case"rtp":Yd(i,s,a,100);break;case"sf":uF(i,s,a);break;case"sid":tI(i,s,a);break;case"st":aF(i,s,a);break;case"su":tF(i,s,a,!1);break}})},cF=r=>{const i=decodeURIComponent(r).split("CMCD=")[1].split("&")[0].split(","),s={};return i.forEach(a=>{const c=a.split("="),h=P_(c,2),m=h[0],g=h[1];Si[m]===Ze.number?s[m]=parseInt(g,10):Si[m]===Ze.boolean?s[m]=g!=="false":s[m]=g.replaceAll('"',"")}),s},nI=(r,i,s)=>({valid:r.length===0,errors:r,parsedData:s,rawData:i}),dF=r=>{const i=[],s=r;if(!J8(r,i))return nI(i,s);const c=cF(r);return lF(c,i),nI(i,s,c)};function fF(){window.muxjs=L8;const r=Sn.useRef(null),[i,s]=Sn.useState([{}]),[a,c]=Sn.useState(""),[h,m]=Sn.useState("https://demo.unified-streaming.com/k8s/live/stable/scte35-no-splicing.isml/.mpd");return za(yD,{children:[za("div",{className:"mb-4 contet input-group d-flex justify-content-center",children:[Pt("input",{className:"text ms-2",placeholder:"Manifest URL",onChange:w=>{m(w.target.value)}}),Pt("button",{className:"btn btn-primary",onClick:()=>{const{player:w,ui:A,videoElement:_}=r.current;w.configure({cmcd:{contentId:"testContentId",enabled:!0,sessionId:"testSessionId",useHeaders:!1}}),w.getNetworkingEngine().registerRequestFilter((x,b)=>{const $=[{}],D=[...new Set(b.uris)];for(const R of D)$.push({url:R,result:dF(R)});s($)});async function U(){try{await w.load(h)}catch(x){console.log(x)}_.play()}U()},children:"Start Shaka"})]}),za("div",{className:"row",children:[za("div",{className:"col-6",children:[Pt("div",{className:"col-12 mb-4",children:Pt(DU,{ref:r})}),Pt(K8,{output:a})]}),Pt("div",{className:"col-6",children:Pt(N8,{newData:i,setValidatorOutput:c})})]})]})}function hF(){return Sn.useState(0),za("div",{className:"App",children:[Pt("div",{children:Pt("a",{href:"https://montevideotech.dev/",target:"_blank",children:Pt("img",{href:"https://montevideotech.dev/",src:"https://montevideotech.dev/wp-content/uploads/2020/09/mvd-tech-1.png",className:"p-0 m-0 logo",alt:"MontevideoTech logo",style:{fontSize:"30px"}})})}),Pt("div",{children:Pt(fF,{})})]})}Mm.createRoot(document.getElementById("root")).render(Pt(dD.StrictMode,{children:Pt(hF,{})}));
